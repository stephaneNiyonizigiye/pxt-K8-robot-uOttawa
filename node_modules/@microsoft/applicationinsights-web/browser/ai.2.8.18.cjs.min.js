/*!
 * Application Insights JavaScript SDK - Web, 2.8.18
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
"use strict";!function(e,t,n){var _=Object.defineProperty;if(_)try{return _(e,t,n)}catch(r){}typeof n.value!==undefined&&(e[t]=n.value)}(exports,"__esModule",{value:!0});var strShimFunction="function",strShimObject="object",strShimUndefined="undefined",strShimPrototype="prototype",strShimHasOwnProperty="hasOwnProperty",ObjClass=Object,ObjProto=ObjClass[strShimPrototype],ObjAssign=ObjClass.assign,ObjCreate=ObjClass.create,ObjDefineProperty=ObjClass.defineProperty,ObjHasOwnProperty=ObjProto[strShimHasOwnProperty],_cachedGlobal=null;function getGlobal(e){e=!1===(e=void 0===e||e)?null:_cachedGlobal;return e||((e=(e=(e=typeof globalThis!==strShimUndefined?globalThis:e)||typeof self===strShimUndefined?e:self)||typeof window===strShimUndefined?e:window)||typeof global===strShimUndefined||(e=global),_cachedGlobal=e),e}function throwTypeError(e){throw new TypeError(e)}function objCreateFn(e){if(ObjCreate)return ObjCreate(e);if(null==e)return{};var t=typeof e;function n(){}return t!==strShimObject&&t!==strShimFunction&&throwTypeError("Object prototype may only be an Object:"+e),n[strShimPrototype]=e,new n}(getGlobal()||{}).Symbol,(getGlobal()||{}).Reflect;var __objAssignFnImpl=function(e){for(var t,n=1,_=arguments.length;n<_;n++)for(var r in t=arguments[n])ObjProto[strShimHasOwnProperty].call(t,r)&&(e[r]=t[r]);return e},__assignFn=ObjAssign||__objAssignFnImpl,extendStaticsFn=function(e,t){return(extendStaticsFn=ObjClass.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[strShimHasOwnProperty](n)&&(e[n]=t[n])})(e,t)};function __extendsFn(e,t){function n(){this.constructor=e}typeof t!==strShimFunction&&null!==t&&throwTypeError("Class extends value "+t+" is not a constructor or null"),extendStaticsFn(e,t),e[strShimPrototype]=null===t?objCreateFn(t):(n[strShimPrototype]=t[strShimPrototype],new n)}function __spreadArrayFn(e,t){for(var n=0,_=t.length,r=e.length;n<_;n++,r++)e[r]=t[n];return e}var _DYN_INITIALIZE="initialize",_DYN_NAME$3="name",_DYN_GET_NOTIFY_MGR="getNotifyMgr",_DYN_IDENTIFIER="identifier",_DYN_PUSH$2="push",_DYN_IS_INITIALIZED="isInitialized",_DYN_CONFIG$2="config",_DYN_INSTRUMENTATION_KEY$2="instrumentationKey",_DYN_LOGGER="logger",_DYN_LENGTH$5="length",_DYN_TIME="time",_DYN_PROCESS_NEXT="processNext",_DYN_GET_PROCESS_TEL_CONT0="getProcessTelContext",_DYN_ADD_NOTIFICATION_LIS1="addNotificationListener",_DYN_REMOVE_NOTIFICATION_2="removeNotificationListener",_DYN_STOP_POLLING_INTERNA3="stopPollingInternalLogs",_DYN_ON_COMPLETE="onComplete",_DYN_GET_PLUGIN="getPlugin",_DYN_FLUSH="flush",_DYN__EXTENSIONS="_extensions",_DYN_SPLICE="splice",_DYN_TEARDOWN="teardown",_DYN_MESSAGE_ID="messageId",_DYN_MESSAGE$2="message",_DYN_IS_ASYNC="isAsync",_DYN__DO_TEARDOWN="_doTeardown",_DYN_UPDATE$1="update",_DYN_GET_NEXT="getNext",_DYN_DIAG_LOG$2="diagLog",_DYN_SET_NEXT_PLUGIN="setNextPlugin",_DYN_CREATE_NEW="createNew",_DYN_COOKIE_CFG="cookieCfg",_DYN_INDEX_OF$2="indexOf",_DYN_SUBSTRING$1="substring",_DYN_USER_AGENT="userAgent",_DYN_SPLIT$1="split",_DYN_SET_ENABLED="setEnabled",_DYN_SUBSTR="substr",_DYN_NODE_TYPE="nodeType",_DYN_APPLY="apply",_DYN_REPLACE="replace",_DYN_ENABLE_DEBUG_EXCEPTI4="enableDebugExceptions",_DYN_LOG_INTERNAL_MESSAGE="logInternalMessage",_DYN_TO_LOWER_CASE$2="toLowerCase",_DYN_CALL="call",_DYN_TYPE="type",_DYN_HANDLER="handler",_DYN_LISTENERS="listeners",_DYN_IS_CHILD_EVT="isChildEvt",_DYN_GET_CTX="getCtx",_DYN_SET_CTX="setCtx",_DYN_COMPLETE="complete",_DYN_TRACE_ID$2="traceId",_DYN_SPAN_ID$1="spanId",_DYN_TRACE_FLAGS$1="traceFlags",_DYN_VERSION$1="version",STR_EMPTY="",STR_CHANNELS="channels",STR_CORE="core",STR_CREATE_PERF_MGR="createPerfMgr",STR_DISABLED="disabled",STR_EXTENSION_CONFIG="extensionConfig",STR_EXTENSIONS="extensions",STR_PROCESS_TELEMETRY="processTelemetry",STR_PRIORITY="priority",STR_EVENTS_SENT="eventsSent",STR_EVENTS_DISCARDED="eventsDiscarded",STR_EVENTS_SEND_REQUEST="eventsSendRequest",STR_PERF_EVENT="perfEvent",STR_ERROR_TO_CONSOLE="errorToConsole",STR_WARN_TO_CONSOLE="warnToConsole",STR_GET_PERF_MGR="getPerfMgr",strToISOString="toISOString",cStrEndsWith="endsWith",strIndexOf="indexOf",strMap="map",strReduce="reduce",cStrTrim="trim",strToString="toString",str__Proto$1="__proto__",strConstructor="constructor",_objDefineProperty$1=ObjDefineProperty,_objFreeze=ObjClass.freeze,_objKeys=ObjClass.keys,StringProto=String[strShimPrototype],_strTrim=StringProto[cStrTrim],_strEndsWith=StringProto[cStrEndsWith],DateProto=Date[strShimPrototype],_dataToISOString=DateProto[strToISOString],_isArray=Array.isArray,_objToString=ObjProto[strToString],_fnToString=ObjHasOwnProperty[strToString],_objFunctionString=_fnToString[_DYN_CALL](ObjClass),rCamelCase=/-([a-z])/g,rNormalizeInvalid=/([^\w\d_$])/g,rLeadingNumeric=/^(\d+[\w\d_$])/,_objGetPrototypeOf$1=Object.getPrototypeOf;function _getObjProto$1(e){if(e){if(_objGetPrototypeOf$1)return _objGetPrototypeOf$1(e);e=e[str__Proto$1]||e[strShimPrototype]||e[strConstructor];if(e)return e}return null}function isTypeof(e,t){return typeof e===t}function isUndefined(e){return e===undefined||typeof e===strShimUndefined}function isNullOrUndefined(e){return null===e||isUndefined(e)}function isNotNullOrUndefined(e){return!isNullOrUndefined(e)}function hasOwnProperty(e,t){return!(!e||!ObjHasOwnProperty[_DYN_CALL](e,t))}function isObject(e){return!(!e||typeof e!==strShimObject)}function isFunction(e){return!(!e||typeof e!==strShimFunction)}function normalizeJsName(e){return e&&isString(e)?(e=(e=e[_DYN_REPLACE](rCamelCase,function(e,t){return t.toUpperCase()}))[_DYN_REPLACE](rNormalizeInvalid,"_"))[_DYN_REPLACE](rLeadingNumeric,function(e,t){return"_"+t}):e}function objForEachKey(e,t){if(e)for(var n in e)ObjHasOwnProperty[_DYN_CALL](e,n)&&t[_DYN_CALL](e,n,e[n])}function strEndsWith(e,t){var n=!1;return e&&t&&!(n=e===t)?_strEndsWith?e[cStrEndsWith](t):_strEndsWithPoly(e,t):n}function _strEndsWithPoly(e,t){var n=!1,_=t?t[_DYN_LENGTH$5]:0,r=e?e[_DYN_LENGTH$5]:0;if(_&&r&&_<=r&&!(n=e===t)){for(var i=r-1,a=_-1;0<=a;a--){if(e[i]!=t[a])return!1;i--}n=!0}return n}function strContains(e,t){return!(!e||!t)&&-1!==e[_DYN_INDEX_OF$2](t)}function isDate(e){return!(!e||"[object Date]"!==_objToString[_DYN_CALL](e))}var isArray=_isArray||_isArrayPoly;function _isArrayPoly(e){return!(!e||"[object Array]"!==_objToString[_DYN_CALL](e))}function isError(e){return!(!e||"[object Error]"!==_objToString[_DYN_CALL](e))}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function isBoolean(e){return"boolean"==typeof e}function isPlainObject(e){return!(!e||"object"!=typeof e)&&(!(e=(_objGetPrototypeOf$1||_getObjProto$1)(e))||typeof(e=e[strConstructor]&&ObjHasOwnProperty[_DYN_CALL](e,strConstructor)?e[strConstructor]:e)===strShimFunction&&_fnToString[_DYN_CALL](e)===_objFunctionString)}function toISOString(e){if(e)return _dataToISOString?e[strToISOString]():_toISOStringPoly(e)}function _toISOStringPoly(e){var t;if(e&&e.getUTCFullYear)return t=function(e){e=""+e;return 1===e[_DYN_LENGTH$5]?"0"+e:e},e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}function arrForEach(e,t,n){var _=e[_DYN_LENGTH$5];try{for(var r=0;r<_&&!(r in e&&-1===t[_DYN_CALL](n||e,e[r],r,e));r++);}catch(i){}}function arrIndexOf(e,t,n){if(e){if(e[strIndexOf])return e[strIndexOf](t,n);var _=e[_DYN_LENGTH$5],n=n||0;try{for(var r=Math.max(0<=n?n:_-Math.abs(n),0);r<_;r++)if(r in e&&e[r]===t)return r}catch(i){}}return-1}function arrMap(e,t,n){if(e){if(e[strMap])return e[strMap](t,n);var _=e[_DYN_LENGTH$5],r=n||e,i=Array(_);try{for(var a=0;a<_;a++)a in e&&(i[a]=t[_DYN_CALL](r,e[a],e))}catch(o){}}return i}function arrReduce(e,t,n){var _;if(e){if(e[strReduce])return e[strReduce](t,n);var r=e[_DYN_LENGTH$5],i=0;if(3<=arguments[_DYN_LENGTH$5])_=n;else{for(;i<r&&!(i in e);)i++;_=e[i++]}for(;i<r;)i in e&&(_=t(_,e[i],i,e)),i++}return _}function strTrim(e){return e&&(_strTrim&&e[cStrTrim]?e[cStrTrim]():e[_DYN_REPLACE]?e[_DYN_REPLACE](/^\s+|(?=\s)\s+$/g,STR_EMPTY):e)}var _objKeysHasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),_objKeysDontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function objKeys(e){var t=typeof e;if(t===strShimFunction||t===strShimObject&&null!==e||throwTypeError("objKeys called on non-object"),!_objKeysHasDontEnumBug&&_objKeys)return _objKeys(e);var n,_=[];for(n in e)e&&ObjHasOwnProperty[_DYN_CALL](e,n)&&_[_DYN_PUSH$2](n);if(_objKeysHasDontEnumBug)for(var r=_objKeysDontEnums[_DYN_LENGTH$5],i=0;i<r;i++)e&&ObjHasOwnProperty[_DYN_CALL](e,_objKeysDontEnums[i])&&_[_DYN_PUSH$2](_objKeysDontEnums[i]);return _}function objDefineAccessors(e,t,n,_){if(_objDefineProperty$1)try{var r={enumerable:!0,configurable:!0};return n&&(r.get=n),_&&(r.set=_),_objDefineProperty$1(e,t,r),!0}catch(i){}return!1}function _doNothing(e){return e}function deepFreeze(e){return _objFreeze&&objForEachKey(e,function(e,t){(isArray(t)||isObject(t))&&_objFreeze(t)}),objFreeze(e)}var _a$3,objFreeze=_objFreeze||_doNothing;function dateNow(){var e=Date;return e.now?e.now():(new e).getTime()}function getExceptionName(e){return isError(e)?e[_DYN_NAME$3]:STR_EMPTY}function setValue(e,t,n,_,r){var i=n;return!e||(i=e[t])===n||r&&!r(i)||_&&!_(n)||(e[t]=i=n),i}function getSetValue(e,t,n){var _;return e?!(_=e[t])&&isNullOrUndefined(_)&&(_=isUndefined(n)?{}:n,e[t]=_):_=isUndefined(n)?{}:n,_}function getCfgValue(e,t){return isNullOrUndefined(e)?t:e}function isTruthy(e){return!!e}function throwError(e){throw Error(e)}function _createProxyFunction(e,t){var n=null,_=null;return isFunction(e)?n=e:_=e,function(){var e=arguments;if(_=n?n():_)return _[t][_DYN_APPLY](_,e)}}function proxyAssign(n,_,r){if(n&&_&&isObject(n)&&isObject(_))for(var e in _)!function(t){var e;isString(t)&&(isFunction(e=_[t])?r&&!r(t,!0,_,n)||(n[t]=_createProxyFunction(_,t)):r&&!r(t,!1,_,n)||(hasOwnProperty(n,t)&&delete n[t],objDefineAccessors(n,t,function(){return _[t]},function(e){_[t]=e})||(n[t]=e)))}(e);return n}function proxyFunctionAs(e,t,n,_,r){e&&t&&n&&(!1===r&&!isUndefined(e[t])||(e[t]=_createProxyFunction(n,_)))}function proxyFunctions(t,n,e,_){return t&&n&&isObject(t)&&isArray(e)&&arrForEach(e,function(e){isString(e)&&proxyFunctionAs(t,e,n,e,_)}),t}function createClassFromInterface(e){return function(){var n=this;e&&objForEachKey(e,function(e,t){n[e]=t})}}function optimizeObject(e){return e&&ObjAssign?ObjClass(ObjAssign({},e)):e}function objExtend(e,t,n,_,r,i){var a=arguments,o=a[0]||{},s=a[_DYN_LENGTH$5],E=!1,N=1;for(0<s&&isBoolean(o)&&(E=o,o=a[N]||{},N++),isObject(o)||(o={});N<s;N++){var u,c,D,T,l=a[N],S=isArray(l),d=isObject(l);for(u in l)(S&&u in l||d&&ObjHasOwnProperty[_DYN_CALL](l,u))&&(c=l[u],D=void 0,E&&c&&((D=isArray(c))||isPlainObject(c))&&(T=o[u],D?isArray(T)||(T=[]):isPlainObject(T)||(T={}),c=objExtend(E,T,c)),c!==undefined&&(o[u]=c))}return o}function createEnumStyle(e){var n={};return objForEachKey(e,function(e,t){n[e]=t,n[t]=e}),deepFreeze(n)}function createValueMap(e){var n={};return objForEachKey(e,function(e,t){n[e]=t[1],n[t[0]]=t[1]}),deepFreeze(n)}var UNDEFINED="undefined",Constructor="constructor",Prototype="prototype",strFunction="function",DynInstFuncTable="_dynInstFuncs",DynProxyTag="_isDynProxy",DynClassName="_dynClass",DynClassNamePrefix="_dynCls$",DynInstChkTag="_dynInstChk",DynAllowInstChkTag=DynInstChkTag,DynProtoDefaultOptions="_dfOpts",UnknownValue="_unknown_",str__Proto="__proto__",DynProtoBaseProto="_dyn"+str__Proto,DynProtoGlobalSettings="__dynProto$Gbl",DynProtoCurrent="_dynInstProto",strUseBaseInst="useBaseInst",strSetInstFuncs="setInstFuncs",Obj=Object,_objGetPrototypeOf=Obj.getPrototypeOf,_objGetOwnProps=Obj.getOwnPropertyNames;function _getGlobal(){var e;return((e=(e=(e=typeof globalThis!==UNDEFINED?globalThis:e)||typeof self===UNDEFINED?e:self)||typeof window===UNDEFINED?e:window)||typeof global===UNDEFINED?e:global)||{}}var _gbl=_getGlobal(),_gblInst=_gbl[DynProtoGlobalSettings]||(_gbl[DynProtoGlobalSettings]={o:((_a$3={})[strSetInstFuncs]=!0,_a$3[strUseBaseInst]=!0,_a$3),n:1e3});function _hasOwnProperty(e,t){return e&&Obj[Prototype].hasOwnProperty.call(e,t)}function _isObjectOrArrayPrototype(e){return e&&(e===Obj[Prototype]||e===Array[Prototype])}function _isObjectArrayOrFunctionPrototype(e){return _isObjectOrArrayPrototype(e)||e===Function[Prototype]}function _getObjProto(e){if(e){if(_objGetPrototypeOf)return _objGetPrototypeOf(e);var t=e[str__Proto]||e[Prototype]||(e[Constructor]?e[Constructor][Prototype]:null),n=e[DynProtoBaseProto]||t;_hasOwnProperty(e,DynProtoBaseProto)||(delete e[DynProtoCurrent],n=e[DynProtoBaseProto]=e[DynProtoCurrent]||e[DynProtoBaseProto],e[DynProtoCurrent]=t)}return n}function _forEachProp(e,t){var n=[];if(_objGetOwnProps)n=_objGetOwnProps(e);else for(var _ in e)"string"==typeof _&&_hasOwnProperty(e,_)&&n.push(_);if(n&&0<n.length)for(var r=0;r<n.length;r++)t(n[r])}function _isDynamicCandidate(e,t,n){return t!==Constructor&&typeof e[t]===strFunction&&(n||_hasOwnProperty(e,t))&&t!==str__Proto&&t!==Prototype}function _throwTypeError(e){throw new TypeError("DynamicProto: "+e)}function _newObject(){return Object.create&&(e=Object.create)?e(null):{};var e}function _getInstanceFuncs(t){var n=_newObject();return _forEachProp(t,function(e){!n[e]&&_isDynamicCandidate(t,e,!1)&&(n[e]=t[e])}),n}function _hasVisited(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return!0;return!1}function _getBaseFuncs(e,t,n,i){function _(e,t,n){var _,r=t[n];return r[DynProxyTag]&&i&&!1!==(_=e[DynInstFuncTable]||{})[DynAllowInstChkTag]&&(r=(_[t[DynClassName]]||{})[n]||r),function(){return r.apply(e,arguments)}}for(var r=_newObject(),a=(_forEachProp(n,function(e){r[e]=_(t,n,e)}),_getObjProto(e)),o=[];a&&!_isObjectArrayOrFunctionPrototype(a)&&!_hasVisited(o,a);)_forEachProp(a,function(e){!r[e]&&_isDynamicCandidate(a,e,!_objGetPrototypeOf)&&(r[e]=_(t,a,e))}),o.push(a),a=_getObjProto(a);return r}function _getInstFunc(e,t,n,_){var r=null;if(e&&_hasOwnProperty(n,DynClassName)){var i=e[DynInstFuncTable]||_newObject();if((r=(i[n[DynClassName]]||_newObject())[t])||_throwTypeError("Missing ["+t+"] "+strFunction),!r[DynInstChkTag]&&!1!==i[DynAllowInstChkTag]){for(var a=!_hasOwnProperty(e,t),o=_getObjProto(e),s=[];a&&o&&!_isObjectArrayOrFunctionPrototype(o)&&!_hasVisited(s,o);){var E=o[t];if(E){a=E===_;break}s.push(o),o=_getObjProto(o)}try{a&&(e[t]=r),r[DynInstChkTag]=1}catch(N){i[DynAllowInstChkTag]=!1}}}return r}function _getProtoFunc(e,t,n){var _=t[e];return typeof(_=_===n?_getObjProto(t)[e]:_)!==strFunction&&_throwTypeError("["+e+"] is not a "+strFunction),_}function _populatePrototype(r,e,i,a,t){var n,o;_isObjectOrArrayPrototype(r)||_isObjectOrArrayPrototype(n=i[DynInstFuncTable]=i[DynInstFuncTable]||_newObject())||(o=n[e]=n[e]||_newObject(),!1!==n[DynAllowInstChkTag]&&(n[DynAllowInstChkTag]=!!t),_isObjectOrArrayPrototype(o)||_forEachProp(i,function(e){var t,n,_;_isDynamicCandidate(i,e,!1)&&i[e]!==a[e]&&(o[e]=i[e],delete i[e],_hasOwnProperty(r,e)&&(!r[e]||r[e][DynProxyTag])||(r[e]=(t=r,n=e,(_=function(){return(_getInstFunc(this,n,t,_)||_getProtoFunc(n,t,_)).apply(this,arguments)})[DynProxyTag]=1,_)))}))}function _checkPrototype(e,t){if(_objGetPrototypeOf){for(var n=[],_=_getObjProto(t);_&&!_isObjectArrayOrFunctionPrototype(_)&&!_hasVisited(n,_);){if(_===e)return!0;n.push(_),_=_getObjProto(_)}return!1}return!0}function _getObjName(e,t){return _hasOwnProperty(e,Prototype)?e.name||t||UnknownValue:((e||{})[Constructor]||{}).name||t||UnknownValue}function dynamicProto(e,t,n,_){_hasOwnProperty(e,Prototype)||_throwTypeError("theClass is an invalid class definition.");var r=e[Prototype],i=(_checkPrototype(r,t)||_throwTypeError("["+_getObjName(e)+"] not in hierarchy of ["+_getObjName(t)+"]"),null),e=(_hasOwnProperty(r,DynClassName)?i=r[DynClassName]:(i=DynClassNamePrefix+_getObjName(e,"_")+"$"+_gblInst.n,_gblInst.n++,r[DynClassName]=i),dynamicProto[DynProtoDefaultOptions]),a=!!e[strUseBaseInst],o=(a&&_&&_[strUseBaseInst]!==undefined&&(a=!!_[strUseBaseInst]),_getInstanceFuncs(t)),a=(n(t,_getBaseFuncs(r,t,o,a)),!!_objGetPrototypeOf&&!!e[strSetInstFuncs]);_populatePrototype(r,i,t,o,!1!==(a=a&&_?!!_[strSetInstFuncs]:a))}dynamicProto[DynProtoDefaultOptions]=_gblInst.o;var strWindow="window",strDocument="document",strDocumentMode="documentMode",strNavigator="navigator",strHistory="history",strLocation="location",strConsole="console",strPerformance="performance",strJSON="JSON",strCrypto="crypto",strMsCrypto="msCrypto",strReactNative="ReactNative",strMsie="msie",strTrident="trident/",strXMLHttpRequest="XMLHttpRequest",_isTrident=null,_navUserAgentCheck=null,_enableMocks=!1,_useXDomainRequest=null,_beaconsSupported=null;function _hasProperty(e,t){var n,_=!1;if(e){try{(_=t in e)||(n=e[strShimPrototype])&&(_=t in n)}catch(r){}if(!_)try{_=!isUndefined((new e)[t])}catch(r){}}return _}function getGlobalInst(e){var t=getGlobal();return t&&t[e]?t[e]:e===strWindow&&hasWindow()?window:null}function hasWindow(){return!(typeof window!==strShimObject||!window)}function getWindow(){return hasWindow()?window:getGlobalInst(strWindow)}function hasDocument(){return!(typeof document!==strShimObject||!document)}function getDocument(){return hasDocument()?document:getGlobalInst(strDocument)}function hasNavigator(){return!(typeof navigator!==strShimObject||!navigator)}function getNavigator(){return hasNavigator()?navigator:getGlobalInst(strNavigator)}function hasHistory(){return!(typeof history!==strShimObject||!history)}function getHistory(){return hasHistory()?history:getGlobalInst(strHistory)}function getLocation(e){if(e&&_enableMocks){e=getGlobalInst("__mockLocation");if(e)return e}return typeof location===strShimObject&&location?location:getGlobalInst(strLocation)}function getConsole(){return typeof console!==strShimUndefined?console:getGlobalInst(strConsole)}function getPerformance(){return getGlobalInst(strPerformance)}function hasJSON(){return!!(typeof JSON===strShimObject&&JSON||null!==getGlobalInst(strJSON))}function getJSON(){return hasJSON()?JSON||getGlobalInst(strJSON):null}function getCrypto(){return getGlobalInst(strCrypto)}function getMsCrypto(){return getGlobalInst(strMsCrypto)}function isReactNative(){var e=getNavigator();return!(!e||!e.product)&&e.product===strReactNative}function isIE(){var e=getNavigator();return!e||e[_DYN_USER_AGENT]===_navUserAgentCheck&&null!==_isTrident||(e=((_navUserAgentCheck=e[_DYN_USER_AGENT])||STR_EMPTY)[_DYN_TO_LOWER_CASE$2](),_isTrident=strContains(e,strMsie)||strContains(e,strTrident)),_isTrident}function getIEVersion(e){var t=((e=(e=void 0===e?null:e)?e:(t=getNavigator()||{})?(t[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE$2]():STR_EMPTY)||STR_EMPTY)[_DYN_TO_LOWER_CASE$2]();if(strContains(t,strMsie))return e=getDocument()||{},Math.max(parseInt(t[_DYN_SPLIT$1](strMsie)[1]),e[strDocumentMode]||0);if(strContains(t,strTrident)){e=parseInt(t[_DYN_SPLIT$1](strTrident)[1]);if(e)return e+4}return null}function dumpObj(e){var t=Object[strShimPrototype].toString[_DYN_CALL](e),n=STR_EMPTY;return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e[_DYN_NAME$3]+"'":hasJSON()&&(n=getJSON().stringify(e)),t+n}function isBeaconsSupported(){return _beaconsSupported=null===_beaconsSupported?hasNavigator()&&!!getNavigator().sendBeacon:_beaconsSupported}function isFetchSupported(e){var t=!1;try{var t=!!getGlobalInst("fetch"),n=getGlobalInst("Request");t&&e&&n&&(t=_hasProperty(n,"keepalive"))}catch(_){}return t}function useXDomainRequest(){return _useXDomainRequest=null===_useXDomainRequest&&(_useXDomainRequest=typeof XDomainRequest!==strShimUndefined)&&isXhrSupported()?_useXDomainRequest&&!_hasProperty(getGlobalInst(strXMLHttpRequest),"withCredentials"):_useXDomainRequest}function isXhrSupported(){var e=!1;try{e=!!getGlobalInst(strXMLHttpRequest)}catch(t){}return e}function _getNamedValue(e,t){if(e)for(var n=0;n<e[_DYN_LENGTH$5];n++){var _=e[n];if(_[_DYN_NAME$3]&&_[_DYN_NAME$3]===t)return _}return{}}function findMetaTag(e){var t=getDocument();return t&&e?_getNamedValue(t.querySelectorAll("meta"),e).content:null}function findNamedServerTiming(e){var t=getPerformance();return t?_getNamedValue((0<(t=t.getEntriesByType("navigation")||[])[_DYN_LENGTH$5]?t[0]:{}).serverTiming,e).description:void 0}var _debugListener,listenerFuncs=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],_aiNamespace=null;function _listenerProxyFunc(n,_){return function(){var e=arguments,t=getDebugExt(_);t&&(t=t.listener)&&t[n]&&t[n][_DYN_APPLY](t,e)}}function _getExtensionNamespace(){var e=getGlobalInst("Microsoft");return _aiNamespace=e?e.ApplicationInsights:_aiNamespace}function getDebugExt(e){var t=_aiNamespace;return(t=t||!0===e.disableDbgExt?t:_aiNamespace||_getExtensionNamespace())?t.ChromeDbgExt:null}function getDebugListener(e){if(!_debugListener){_debugListener={};for(var t=0;t<listenerFuncs[_DYN_LENGTH$5];t++)_debugListener[listenerFuncs[t]]=_listenerProxyFunc(listenerFuncs[t],e)}return _debugListener}var AiNonUserActionablePrefix="AI (Internal): ",AiUserActionablePrefix="AI: ",AIInternalMessagePrefix="AITR_";function _sanitizeDiagnosticText(e){return e?'"'+e[_DYN_REPLACE](/\"/g,STR_EMPTY)+'"':STR_EMPTY}function _logToConsole(e,t){var n,_=getConsole();_&&(n="log",isFunction(_[n=_[e]?e:n])&&_[n](t))}var _InternalLogMessage=function(){function e(e,t,n,_){void 0===n&&(n=!1),this[_DYN_MESSAGE_ID]=e,this[_DYN_MESSAGE$2]=(n?AiUserActionablePrefix:AiNonUserActionablePrefix)+e;n=STR_EMPTY,hasJSON()&&(n=getJSON().stringify(_)),e=(t?" message:"+_sanitizeDiagnosticText(t):STR_EMPTY)+(_?" props:"+_sanitizeDiagnosticText(n):STR_EMPTY);this[_DYN_MESSAGE$2]+=e}return e.dataType="MessageData",e}();function safeGetLogger(e,t){return(e||{})[_DYN_LOGGER]||new DiagnosticLogger(t)}var DiagnosticLogger=function(){function e(_){this.identifier="DiagnosticLogger",this.queue=[];var s,r,E,N,u=0,c={};dynamicProto(e,this,function(i){var e;function a(e,t){var n,_;E<=u||(_=!0,n=AIInternalMessagePrefix+t[_DYN_MESSAGE_ID],c[n]?_=!1:c[n]=!0,_&&(e<=r&&(i.queue[_DYN_PUSH$2](t),u++,o(1===e?"error":"warn",t)),u===E&&(_=new _InternalLogMessage(23,n="Internal events throttle limit per PageView reached for this app.",!1),i.queue[_DYN_PUSH$2](_),1===e?i[STR_ERROR_TO_CONSOLE](n):i[STR_WARN_TO_CONSOLE](n))))}function o(e,t){var n=getDebugExt(_||{});n&&n[_DYN_DIAG_LOG$2]&&n[_DYN_DIAG_LOG$2](e,t)}s=getCfgValue((e=_||{}).loggingLevelConsole,0),r=getCfgValue(e.loggingLevelTelemetry,1),E=getCfgValue(e.maxMessageLimit,25),N=getCfgValue(e.enableDebug,getCfgValue(e[_DYN_ENABLE_DEBUG_EXCEPTI4],!1)),i.consoleLoggingLevel=function(){return s},i.telemetryLoggingLevel=function(){return r},i.maxInternalMessageLimit=function(){return E},i[_DYN_ENABLE_DEBUG_EXCEPTI4]=function(){return N},i.throwInternal=function(e,t,n,_,r){t=new _InternalLogMessage(t,n,r=void 0!==r&&r,_);if(N)throw dumpObj(t);n=1===e?STR_ERROR_TO_CONSOLE:STR_WARN_TO_CONSOLE;isUndefined(t[_DYN_MESSAGE$2])?o("throw"+(1===e?"Critical":"Warning"),t):(r?(_=+t[_DYN_MESSAGE_ID],!c[_]&&e<=s&&(i[n](t[_DYN_MESSAGE$2]),c[_]=!0)):e<=s&&i[n](t[_DYN_MESSAGE$2]),a(e,t))},i[STR_WARN_TO_CONSOLE]=function(e){_logToConsole("warn",e),o("warning",e)},i[STR_ERROR_TO_CONSOLE]=function(e){_logToConsole("error",e),o("error",e)},i.resetInternalMessageCount=function(){u=0,c={}},i[_DYN_LOG_INTERNAL_MESSAGE]=a})}return e.__ieDyn=1,e}();function _getLogger(e){return e||new DiagnosticLogger}function _throwInternal(e,t,n,_,r,i){void 0===i&&(i=!1),_getLogger(e).throwInternal(t,n,_,r,i)}function _warnToConsole(e,t){_getLogger(e)[STR_WARN_TO_CONSOLE](t)}function _logInternalMessage(e,t,n){_getLogger(e)[_DYN_LOG_INTERNAL_MESSAGE](t,n)}var strExecutionContextKey="ctx",strParentContextKey="ParentContextKey",strChildrenContextKey="ChildrenContextKey",_defaultPerfManager=null,PerfEvent=function(){function o(e,r,t){var n,i=this,a=!1;i.start=dateNow(),i[_DYN_NAME$3]=e,i[_DYN_IS_ASYNC]=t,i[_DYN_IS_CHILD_EVT]=function(){return!1},isFunction(r)&&(a=objDefineAccessors(i,"payload",function(){return!n&&isFunction(r)&&(n=r(),r=null),n})),i[_DYN_GET_CTX]=function(e){return e?(e===o[strParentContextKey]||e===o[strChildrenContextKey]?i:i[strExecutionContextKey]||{})[e]:null},i[_DYN_SET_CTX]=function(e,t){e&&(e===o[strParentContextKey]?(i[e]||(i[_DYN_IS_CHILD_EVT]=function(){return!0}),i[e]=t):e===o[strChildrenContextKey]?i[e]=t:(i[strExecutionContextKey]=i[strExecutionContextKey]||{})[e]=t)},i[_DYN_COMPLETE]=function(){var e=0,t=i[_DYN_GET_CTX](o[strChildrenContextKey]);if(isArray(t))for(var n=0;n<t[_DYN_LENGTH$5];n++){var _=t[n];_&&(e+=_[_DYN_TIME])}i[_DYN_TIME]=dateNow()-i.start,i.exTime=i[_DYN_TIME]-e,i[_DYN_COMPLETE]=function(){},!a&&isFunction(r)&&(i.payload=r())}}return o.ParentContextKey="parent",o.ChildrenContextKey="childEvts",o}(),PerfManager=function(){function e(t){this.ctx={},dynamicProto(e,this,function(n){n.create=function(e,t,n){return new PerfEvent(e,t,n)},n.fire=function(e){e&&(e[_DYN_COMPLETE](),t&&isFunction(t[STR_PERF_EVENT])&&t[STR_PERF_EVENT](e))},n[_DYN_SET_CTX]=function(e,t){e&&((n[strExecutionContextKey]=n[strExecutionContextKey]||{})[e]=t)},n[_DYN_GET_CTX]=function(e){return(n[strExecutionContextKey]||{})[e]}})}return e.__ieDyn=1,e}(),doPerfActiveKey="CoreUtils.doPerf";function doPerf(e,t,n,_,r){if(e)if(e=e[STR_GET_PERF_MGR]?e[STR_GET_PERF_MGR]():e){var i,a=void 0,o=e[_DYN_GET_CTX](doPerfActiveKey);try{if(a=e.create(t(),_,r))return o&&a[_DYN_SET_CTX]&&(a[_DYN_SET_CTX](PerfEvent[strParentContextKey],o),o[_DYN_GET_CTX]&&o[_DYN_SET_CTX]&&((i=o[_DYN_GET_CTX](PerfEvent[strChildrenContextKey]))||(i=[],o[_DYN_SET_CTX](PerfEvent[strChildrenContextKey],i)),i[_DYN_PUSH$2](a))),e[_DYN_SET_CTX](doPerfActiveKey,a),n(a)}catch(s){a&&a[_DYN_SET_CTX]&&a[_DYN_SET_CTX]("exception",s)}finally{a&&e.fire(a),e[_DYN_SET_CTX](doPerfActiveKey,o)}}return n()}function getGblPerfMgr(){return _defaultPerfManager}var UInt32Mask=4294967296,MaxUInt32=4294967295,_mwcSeeded=!1,_mwcW=123456789,_mwcZ=987654321;function _mwcSeed(e){e<0&&(e>>>=0),_mwcW=123456789+e&MaxUInt32,_mwcZ=987654321-e&MaxUInt32,_mwcSeeded=!0}function _autoSeedMwc(){try{var e=2147483647&dateNow();_mwcSeed((Math.random()*UInt32Mask^e)+e)}catch(t){}}function randomValue(e){return 0<e?Math.floor(random32()/MaxUInt32*(e+1))>>>0:0}function random32(e){var t=0,n=getCrypto()||getMsCrypto();return 0===(t=n&&n.getRandomValues?n.getRandomValues(new Uint32Array(1))[0]&MaxUInt32:t)&&isIE()&&(_mwcSeeded||_autoSeedMwc(),t=mwcRandom32()&MaxUInt32),0===t&&(t=Math.floor(UInt32Mask*Math.random()|0)),e||(t>>>=0),t}function mwcRandomSeed(e){e?_mwcSeed(e):_autoSeedMwc()}function mwcRandom32(e){var t=((_mwcZ=36969*(65535&_mwcZ)+(_mwcZ>>16)&MaxUInt32)<<16)+(65535&(_mwcW=18e3*(65535&_mwcW)+(_mwcW>>16)&MaxUInt32))>>>0&MaxUInt32|0;return e||(t>>>=0),t}function newId(e){void 0===e&&(e=22);for(var t=random32()>>>0,n=0,_=STR_EMPTY;_[_DYN_LENGTH$5]<e;)_+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&t]||"",t>>>=6,5==++n&&(t=(random32()<<2&4294967295|3&t)>>>0,n=0);return _}var _objDefineProperty=ObjDefineProperty,version="2.8.18",instanceName="."+newId(6),_dataUid=0;function _createAccessor(e,t,n){if(_objDefineProperty)try{return _objDefineProperty(e,t,{value:n,enumerable:!1,configurable:!0}),!0}catch(_){}return!1}function _canAcceptData(e){return 1===e[_DYN_NODE_TYPE]||9===e[_DYN_NODE_TYPE]||!+e[_DYN_NODE_TYPE]}function _getCache(e,t){var n=t[e.id];if(!n){n={};try{_canAcceptData(t)&&!_createAccessor(t,e.id,n)&&(t[e.id]=n)}catch(_){}}return n}function createUniqueNamespace(e,t){return normalizeJsName(e+_dataUid+++((t=void 0!==t&&t)?"."+version:STR_EMPTY)+instanceName)}function createElmNodeData(e){var i={id:createUniqueNamespace("_aiData-"+(e||STR_EMPTY)+"."+version),accept:function(e){return _canAcceptData(e)},get:function(e,t,n,_){var r=e[i.id];return r?r[normalizeJsName(t)]:(_&&((r=_getCache(i,e))[normalizeJsName(t)]=n),n)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(n){}}};return i}var strToGMTString="toGMTString",strToUTCString="toUTCString",strCookie="cookie",strExpires="expires",strEnabled="enabled",strIsCookieUseDisabled="isCookieUseDisabled",strDisableCookiesUsage="disableCookiesUsage",strConfigCookieMgr="_ckMgr",_supportsCookies=null,_allowUaSameSite=null,_parsedCookieValue=null,_doc=getDocument(),_cookieCache={},_globalCookieConfig={};function _gblCookieMgr(e,t){var n=createCookieMgr[strConfigCookieMgr]||_globalCookieConfig[strConfigCookieMgr];return n||(n=createCookieMgr[strConfigCookieMgr]=createCookieMgr(e,t),_globalCookieConfig[strConfigCookieMgr]=n),n}function _isMgrEnabled(e){return!e||e.isEnabled()}function _createCookieMgrConfig(e){var t,n=e[_DYN_COOKIE_CFG]=e[_DYN_COOKIE_CFG]||{};return setValue(n,"domain",e.cookieDomain,isNotNullOrUndefined,isNullOrUndefined),setValue(n,"path",e.cookiePath||"/",null,isNullOrUndefined),isNullOrUndefined(n[strEnabled])&&(t=void 0,isUndefined(e[strIsCookieUseDisabled])||(t=!e[strIsCookieUseDisabled]),isUndefined(e[strDisableCookiesUsage])||(t=!e[strDisableCookiesUsage]),n[strEnabled]=t),n}function _isIgnoredCookie(e,t){return!!(t&&e&&isArray(e.ignoreCookies))&&-1!==e.ignoreCookies[_DYN_INDEX_OF$2](t)}function _isBlockedCookie(e,t){return!!(t&&e&&isArray(e.blockedCookies)&&-1!==e.blockedCookies[_DYN_INDEX_OF$2](t))||_isIgnoredCookie(e,t)}function safeGetCookieMgr(e,t){var n;return e?n=e.getCookieMgr():t&&(n=t[_DYN_COOKIE_CFG][strConfigCookieMgr]||createCookieMgr(t)),n||_gblCookieMgr(t,(e||{})[_DYN_LOGGER])}function createCookieMgr(e,r){var E=_createCookieMgrConfig(e||_globalCookieConfig),N=E.path||"/",u=E.domain,n=!1!==E[strEnabled],c=((e={isEnabled:function(){var e=n&&areCookiesSupported(r),t=_globalCookieConfig[strConfigCookieMgr];return e&&t&&c!==t?_isMgrEnabled(t):e}})[_DYN_SET_ENABLED]=function(e){n=!1!==e},e.set=function(e,t,n,_,r){var i,a,o,s=!1;return _isMgrEnabled(c)&&!_isBlockedCookie(E,e)&&(i={},-1!==(o=(a=strTrim(t||STR_EMPTY))[_DYN_INDEX_OF$2](";"))&&(a=strTrim(t[_DYN_SUBSTRING$1](0,o)),i=_extractParts(t[_DYN_SUBSTRING$1](o+1))),setValue(i,"domain",_||u,isTruthy,isUndefined),isNullOrUndefined(n)||(o=isIE(),isUndefined(i[strExpires])&&0<(t=dateNow()+1e3*n)&&((_=new Date).setTime(t),setValue(i,strExpires,_formatDate(_,o?strToGMTString:strToUTCString)||_formatDate(_,o?strToGMTString:strToUTCString)||STR_EMPTY,isTruthy)),o||setValue(i,"max-age",STR_EMPTY+n,null,isUndefined)),(t=getLocation())&&"https:"===t.protocol&&(setValue(i,"secure",null,null,isUndefined),(_allowUaSameSite=null===_allowUaSameSite?!uaDisallowsSameSiteNone((getNavigator()||{})[_DYN_USER_AGENT]):_allowUaSameSite)&&setValue(i,"SameSite","None",null,isUndefined)),setValue(i,"path",r||N,null,isUndefined),(E.setCookie||_setCookieValue)(e,_formatCookieValue(a,i)),s=!0),s},e.get=function(e){var t=STR_EMPTY;return _isMgrEnabled(c)&&!_isIgnoredCookie(E,e)?(E.getCookie||_getCookieValue)(e):t},e.del=function(e,t){return!!_isMgrEnabled(c)&&c.purge(e,t)},e.purge=function(e,t){var n,_=!1;return areCookiesSupported(r)&&((n={}).path=t||"/",n[strExpires]="Thu, 01 Jan 1970 00:00:01 GMT",t=n,isIE()||(t["max-age"]="0"),(E.delCookie||_setCookieValue)(e,_formatCookieValue(STR_EMPTY,t)),_=!0),_},e);return c[strConfigCookieMgr]=c}function areCookiesSupported(e){if(null===_supportsCookies){_supportsCookies=!1;try{_supportsCookies=(_doc||{})[strCookie]!==undefined}catch(t){_throwInternal(e,2,68,"Cannot access document.cookie - "+getExceptionName(t),{exception:dumpObj(t)})}}return _supportsCookies}function _extractParts(e){var n={};return e&&e[_DYN_LENGTH$5]&&arrForEach(strTrim(e)[_DYN_SPLIT$1](";"),function(e){var t;(e=strTrim(e||STR_EMPTY))&&(-1===(t=e[_DYN_INDEX_OF$2]("="))?n[e]=null:n[strTrim(e[_DYN_SUBSTRING$1](0,t))]=strTrim(e[_DYN_SUBSTRING$1](t+1)))}),n}function _formatDate(e,t){return isFunction(e[t])?e[t]():null}function _formatCookieValue(e,t){var n=e||STR_EMPTY;return objForEachKey(t,function(e,t){n+="; "+e+(isNullOrUndefined(t)?STR_EMPTY:"="+t)}),n}function _getCookieValue(e){var t,n=STR_EMPTY;return _doc&&(t=_doc[strCookie]||STR_EMPTY,_parsedCookieValue!==t&&(_cookieCache=_extractParts(t),_parsedCookieValue=t),n=strTrim(_cookieCache[e]||STR_EMPTY)),n}function _setCookieValue(e,t){_doc&&(_doc[strCookie]=e+"="+t)}function uaDisallowsSameSiteNone(e){return!(!isString(e)||!strContains(e,"CPU iPhone OS 12")&&!strContains(e,"iPad; CPU OS 12")&&!(strContains(e,"Macintosh; Intel Mac OS X 10_14")&&strContains(e,"Version/")&&strContains(e,"Safari"))&&(!strContains(e,"Macintosh; Intel Mac OS X 10_14")||!strEndsWith(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!strContains(e,"Chrome/5")&&!strContains(e,"Chrome/6")&&(!strContains(e,"UnrealEngine")||strContains(e,"Chrome"))&&!strContains(e,"UCBrowser/12")&&!strContains(e,"UCBrowser/11"))}var strOnPrefix="on",strAttachEvent="attachEvent",strAddEventHelper="addEventListener",strDetachEvent="detachEvent",strRemoveEventListener="removeEventListener",strEvents="events",strVisibilityChangeEvt="visibilitychange",strPageHide="pagehide",strUnload="unload",strBeforeUnload="beforeunload",strPageHideNamespace=createUniqueNamespace("aiEvtPageHide"),rRemoveEmptyNs=(createUniqueNamespace("aiEvtPageShow"),/\.[\.]+/g),rRemoveTrailingEmptyNs=/[\.]+$/,_guid=1,elmNodeData=createElmNodeData("events"),eventNamespace=/^([^.]*)(?:\.(.+)|)/;function _normalizeNamespace(e){return e&&e[_DYN_REPLACE]?e[_DYN_REPLACE](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,STR_EMPTY):e}function _getEvtNamespace(e,t){t&&(n=STR_EMPTY,isArray(t)?(n=STR_EMPTY,arrForEach(t,function(e){(e=_normalizeNamespace(e))&&("."!==e[0]&&(e="."+e),n+=e)})):n=_normalizeNamespace(t),n&&("."!==n[0]&&(n="."+n),e=(e||STR_EMPTY)+n));var n,t=eventNamespace.exec(e||STR_EMPTY)||[],e={};return e[_DYN_TYPE]=t[1],e.ns=(t[2]||STR_EMPTY).replace(rRemoveEmptyNs,".").replace(rRemoveTrailingEmptyNs,STR_EMPTY)[_DYN_SPLIT$1](".").sort().join("."),e}function _getRegisteredEvents(e,t,n){e=elmNodeData.get(e,strEvents,{},n=void 0===n||n);return e[t]||(e[t]=[])}function _doDetach(e,t,n,_){e&&t&&t[_DYN_TYPE]&&(e[strRemoveEventListener]?e[strRemoveEventListener](t[_DYN_TYPE],n,_):e[strDetachEvent]&&e[strDetachEvent](strOnPrefix+t[_DYN_TYPE],n))}function _doAttach(e,t,n,_){var r=!1;return e&&t&&t[_DYN_TYPE]&&n&&(e[strAddEventHelper]?(e[strAddEventHelper](t[_DYN_TYPE],n,_),r=!0):e[strAttachEvent]&&(e[strAttachEvent](strOnPrefix+t[_DYN_TYPE],n),r=!0)),r}function _doUnregister(e,t,n,_){for(var r=t[_DYN_LENGTH$5];r--;){var i=t[r];!i||n.ns&&n.ns!==i.evtName.ns||_&&!_(i)||(_doDetach(e,i.evtName,i[_DYN_HANDLER],i.capture),t[_DYN_SPLICE](r,1))}}function _unregisterEvents(n,_,r){var e;_[_DYN_TYPE]?_doUnregister(n,_getRegisteredEvents(n,_[_DYN_TYPE]),_,r):(objForEachKey(e=elmNodeData.get(n,strEvents,{}),function(e,t){_doUnregister(n,t,_,r)}),0===objKeys(e)[_DYN_LENGTH$5]&&elmNodeData.kill(n,strEvents))}function mergeEvtNamespace(e,t){return t?_getEvtNamespace("xx",isArray(t)?[e].concat(t):[e,t]).ns[_DYN_SPLIT$1]("."):e}function eventOn(e,t,n,_,r){void 0===r&&(r=!1);var i,a=!1;if(e)try{var o,s=_getEvtNamespace(t,_);(a=_doAttach(e,s,n,r))&&elmNodeData.accept(e)&&((i={guid:_guid++,evtName:s})[_DYN_HANDLER]=n,i.capture=r,o=i,_getRegisteredEvents(e,s.type)[_DYN_PUSH$2](o))}catch(E){}return a}function eventOff(e,t,n,_,r){if(void 0===r&&(r=!1),e)try{var i=_getEvtNamespace(t,_),a=!1;_unregisterEvents(e,i,function(e){return!((!i.ns||n)&&e[_DYN_HANDLER]!==n)&&(a=!0)}),a||_doDetach(e,i,n,r)}catch(o){}}function attachEvent(e,t,n,_){return eventOn(e,t,n,null,_=void 0!==_&&_)}function addEventHandler(e,t,n){var _=!1,r=getWindow(),r=(r&&(_=eventOn(r,e,t,n),_=eventOn(r.body,e,t,n)||_),getDocument());return r&&eventOn(r,e,t,n)||_}function removeEventHandler(e,t,n){var _=getWindow(),_=(_&&(eventOff(_,e,t,n),eventOff(_.body,e,t,n)),getDocument());_&&eventOff(_,e,t,n)}function _addEventListeners(e,t,n,_){var r=!1;return t&&e&&0<e[_DYN_LENGTH$5]&&arrForEach(e,function(e){!e||n&&-1!==arrIndexOf(n,e)||(r=addEventHandler(e,t,_)||r)}),r}function addEventListeners(e,t,n,_){var r=!1;return t&&e&&isArray(e)&&!(r=_addEventListeners(e,t,n,_))&&n&&0<n[_DYN_LENGTH$5]?_addEventListeners(e,t,null,_):r}function removeEventListeners(e,t,n){e&&isArray(e)&&arrForEach(e,function(e){e&&removeEventHandler(e,t,n)})}function addPageUnloadEventListener(e,t,n){return addEventListeners([strBeforeUnload,strUnload,strPageHide],e,t,n)}function removePageUnloadEventListener(e,t){removeEventListeners([strBeforeUnload,strUnload,strPageHide],e,t)}function addPageHideEventListener(n,e,t){var _=mergeEvtNamespace(strPageHideNamespace,t),r=_addEventListeners([strPageHide],n,e,_);return!(r=(!e||-1===arrIndexOf(e,strVisibilityChangeEvt))&&_addEventListeners([strVisibilityChangeEvt],function(e){var t=getDocument();n&&t&&"hidden"===t.visibilityState&&n(e)},e,_)||r)&&e?addPageHideEventListener(n,null,t):r}function removePageHideEventListener(e,t){t=mergeEvtNamespace(strPageHideNamespace,t);removeEventListeners([strPageHide],e,t),removeEventListeners([strVisibilityChangeEvt],null,t)}var _canUseCookies,_cookieMgrs=null;function newGuid(){var e=generateW3CId();return e[_DYN_SUBSTRING$1](0,8)+"-"+e[_DYN_SUBSTRING$1](8,12)+"-"+e[_DYN_SUBSTRING$1](12,16)+"-"+e[_DYN_SUBSTRING$1](16,20)+"-"+e[_DYN_SUBSTRING$1](20)}function perfNow(){var e=getPerformance();return e&&e.now?e.now():dateNow()}function generateW3CId(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=STR_EMPTY,_=0;_<4;_++)n+=t[15&(e=random32())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var r=t[8+(3&random32())|0];return n[_DYN_SUBSTR](0,8)+n[_DYN_SUBSTR](9,4)+"4"+n[_DYN_SUBSTR](13,3)+r+n[_DYN_SUBSTR](16,3)+n[_DYN_SUBSTR](19,12)}var CoreUtils={_canUseCookies:undefined,isTypeof:isTypeof,isUndefined:isUndefined,isNullOrUndefined:isNullOrUndefined,hasOwnProperty:hasOwnProperty,isFunction:isFunction,isObject:isObject,isDate:isDate,isArray:isArray,isError:isError,isString:isString,isNumber:isNumber,isBoolean:isBoolean,toISOString:toISOString,arrForEach:arrForEach,arrIndexOf:arrIndexOf,arrMap:arrMap,arrReduce:arrReduce,strTrim:strTrim,objCreate:objCreateFn,objKeys:objKeys,objDefineAccessors:objDefineAccessors,addEventHandler:addEventHandler,dateNow:dateNow,isIE:isIE,disableCookies:disableCookies,newGuid:newGuid,perfNow:perfNow,newId:newId,randomValue:randomValue,random32:random32,mwcRandomSeed:mwcRandomSeed,mwcRandom32:mwcRandom32,generateW3CId:generateW3CId};function _legacyCookieMgr(e,t){e=_gblCookieMgr(e,t),t=CoreUtils._canUseCookies;return null===_cookieMgrs&&(_cookieMgrs=[],_canUseCookies=t,objDefineAccessors(CoreUtils,"_canUseCookies",function(){return _canUseCookies},function(t){_canUseCookies=t,arrForEach(_cookieMgrs,function(e){e[_DYN_SET_ENABLED](t)})})),-1===arrIndexOf(_cookieMgrs,e)&&_cookieMgrs[_DYN_PUSH$2](e),isBoolean(t)&&e[_DYN_SET_ENABLED](t),isBoolean(_canUseCookies)&&e[_DYN_SET_ENABLED](_canUseCookies),e}function disableCookies(){_legacyCookieMgr()[_DYN_SET_ENABLED](!1)}function canUseCookies(e){return _legacyCookieMgr(null,e).isEnabled()}function getCookie(e,t){return _legacyCookieMgr(null,e).get(t)}function setCookie(e,t,n,_){_legacyCookieMgr(null,e).set(t,n,null,_)}function deleteCookie(e,t){return _legacyCookieMgr(null,e).del(t)}var TRACE_PARENT_REGEX=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,DEFAULT_VERSION="00",INVALID_VERSION="ff",INVALID_TRACE_ID="00000000000000000000000000000000",INVALID_SPAN_ID="0000000000000000";function _isValid(e,t,n){return!(!e||e[_DYN_LENGTH$5]!==t||e===n||!e.match(/^[\da-f]*$/i))}function _formatValue(e,t,n){return _isValid(e,t)?e:n}function _formatFlags(e){for(var t=(e=isNaN(e)||e<0||255<e?1:e).toString(16);t[_DYN_LENGTH$5]<2;)t="0"+t;return t}function createTraceParent(e,t,n,_){var r={};return r[_DYN_VERSION$1]=_isValid(_,2,INVALID_VERSION)?_:DEFAULT_VERSION,r[_DYN_TRACE_ID$2]=isValidTraceId(e)?e:generateW3CId(),r.spanId=isValidSpanId(t)?t:generateW3CId()[_DYN_SUBSTR](0,16),r.traceFlags=0<=n&&n<=255?n:1,r}function parseTraceParent(e,t){if(!e)return null;if(!(e=isArray(e)?e[0]||"":e)||!isString(e)||8192<e[_DYN_LENGTH$5])return null;-1!==e[_DYN_INDEX_OF$2](",")&&(e=(n=e[_DYN_SPLIT$1](","))[0<t&&n[_DYN_LENGTH$5]>t?t:0]);var n=TRACE_PARENT_REGEX.exec(strTrim(e));return n&&n[1]!==INVALID_VERSION&&n[2]!==INVALID_TRACE_ID&&n[3]!==INVALID_SPAN_ID?((t={version:(n[1]||STR_EMPTY)[_DYN_TO_LOWER_CASE$2](),traceId:(n[2]||STR_EMPTY)[_DYN_TO_LOWER_CASE$2](),spanId:(n[3]||STR_EMPTY)[_DYN_TO_LOWER_CASE$2]()})[_DYN_TRACE_FLAGS$1]=parseInt(n[4],16),t):null}function isValidTraceId(e){return _isValid(e,32,INVALID_TRACE_ID)}function isValidSpanId(e){return _isValid(e,16,INVALID_SPAN_ID)}function formatTraceParent(e){var t,n;return e?(_isValid(t=_formatFlags(e[_DYN_TRACE_FLAGS$1]),2)||(t="01"),n=e[_DYN_VERSION$1]||DEFAULT_VERSION,"".concat((n="00"!==n&&"ff"!==n?DEFAULT_VERSION:n).toLowerCase(),"-").concat(_formatValue(e.traceId,32,INVALID_TRACE_ID).toLowerCase(),"-").concat(_formatValue(e.spanId,16,INVALID_SPAN_ID).toLowerCase(),"-").concat(t.toLowerCase())):""}function findW3cTraceParent(e){var t="traceparent";return parseTraceParent(findMetaTag(t),e)||parseTraceParent(findNamedServerTiming(t),e)}var pluginStateData=createElmNodeData("plugin");function _getPluginState(e){return pluginStateData.get(e,"state",{},!0)}function initializePlugins(n,_){for(var r,e=[],t=null,i=n[_DYN_GET_NEXT]();i;){var a=i[_DYN_GET_PLUGIN]();a&&(t&&isFunction(t[_DYN_SET_NEXT_PLUGIN])&&isFunction(a[STR_PROCESS_TELEMETRY])&&t[_DYN_SET_NEXT_PLUGIN](a),(isFunction(a[_DYN_IS_INITIALIZED])?a[_DYN_IS_INITIALIZED]():(r=_getPluginState(a))[_DYN_IS_INITIALIZED])||e[_DYN_PUSH$2](a),t=a,i=i[_DYN_GET_NEXT]())}arrForEach(e,function(e){var t=n[STR_CORE]();e[_DYN_INITIALIZE](n.getCfg(),t,_,n[_DYN_GET_NEXT]()),r=_getPluginState(e),e[STR_CORE]||r[STR_CORE]||(r[STR_CORE]=t),r[_DYN_IS_INITIALIZED]=!0,delete r[_DYN_TEARDOWN]})}function sortPlugins(e){return e.sort(function(e,t){var n,_=0;return t?(n=isFunction(t[STR_PROCESS_TELEMETRY]),isFunction(e[STR_PROCESS_TELEMETRY])?_=n?e[STR_PRIORITY]-t[STR_PRIORITY]:1:n&&(_=-1)):_=e?1:-1,_})}function createDistributedTraceContext(t){var n={};return{getName:function(){return n[_DYN_NAME$3]},setName:function(e){t&&t.setName(e),n[_DYN_NAME$3]=e},getTraceId:function(){return n[_DYN_TRACE_ID$2]},setTraceId:function(e){t&&t.setTraceId(e),isValidTraceId(e)&&(n[_DYN_TRACE_ID$2]=e)},getSpanId:function(){return n[_DYN_SPAN_ID$1]},setSpanId:function(e){t&&t.setSpanId(e),isValidSpanId(e)&&(n[_DYN_SPAN_ID$1]=e)},getTraceFlags:function(){return n[_DYN_TRACE_FLAGS$1]},setTraceFlags:function(e){t&&t.setTraceFlags(e),n[_DYN_TRACE_FLAGS$1]=e}}}var strTelemetryPluginChain="TelemetryPluginChain",strHasRunFlags="_hasRun",strGetTelCtx="_getTelCtx",_chainId=0;function _getNextProxyStart(e,t,n){for(;e;){if(e[_DYN_GET_PLUGIN]()===n)return e;e=e[_DYN_GET_NEXT]()}return createTelemetryProxyChain([n],t[_DYN_CONFIG$2]||{},t)}function _createInternalContext(e,a,n,t){var _=null,r=[],i=(null!==t&&(_=t?_getNextProxyStart(e,n,t):e),{_next:function(){var e,t=_;return _=t?t[_DYN_GET_NEXT]():null,t||(e=r)&&0<e[_DYN_LENGTH$5]&&(arrForEach(e,function(e){try{e.func[_DYN_CALL](e.self,e.args)}catch(t){_throwInternal(n[_DYN_LOGGER],2,73,"Unexpected Exception during onComplete - "+dumpObj(t))}}),r=[]),t},ctx:{core:function(){return n},diagLog:function(){return safeGetLogger(n,a)},getCfg:function(){return a},getExtCfg:o,getConfig:function(e,t,n){void 0===n&&(n=!1);var _,e=o(e,null);return e&&!isNullOrUndefined(e[t])?_=e[t]:a&&!isNullOrUndefined(a[t])&&(_=a[t]),isNullOrUndefined(_)?n:_},hasNext:function(){return!!_},getNext:function(){return _},setNext:function(e){_=e},iterate:function(e){for(;t=i._next();){var t=t[_DYN_GET_PLUGIN]();t&&e(t)}},onComplete:function(e,t){for(var n=[],_=2;_<arguments.length;_++)n[_-2]=arguments[_];e&&r[_DYN_PUSH$2]({func:e,self:isUndefined(t)?i.ctx:t,args:n})}}});function o(e,t,n){var _,r,i;return void 0===t&&(t={}),void 0===n&&(n=0),(_=a&&(r=a[STR_EXTENSION_CONFIG])&&e?r[e]:_)?isObject(t)&&0!==n&&(i=objExtend(!0,t,_),a&&2===n&&objForEachKey(t,function(e){var t;isNullOrUndefined(i[e])&&!isNullOrUndefined(t=a[e])&&(i[e]=t)}),_=i):_=t,_}return i}function createProcessTelemetryContext(e,n,_,t){var r=_createInternalContext(e,n,_,t),i=r.ctx;return i[_DYN_PROCESS_NEXT]=function(e){var t=r._next();return t&&t[STR_PROCESS_TELEMETRY](e,i),!t},i[_DYN_CREATE_NEW]=function(e,t){return createProcessTelemetryContext((e=isArray(e=void 0===e?null:e)?createTelemetryProxyChain(e,n,_,t):e)||i[_DYN_GET_NEXT](),n,_,t)},i}function createProcessTelemetryUnloadContext(e,n,t){var _=n[_DYN_CONFIG$2]||{},r=_createInternalContext(e,_,n,t),i=r.ctx;return i[_DYN_PROCESS_NEXT]=function(e){var t=r._next();return t&&t.unload(i,e),!t},i[_DYN_CREATE_NEW]=function(e,t){return createProcessTelemetryUnloadContext((e=isArray(e=void 0===e?null:e)?createTelemetryProxyChain(e,_,n,t):e)||i[_DYN_GET_NEXT](),n,t)},i}function createProcessTelemetryUpdateContext(e,n,t){var _=n[_DYN_CONFIG$2]||{},r=_createInternalContext(e,_,n,t).ctx;return r[_DYN_PROCESS_NEXT]=function(t){return r.iterate(function(e){isFunction(e[_DYN_UPDATE$1])&&e[_DYN_UPDATE$1](r,t)})},r[_DYN_CREATE_NEW]=function(e,t){return createProcessTelemetryUpdateContext((e=isArray(e=void 0===e?null:e)?createTelemetryProxyChain(e,_,n,t):e)||r[_DYN_GET_NEXT](),n,t)},r}function createTelemetryProxyChain(e,t,n,_){var r,i=null,a=!_;return isArray(e)&&0<e[_DYN_LENGTH$5]&&(r=null,arrForEach(e,function(e){(a=!a&&_===e||a)&&e&&isFunction(e[STR_PROCESS_TELEMETRY])&&(e=createTelemetryPluginProxy(e,t,n),i=i||e,r&&r._setNext(e),r=e)})),_&&!i?createTelemetryProxyChain([_],t,n):i}function createTelemetryPluginProxy(s,_,r){var E=null,i=isFunction(s[STR_PROCESS_TELEMETRY]),a=isFunction(s[_DYN_SET_NEXT_PLUGIN]),N=s?s[_DYN_IDENTIFIER]+"-"+s[STR_PRIORITY]+"-"+_chainId++:"Unknown-0-"+_chainId++,o={getPlugin:function(){return s},getNext:function(){return E},processTelemetry:function(n,e){var t;u(e=e||(t=(t=s&&isFunction(s[strGetTelCtx])?s[strGetTelCtx]():t)||createProcessTelemetryContext(o,_,r)),function(e){if(!s||!i)return!1;var t=_getPluginState(s);return!t[_DYN_TEARDOWN]&&!t[STR_DISABLED]&&(a&&s[_DYN_SET_NEXT_PLUGIN](E),s[STR_PROCESS_TELEMETRY](n,e),!0)},"processTelemetry",function(){return{item:n}},!n.sync)||e[_DYN_PROCESS_NEXT](n)},unload:function(_,r){u(_,function(){var e,t,n=!1;return s&&(e=_getPluginState(s),t=s[STR_CORE]||e[STR_CORE],!s||t&&t!==_.core()||e[_DYN_TEARDOWN]||(e[STR_CORE]=null,e[_DYN_TEARDOWN]=!0,e[_DYN_IS_INITIALIZED]=!1,s[_DYN_TEARDOWN]&&!0===s[_DYN_TEARDOWN](_,r)&&(n=!0))),n},"unload",function(){},r[_DYN_IS_ASYNC])||_[_DYN_PROCESS_NEXT](r)},update:function(_,r){u(_,function(){var e,t,n=!1;return s&&(e=_getPluginState(s),t=s[STR_CORE]||e[STR_CORE],!s||t&&t!==_.core()||e[_DYN_TEARDOWN]||s[_DYN_UPDATE$1]&&!0===s[_DYN_UPDATE$1](_,r)&&(n=!0)),n},"update",function(){},!1)||_[_DYN_PROCESS_NEXT](r)},_id:N,_setNext:function(e){E=e}};function u(n,_,r,e,t){var i=!1,a=s?s[_DYN_IDENTIFIER]:strTelemetryPluginChain,o=(o=n[strHasRunFlags])||(n[strHasRunFlags]={});return n.setNext(E),s&&doPerf(n[STR_CORE](),function(){return a+":"+r},function(){o[N]=!0;try{var e=E?E._id:STR_EMPTY;e&&(o[e]=!1),i=_(n)}catch(t){e=!E||o[E._id];e&&(i=!0),E&&e||_throwInternal(n[_DYN_DIAG_LOG$2](),1,73,"Plugin ["+a+"] failed during "+r+" - "+dumpObj(t)+", run flags: "+dumpObj(o))}},e,t),i}return objFreeze(o)}var ChannelControllerPriority=500,ChannelValidationMessage="Channel has invalid priority - ";function _addChannelQueue(e,t,n){t&&isArray(t)&&0<t[_DYN_LENGTH$5]&&(arrForEach(t=t.sort(function(e,t){return e[STR_PRIORITY]-t[STR_PRIORITY]}),function(e){e[STR_PRIORITY]<ChannelControllerPriority&&throwError(ChannelValidationMessage+e[_DYN_IDENTIFIER])}),e[_DYN_PUSH$2]({queue:objFreeze(t),chain:createTelemetryProxyChain(t,n[_DYN_CONFIG$2],n)}))}function createChannelControllerPlugin(s,e){function E(){return createProcessTelemetryContext(null,e[_DYN_CONFIG$2],e,null)}function N(e,t,n,_){var r=e?e[_DYN_LENGTH$5]+1:1;function i(){0==--r&&(_&&_(),_=null)}0<r&&arrForEach(e,function(e){e&&0<e.queue[_DYN_LENGTH$5]?(e=e.chain,(e=t[_DYN_CREATE_NEW](e))[_DYN_ON_COMPLETE](i),n(e)):r--}),i()}var r=!1;return{identifier:"ChannelControllerPlugin",priority:ChannelControllerPriority,initialize:function(t,n,_,e){r=!0,arrForEach(s,function(e){e&&0<e.queue[_DYN_LENGTH$5]&&initializePlugins(createProcessTelemetryContext(e.chain,t,n),_)})},isInitialized:function(){return r},processTelemetry:function(t,e){N(s,e||E(),function(e){e[_DYN_PROCESS_NEXT](t)},function(){e[_DYN_PROCESS_NEXT](t)})},update:function(e,t){var n=t||{reason:0};return N(s,e,function(e){e[_DYN_PROCESS_NEXT](n)},function(){e[_DYN_PROCESS_NEXT](n)}),!0},pause:function(){N(s,E(),function(e){e.iterate(function(e){e.pause&&e.pause()})},null)},resume:function(){N(s,E(),function(e){e.iterate(function(e){e.resume&&e.resume()})},null)},teardown:function(e,t){var n=t||{reason:0,isAsync:!1};return N(s,e,function(e){e[_DYN_PROCESS_NEXT](n)},function(){e[_DYN_PROCESS_NEXT](n),r=!1}),!0},getChannel:function(t){var n=null;return s&&0<s[_DYN_LENGTH$5]&&arrForEach(s,function(e){if(e&&0<e.queue[_DYN_LENGTH$5]&&(arrForEach(e.queue,function(e){if(e[_DYN_IDENTIFIER]===t)return n=e,-1}),n))return-1}),n},flush:function(n,e,_,r){var i=1,t=!1,a=null;function o(){i--,t&&0===i&&(a&&(clearTimeout(a),a=null),e&&e(t),e=null)}return r=r||5e3,N(s,E(),function(e){e.iterate(function(e){var t;e[_DYN_FLUSH]&&(i++,t=!1,e[_DYN_FLUSH](n,function(){t=!0,o()},_)||t||(n&&null==a?a=setTimeout(function(){a=null,o()},r):o()))})},function(){t=!0,o()}),!0},_setQueue:function(e){s=e}}}function createChannelQueues(e,t,n){var _,r=[];return e&&arrForEach(e,function(e){return _addChannelQueue(r,e,n)}),t&&(_=[],arrForEach(t,function(e){e[STR_PRIORITY]>ChannelControllerPriority&&_[_DYN_PUSH$2](e)}),_addChannelQueue(r,_,n)),r}function createUnloadHandlerContainer(){var t=[];return{add:function(e){e&&t[_DYN_PUSH$2](e)},run:function(n,_){arrForEach(t,function(e){try{e(n,_)}catch(t){_throwInternal(n[_DYN_DIAG_LOG$2](),2,73,"Unexpected error calling unload handler - "+dumpObj(t))}}),t=[]}}}var strGetPlugin="getPlugin",BaseTelemetryPlugin=function(){function e(){var r,i,E,N,u,a=this;function t(e){var t,e=e=void 0===e?null:e;return e||(t=i||createProcessTelemetryContext(null,{},a[STR_CORE]),e=E&&E[strGetPlugin]?t[_DYN_CREATE_NEW](null,E[strGetPlugin]):t[_DYN_CREATE_NEW](null,E)),e}function o(e,t,n){e&&setValue(e,STR_EXTENSION_CONFIG,[],null,isNullOrUndefined),!n&&t&&(n=t[_DYN_GET_PROCESS_TEL_CONT0]()[_DYN_GET_NEXT]());var _=E;E&&E[strGetPlugin]&&(_=E[strGetPlugin]()),a[STR_CORE]=t,i=createProcessTelemetryContext(n,e,t,_)}function c(){r=!1,a[STR_CORE]=null,E=i=null,u=[],N=createUnloadHandlerContainer()}c(),dynamicProto(e,a,function(s){s[_DYN_INITIALIZE]=function(e,t,n,_){o(e,t,_),r=!0},s[_DYN_TEARDOWN]=function(e,t){var n,_,r,i,a=s[STR_CORE];if(a&&(!e||a===e[STR_CORE]()))return _=!1,r=e||createProcessTelemetryUnloadContext(null,a,E&&E[strGetPlugin]?E[strGetPlugin]():E),i=t||((e={reason:0})[_DYN_IS_ASYNC]=!1,e),s[_DYN__DO_TEARDOWN]&&!0===s[_DYN__DO_TEARDOWN](r,i,o)?n=!0:o(),n;function o(){var e;_||(_=!0,N.run(r,t),e=u,u=[],arrForEach(e,function(e){e.rm()}),!0===n&&r[_DYN_PROCESS_NEXT](i),c())}},s[_DYN_UPDATE$1]=function(e,t){var n,_,r,i=s[STR_CORE];if(i&&(!e||i===e[STR_CORE]()))return _=!1,r=e||createProcessTelemetryUpdateContext(null,i,E&&E[strGetPlugin]?E[strGetPlugin]():E),s._doUpdate&&!0===s._doUpdate(r,t||{reason:0},a)?n=!0:a(),n;function a(){_||(_=!0,o(r.getCfg(),r.core(),r[_DYN_GET_NEXT]()))}},s._addHook=function(e){e&&(isArray(e)?u=u.concat(e):u[_DYN_PUSH$2](e))},proxyFunctionAs(s,"_addUnloadCb",function(){return N},"add")}),a[_DYN_DIAG_LOG$2]=function(e){return t(e)[_DYN_DIAG_LOG$2]()},a[_DYN_IS_INITIALIZED]=function(){return r},a.setInitialized=function(e){r=e},a[_DYN_SET_NEXT_PLUGIN]=function(e){E=e},a[_DYN_PROCESS_NEXT]=function(e,t){t?t[_DYN_PROCESS_NEXT](e):E&&isFunction(E[STR_PROCESS_TELEMETRY])&&E[STR_PROCESS_TELEMETRY](e,null)},a._getTelCtx=t}return e.__ieDyn=1,e}(),TelemetryInitializerPlugin=function(_){function r(){var t,s,e=_.call(this)||this;function n(){t=0,s=[]}return e.identifier="TelemetryInitializerPlugin",e.priority=199,n(),dynamicProto(r,e,function(o,e){o.addTelemetryInitializer=function(e){var n={id:t++,fn:e};return s[_DYN_PUSH$2](n),{remove:function(){arrForEach(s,function(e,t){if(e.id===n.id)return s[_DYN_SPLICE](t,1),-1})}}},o[STR_PROCESS_TELEMETRY]=function(e,t){for(var n=!1,_=s[_DYN_LENGTH$5],r=0;r<_;++r){var i=s[r];if(i)try{if(!1===i.fn[_DYN_APPLY](null,[e])){n=!0;break}}catch(a){_throwInternal(t[_DYN_DIAG_LOG$2](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+getExceptionName(a),{exception:dumpObj(a)},!0)}}n||o[_DYN_PROCESS_NEXT](e,t)},o[_DYN__DO_TEARDOWN]=function(){n()}}),e}return __extendsFn(r,_),r.__ieDyn=1,r}(BaseTelemetryPlugin),strValidationError="Plugins must provide initialize method",strNotificationManager="_notificationManager",strSdkUnloadingError="SDK is still unloading...",strSdkNotInitialized="SDK is not initialized",defaultInitConfig={loggingLevelConsole:1};function _createPerfManager(e,t){return new PerfManager(t)}function _validateExtensions(_,r,e){var i=[],a={};return arrForEach(e,function(e){(isNullOrUndefined(e)||isNullOrUndefined(e[_DYN_INITIALIZE]))&&throwError(strValidationError);var t=e[STR_PRIORITY],n=e[_DYN_IDENTIFIER];e&&t&&(isNullOrUndefined(a[t])?a[t]=n:_warnToConsole(_,"Two extensions have same priority #"+t+" - "+a[t]+", "+n)),(!t||t<r)&&i[_DYN_PUSH$2](e)}),(e={all:e})[STR_CORE]=i,e}function _isPluginPresent(t,e){var n=!1;return arrForEach(e,function(e){if(e===t)return n=!0,-1}),n}function _createDummyNotificationManager(){var e;return objCreateFn(((e={})[_DYN_ADD_NOTIFICATION_LIS1]=function(e){},e[_DYN_REMOVE_NOTIFICATION_2]=function(e){},e[STR_EVENTS_SENT]=function(e){},e[STR_EVENTS_DISCARDED]=function(e,t){},e[STR_EVENTS_SEND_REQUEST]=function(e,t){},e))}var BaseCore=function(){function _(){var r,S,t,i,n,d,I,f,Y,A,R,g,O,p,C,P,e,m,L,v,y=0,h=!1;dynamicProto(_,this,function(o){function a(e){return y||h||(e||o[_DYN_LOGGER]&&0<o[_DYN_LOGGER].queue[_DYN_LENGTH$5])&&(e=getCfgValue(r.diagnosticLogInterval),y=setInterval(function(){clearInterval(y),y=0,D()},e=e&&0<e?e:1e4)),y}function s(){r=objExtend(!(S=!1),{},defaultInitConfig),o[_DYN_CONFIG$2]=r,o[_DYN_LOGGER]=new DiagnosticLogger(r),o[_DYN__EXTENSIONS]=[],C=new TelemetryInitializerPlugin,t=[],p=!(Y=[]),e=createUniqueNamespace("AIBaseCore",!(P=O=g=R=A=f=I=d=n=i=null)),m=createUnloadHandlerContainer(),v=null}function _(){var e=createProcessTelemetryContext(u(),r,o);return e[_DYN_ON_COMPLETE](a),e}function E(e){var t,n=_validateExtensions(o[_DYN_LOGGER],ChannelControllerPriority,Y),n=(A=n[STR_CORE],f=null,n.all);O=objFreeze(createChannelQueues(g,n,o)),R?(-1!==(t=arrIndexOf(n,R))&&n[_DYN_SPLICE](t,1),-1!==(t=arrIndexOf(A,R))&&A[_DYN_SPLICE](t,1),R._setQueue(O)):R=createChannelControllerPlugin(O,o),n[_DYN_PUSH$2](R),A[_DYN_PUSH$2](R),o[_DYN__EXTENSIONS]=sortPlugins(n),R[_DYN_INITIALIZE](r,o,n),initializePlugins(_(),n),o[_DYN__EXTENSIONS]=objFreeze(sortPlugins(A||[])).slice(),e&&(t=e,(n=createProcessTelemetryUpdateContext(u(),o))[_DYN_ON_COMPLETE](a),o._updateHook&&!0===o._updateHook(n,t)||n[_DYN_PROCESS_NEXT](t))}function N(t){var e,n=null,r=null;return arrForEach(o[_DYN__EXTENSIONS],function(e){if(e[_DYN_IDENTIFIER]===t&&e!==R&&e!==C)return r=e,-1}),(r=!r&&R?R.getChannel(t):r)&&((e={plugin:r})[_DYN_SET_ENABLED]=function(e){_getPluginState(r)[STR_DISABLED]=!e},e.isEnabled=function(){var e=_getPluginState(r);return!e[_DYN_TEARDOWN]&&!e[STR_DISABLED]},e.remove=function(e,t){var n,_=[r];(n={reason:1})[_DYN_IS_ASYNC]=e=void 0===e||e,c(_,n,function(e){e&&E({reason:32,removed:_}),t&&t(e)})},n=e),n}function u(){var e;return f||(-1===arrIndexOf(e=(A||[]).slice(),C)&&e[_DYN_PUSH$2](C),f=createTelemetryProxyChain(sortPlugins(e),r,o)),f}function c(i,e,t){var n;i&&0<i[_DYN_LENGTH$5]?((n=createProcessTelemetryUnloadContext(createTelemetryProxyChain(i,r,o),o))[_DYN_ON_COMPLETE](function(){var _=!1,n=[],r=(arrForEach(Y,function(e,t){_isPluginPresent(e,i)?_=!0:n[_DYN_PUSH$2](e)}),Y=n,[]);g&&(arrForEach(g,function(e,t){var n=[];arrForEach(e,function(e){_isPluginPresent(e,i)?_=!0:n[_DYN_PUSH$2](e)}),r[_DYN_PUSH$2](n)}),g=r),t&&t(_),a()}),n[_DYN_PROCESS_NEXT](e)):t(!1)}function D(){var e;o[_DYN_LOGGER]&&o[_DYN_LOGGER].queue&&(e=o[_DYN_LOGGER].queue.slice(0),o[_DYN_LOGGER].queue[_DYN_LENGTH$5]=0,arrForEach(e,function(e){(t={})[_DYN_NAME$3]=P||"InternalMessageId: "+e[_DYN_MESSAGE_ID],t.iKey=getCfgValue(r[_DYN_INSTRUMENTATION_KEY$2]),t.time=toISOString(new Date),t.baseType=_InternalLogMessage.dataType,t.baseData={message:e[_DYN_MESSAGE$2]};var t,e=t;o.track(e)}))}function T(e,t,n,_){return R?R[_DYN_FLUSH](e,t,n||6,_):(t&&t(!1),!0)}function l(e){var t=o[_DYN_LOGGER];t?(_throwInternal(t,2,73,e),a()):throwError(e)}s(),o[_DYN_IS_INITIALIZED]=function(){return S},o[_DYN_INITIALIZE]=function(e,t,n,_){p&&throwError(strSdkUnloadingError),o[_DYN_IS_INITIALIZED]()&&throwError("Core should not be initialized more than once"),r=e||{},o[_DYN_CONFIG$2]=r,isNullOrUndefined(e[_DYN_INSTRUMENTATION_KEY$2])&&throwError("Please provide instrumentation key"),i=_,o[strNotificationManager]=_;e=getCfgValue(r.disableDbgExt),!0===e&&L&&(i[_DYN_REMOVE_NOTIFICATION_2](L),L=null),i&&!L&&!0!==e&&(L=getDebugListener(r),i[_DYN_ADD_NOTIFICATION_LIS1](L)),_=getCfgValue(r.enablePerfMgr),!_&&d&&(d=null),_&&getSetValue(r,STR_CREATE_PERF_MGR,_createPerfManager),getSetValue(r,STR_EXTENSION_CONFIG,{}).NotificationManager=i,n&&(o[_DYN_LOGGER]=n),e=getSetValue(r,STR_EXTENSIONS,[]);(Y=[])[_DYN_PUSH$2].apply(Y,__spreadArrayFn(__spreadArrayFn([],t,!1),e)),g=getSetValue(r,STR_CHANNELS,[]),E(null),O&&0!==O[_DYN_LENGTH$5]||throwError("No "+STR_CHANNELS+" available"),S=!0,o.releaseQueue()},o.getTransmissionControls=function(){var t=[];return O&&arrForEach(O,function(e){t[_DYN_PUSH$2](e.queue)}),objFreeze(t)},o.track=function(e){e.iKey=e.iKey||r[_DYN_INSTRUMENTATION_KEY$2],e[_DYN_TIME]=e[_DYN_TIME]||toISOString(new Date),e.ver=e.ver||"4.0",!p&&o[_DYN_IS_INITIALIZED]()?_()[_DYN_PROCESS_NEXT](e):t[_DYN_PUSH$2](e)},o[_DYN_GET_PROCESS_TEL_CONT0]=_,o[_DYN_GET_NOTIFY_MGR]=function(){return i||(i=_createDummyNotificationManager(),o[strNotificationManager]=i),i},o[_DYN_ADD_NOTIFICATION_LIS1]=function(e){i&&i[_DYN_ADD_NOTIFICATION_LIS1](e)},o[_DYN_REMOVE_NOTIFICATION_2]=function(e){i&&i[_DYN_REMOVE_NOTIFICATION_2](e)},o.getCookieMgr=function(){return I=I||createCookieMgr(r,o[_DYN_LOGGER])},o.setCookieMgr=function(e){I=e},o[STR_GET_PERF_MGR]=function(){var e;return n||d||!getCfgValue(r.enablePerfMgr)||isFunction(e=getCfgValue(r[STR_CREATE_PERF_MGR]))&&(d=e(o,o[_DYN_GET_NOTIFY_MGR]())),n||d||getGblPerfMgr()},o.setPerfMgr=function(e){n=e},o.eventCnt=function(){return t[_DYN_LENGTH$5]},o.releaseQueue=function(){var e;S&&0<t[_DYN_LENGTH$5]&&(e=t,t=[],arrForEach(e,function(e){_()[_DYN_PROCESS_NEXT](e)}))},o.pollInternalLogs=function(e){return P=e||null,h=!1,y&&(clearInterval(y),y=null),a(!0)},o[_DYN_STOP_POLLING_INTERNA3]=function(){h=!0,y&&(clearInterval(y),y=0,D())},proxyFunctions(o,function(){return C},["addTelemetryInitializer"]),o.unload=function(e,t,n){void 0===e&&(e=!0),S||throwError(strSdkNotInitialized),p&&throwError(strSdkUnloadingError),(_={reason:50})[_DYN_IS_ASYNC]=e,_.flushComplete=!1;var _,r=_,i=createProcessTelemetryUnloadContext(u(),o);function a(e){r.flushComplete=e,p=!0,m.run(i,r),o[_DYN_STOP_POLLING_INTERNA3](),i[_DYN_PROCESS_NEXT](r)}i[_DYN_ON_COMPLETE](function(){s(),t&&t(r)},o),D(),T(e,a,6,n)||a(!1)},o[_DYN_GET_PLUGIN]=N,o.addPlugin=function(e,t,n,_){if(!e)return _&&_(!1),void l(strValidationError);var r=N(e[_DYN_IDENTIFIER]);if(r&&!t)return _&&_(!1),void l("Plugin ["+e[_DYN_IDENTIFIER]+"] is already loaded!");var i,a={reason:16};function o(){Y[_DYN_PUSH$2](e),a.added=[e],E(a),_&&_(!0)}r?c(i=[r.plugin],{reason:2,isAsync:!!n},function(e){e?(a.removed=i,a.reason|=32,o()):_&&_(!1)}):o()},o.evtNamespace=function(){return e},o[_DYN_FLUSH]=T,o.getTraceCtx=function(e){return v=v||createDistributedTraceContext()},o.setTraceCtx=function(e){v=e||null},proxyFunctionAs(o,"addUnloadCb",function(){return m},"add")})}return _.__ieDyn=1,_}();function _runListeners(e,n,_,r){arrForEach(e,function(e){if(e&&e[n])if(_)setTimeout(function(){return r(e)},0);else try{r(e)}catch(t){}})}var _a$2,NotificationManager=function(){function t(e){this.listeners=[];var n=!!(e||{}).perfEvtsSendAll;dynamicProto(t,this,function(_){_[_DYN_ADD_NOTIFICATION_LIS1]=function(e){_.listeners[_DYN_PUSH$2](e)},_[_DYN_REMOVE_NOTIFICATION_2]=function(e){for(var t=arrIndexOf(_[_DYN_LISTENERS],e);-1<t;)_.listeners[_DYN_SPLICE](t,1),t=arrIndexOf(_[_DYN_LISTENERS],e)},_[STR_EVENTS_SENT]=function(t){_runListeners(_[_DYN_LISTENERS],STR_EVENTS_SENT,!0,function(e){e[STR_EVENTS_SENT](t)})},_[STR_EVENTS_DISCARDED]=function(t,n){_runListeners(_[_DYN_LISTENERS],STR_EVENTS_DISCARDED,!0,function(e){e[STR_EVENTS_DISCARDED](t,n)})},_[STR_EVENTS_SEND_REQUEST]=function(t,n){_runListeners(_[_DYN_LISTENERS],STR_EVENTS_SEND_REQUEST,n,function(e){e[STR_EVENTS_SEND_REQUEST](t,n)})},_[STR_PERF_EVENT]=function(t){!t||!n&&t[_DYN_IS_CHILD_EVT]()||_runListeners(_[_DYN_LISTENERS],STR_PERF_EVENT,!1,function(e){t[_DYN_IS_ASYNC]?setTimeout(function(){return e[STR_PERF_EVENT](t)},0):e[STR_PERF_EVENT](t)})}})}return t.__ieDyn=1,t}(),AppInsightsCore=function(t){function n(){var e=t.call(this)||this;return dynamicProto(n,e,function(n,r){function _(e){var t=n[_DYN_GET_NOTIFY_MGR]();t&&t[STR_EVENTS_DISCARDED]([e],2)}n[_DYN_INITIALIZE]=function(e,t,n,_){r[_DYN_INITIALIZE](e,t,n||new DiagnosticLogger(e),_||new NotificationManager(e))},n.track=function(t){doPerf(n[STR_GET_PERF_MGR](),function(){return"AppInsightsCore:track"},function(){var e;null===t&&(_(t),throwError("Invalid telemetry item")),isNullOrUndefined((e=t)[_DYN_NAME$3])&&(_(e),throwError("telemetry name required")),r.track(t)},function(){return{item:t}},!t.sync)}}),e}return __extendsFn(n,t),n.__ieDyn=1,n}(BaseCore),FAILED="Failed",FAILED_MONITOR_AJAX=FAILED+"MonitorAjax",TRACK="Track",START="Start",STOP="Stop",EVENT="Event",AUTH_CONTEXT="AuthContext",EXCEPTION="Exception",LOCAL="Local",SESSION="Session",STORAGE="Storage",BROWSER="Browser",CANNOT="Cannot",BUFFER="Buffer",INSTRUMENTATION_KEY="InstrumentationKey",LoggingSeverity=createEnumStyle({CRITICAL:1,WARNING:2}),aiInstrumentHooks=(createEnumStyle(((_a$2={})[BROWSER+"DoesNotSupport"+LOCAL+STORAGE]=0,_a$2[BROWSER+CANNOT+"Read"+LOCAL+STORAGE]=1,_a$2[BROWSER+CANNOT+"Read"+SESSION+STORAGE]=2,_a$2[BROWSER+CANNOT+"Write"+LOCAL+STORAGE]=3,_a$2[BROWSER+CANNOT+"Write"+SESSION+STORAGE]=4,_a$2[BROWSER+FAILED+"RemovalFrom"+LOCAL+STORAGE]=5,_a$2[BROWSER+FAILED+"RemovalFrom"+SESSION+STORAGE]=6,_a$2[CANNOT+"SendEmptyTelemetry"]=7,_a$2.ClientPerformanceMathError=8,_a$2["ErrorParsingAI"+SESSION+"Cookie"]=9,_a$2.ErrorPVCalc=10,_a$2[EXCEPTION+"WhileLoggingError"]=11,_a$2[FAILED+"AddingTelemetryTo"+BUFFER]=12,_a$2[FAILED_MONITOR_AJAX+"Abort"]=13,_a$2[FAILED_MONITOR_AJAX+"Dur"]=14,_a$2[FAILED_MONITOR_AJAX+"Open"]=15,_a$2[FAILED_MONITOR_AJAX+"RSC"]=16,_a$2[FAILED_MONITOR_AJAX+"Send"]=17,_a$2[FAILED_MONITOR_AJAX+"GetCorrelationHeader"]=18,_a$2[FAILED+"ToAddHandlerForOnBeforeUnload"]=19,_a$2[FAILED+"ToSendQueuedTelemetry"]=20,_a$2[FAILED+"ToReportDataLoss"]=21,_a$2["Flush"+FAILED]=22,_a$2.MessageLimitPerPVExceeded=23,_a$2.MissingRequiredFieldSpecification=24,_a$2.NavigationTimingNotSupported=25,_a$2.OnError=26,_a$2[SESSION+"RenewalDateIsZero"]=27,_a$2.SenderNotInitialized=28,_a$2[START+TRACK+EVENT+FAILED]=29,_a$2[STOP+TRACK+EVENT+FAILED]=30,_a$2[START+TRACK+FAILED]=31,_a$2[STOP+TRACK+FAILED]=32,_a$2.TelemetrySampledAndNotSent=33,_a$2[TRACK+EVENT+FAILED]=34,_a$2[TRACK+EXCEPTION+FAILED]=35,_a$2[TRACK+"Metric"+FAILED]=36,_a$2[TRACK+"PV"+FAILED]=37,_a$2[TRACK+"PV"+FAILED+"Calc"]=38,_a$2[TRACK+"Trace"+FAILED]=39,_a$2["Transmission"+FAILED]=40,_a$2[FAILED+"ToSet"+STORAGE+BUFFER]=41,_a$2[FAILED+"ToRestore"+STORAGE+BUFFER]=42,_a$2.InvalidBackendResponse=43,_a$2[FAILED+"ToFixDepricatedValues"]=44,_a$2.InvalidDurationValue=45,_a$2.TelemetryEnvelopeInvalid=46,_a$2.CreateEnvelopeError=47,_a$2[CANNOT+"SerializeObject"]=48,_a$2[CANNOT+"SerializeObjectNonSerializable"]=49,_a$2.CircularReferenceDetected=50,_a$2["Clear"+AUTH_CONTEXT+FAILED]=51,_a$2[EXCEPTION+"Truncated"]=52,_a$2.IllegalCharsInName=53,_a$2.ItemNotInArray=54,_a$2.MaxAjaxPerPVExceeded=55,_a$2.MessageTruncated=56,_a$2.NameTooLong=57,_a$2.SampleRateOutOfRange=58,_a$2["Set"+AUTH_CONTEXT+FAILED]=59,_a$2["Set"+AUTH_CONTEXT+FAILED+"AccountName"]=60,_a$2.StringValueTooLong=61,_a$2.StartCalledMoreThanOnce=62,_a$2.StopCalledWithoutStart=63,_a$2["TelemetryInitializer"+FAILED]=64,_a$2.TrackArgumentsNotSpecified=65,_a$2.UrlTooLong=66,_a$2[SESSION+STORAGE+BUFFER+"Full"]=67,_a$2[CANNOT+"AccessCookie"]=68,_a$2.IdTooLong=69,_a$2.InvalidEvent=70,_a$2[FAILED_MONITOR_AJAX+"SetRequestHeader"]=71,_a$2["Send"+BROWSER+"InfoOnUserInit"]=72,_a$2["Plugin"+EXCEPTION]=73,_a$2["Notification"+EXCEPTION]=74,_a$2.SnippetScriptLoadFailure=99,_a$2["Invalid"+INSTRUMENTATION_KEY]=100,_a$2[CANNOT+"ParseAiBlobValue"]=101,_a$2.InvalidContentBlob=102,_a$2[TRACK+"PageAction"+EVENT+FAILED]=103,_a$2[FAILED+"AddingCustomDefinedRequestContext"]=104,_a$2["InMemory"+STORAGE+BUFFER+"Full"]=105,_a$2[INSTRUMENTATION_KEY+"Deprecation"]=106,_a$2)),"_aiHooks"),cbNames=["req","rsp","hkErr","fnErr"];function _arrLoop(e,t){if(e)for(var n=0;n<e[_DYN_LENGTH$5]&&!t(e[n],n);n++);}function _doCallbacks(e,a,o,s,E){0<=E&&E<=2&&_arrLoop(e,function(e,t){var e=e.cbks,n=e[cbNames[E]];if(n){a.ctx=function(){return s[t]=s[t]||{}};try{n[_DYN_APPLY](a.inst,o)}catch(r){n=a.err;try{var _=e[cbNames[2]];_&&(a.err=r,_[_DYN_APPLY](a.inst,o))}catch(i){}finally{a.err=n}}}})}function _createFunctionHook(s){return function(){var n=arguments,e=s.h,_=((t={})[_DYN_NAME$3]=s.n,t.inst=this,t.ctx=null,t.set=function(e,t){(n=i([],n))[e]=t,r=i([_],n)},t),t=[],r=i([_],n);function i(t,e){return _arrLoop(e,function(e){t[_DYN_PUSH$2](e)}),t}_.evt=getGlobalInst("event"),_doCallbacks(e,_,r,t,0);var a=s.f;if(a)try{_.rslt=a[_DYN_APPLY](this,n)}catch(o){throw _.err=o,_doCallbacks(e,_,r,t,3),o}return _doCallbacks(e,_,r,t,1),_.rslt}}function _getOwner(e,t,n,_){var r=null;return e&&(hasOwnProperty(e,t)?r=e:n&&(r=_getOwner(_getObjProto$1(e),t,_,!1))),r}function InstrumentProto(e,t,n){return e?InstrumentFunc(e[strShimPrototype],t,n,!1):null}function _createInstrumentHook(e,t,n,_){var r=n&&n[aiInstrumentHooks],t=(r||((n=_createFunctionHook(r={i:0,n:t,f:n,h:[]}))[aiInstrumentHooks]=r,e[t]=n),{id:r.i,cbks:_,rm:function(){var n=this.id;_arrLoop(r.h,function(e,t){if(e.id===n)return r.h[_DYN_SPLICE](t,1),1})}});return r.i++,r.h[_DYN_PUSH$2](t),t}function InstrumentFunc(e,t,n,_,r){if(void 0===_&&(_=!0),e&&t&&n){e=_getOwner(e,t,_,r);if(e){_=e[t];if(typeof _===strShimFunction)return _createInstrumentHook(e,t,_,n)}}return null}function InstrumentEvent(e,t,n,_,r){if(e&&t&&n){_=_getOwner(e,t,_,r)||e;if(_)return _createInstrumentHook(_,t,_[t],n)}return null}var DisabledPropertyName="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",SampleRate="sampleRate",ProcessLegacy="ProcessLegacy",HttpMethod="http.method",DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",DEFAULT_BREEZE_PATH="/v2/track",strNotSpecified="not_specified",strIkey="iKey";function createDomEvent(e){var t,n=null;return isFunction(Event)?n=new Event(e):(t=getDocument())&&t.createEvent&&(n=t.createEvent("Event")).initEvent(e,!0,!0),n}var _DYN_SPLIT="split",_DYN_LENGTH$4="length",_DYN_TO_LOWER_CASE$1="toLowerCase",_DYN_INGESTIONENDPOINT="ingestionendpoint",_DYN_TO_STRING$2="toString",_DYN_REMOVE_ITEM="removeItem",_DYN_NAME$2="name",_DYN_MESSAGE$1="message",_DYN_COUNT$1="count",_DYN_STRINGIFY$1="stringify",_DYN_PATHNAME="pathname",_DYN_CORRELATION_HEADER_E0="correlationHeaderExcludePatterns",_DYN_INDEX_OF$1="indexOf",_DYN_EXTENSION_CONFIG="extensionConfig",_DYN_EXCEPTIONS="exceptions",_DYN_PARSED_STACK="parsedStack",_DYN_PROPERTIES="properties",_DYN_MEASUREMENTS$1="measurements",_DYN_SIZE_IN_BYTES="sizeInBytes",_DYN_TYPE_NAME="typeName",_DYN_SEVERITY_LEVEL="severityLevel",_DYN_PROBLEM_GROUP="problemGroup",_DYN_IS_MANUAL="isManual",_DYN__CREATE_FROM_INTERFA1="CreateFromInterface",_DYN_ASSEMBLY="assembly",_DYN_FILE_NAME="fileName",_DYN_HAS_FULL_STACK="hasFullStack",_DYN_LEVEL="level",_DYN_METHOD$1="method",_DYN_LINE="line",_DYN_DURATION$1="duration",_DYN_RECEIVED_RESPONSE="receivedResponse",_DYN_SUBSTRING="substring",_DYN_SANITIZE_KEY_AND_ADD2="sanitizeKeyAndAddUniqueness",_DYN_SANITIZE_EXCEPTION="sanitizeException",_DYN_SANITIZE_PROPERTIES="sanitizeProperties",_DYN_SANITIZE_MEASUREMENT3="sanitizeMeasurements",strEmpty="";function stringToBoolOrDefault(e,t){return void 0===t&&(t=!1),e===undefined||null===e?t:"true"===e.toString()[_DYN_TO_LOWER_CASE$1]()}function msToTimeSpan(e){var t=strEmpty+Math.floor((e=Math.round(e=isNaN(e)||e<0?0:e))/1e3)%60,n=strEmpty+Math.floor(e/6e4)%60,_=strEmpty+Math.floor(e/36e5)%24,r=Math.floor(e/864e5),e=1===(e=strEmpty+e%1e3)[_DYN_LENGTH$4]?"00"+e:2===e[_DYN_LENGTH$4]?"0"+e:e,t=t[_DYN_LENGTH$4]<2?"0"+t:t,n=n[_DYN_LENGTH$4]<2?"0"+n:n,_=_[_DYN_LENGTH$4]<2?"0"+_:_;return(0<r?r+".":strEmpty)+_+":"+n+":"+t+"."+e}function getExtensionByName(e,t){var n=null;return arrForEach(e,function(e){if(e.identifier===t)return n=e,-1}),n}function isCrossOriginError(e,t,n,_,r){return!r&&isString(e)&&("Script error."===e||"Script error"===e)}var _a$1,RequestHeaders=createValueMap({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),StorageType=createEnumStyle({LocalStorage:0,SessionStorage:1}),DistributedTracingModes=createEnumStyle({AI:0,AI_AND_W3C:1,W3C:2}),_canUseLocalStorage=undefined,_canUseSessionStorage=undefined,_storagePrefix="";function _getLocalStorageObject(){return utlCanUseLocalStorage()?_getVerifiedStorageObject(StorageType.LocalStorage):null}function _getVerifiedStorageObject(e){try{if(isNullOrUndefined(getGlobal()))return null;var t=(new Date)[_DYN_TO_STRING$2](),n=getGlobalInst(e===StorageType.LocalStorage?"localStorage":"sessionStorage"),_=_storagePrefix+t,r=(n.setItem(_,t),n.getItem(_)!==t);if(n[_DYN_REMOVE_ITEM](_),!r)return n}catch(i){}return null}function _getSessionStorageObject(){return utlCanUseSessionStorage()?_getVerifiedStorageObject(StorageType.SessionStorage):null}function utlDisableStorage(){_canUseSessionStorage=_canUseLocalStorage=!1}function utlSetStoragePrefix(e){_storagePrefix=e||""}function utlEnableStorage(){_canUseLocalStorage=utlCanUseLocalStorage(!0),_canUseSessionStorage=utlCanUseSessionStorage(!0)}function utlCanUseLocalStorage(e){return _canUseLocalStorage=e||_canUseLocalStorage===undefined?!!_getVerifiedStorageObject(StorageType.LocalStorage):_canUseLocalStorage}function utlGetLocalStorage(e,t){var n=_getLocalStorageObject();if(null!==n)try{return n.getItem(t)}catch(_){_canUseLocalStorage=!1,_throwInternal(e,2,1,"Browser failed read of local storage. "+getExceptionName(_),{exception:dumpObj(_)})}return null}function utlSetLocalStorage(e,t,n){var _=_getLocalStorageObject();if(null!==_)try{return _.setItem(t,n),!0}catch(r){_canUseLocalStorage=!1,_throwInternal(e,2,3,"Browser failed write to local storage. "+getExceptionName(r),{exception:dumpObj(r)})}return!1}function utlRemoveStorage(e,t){var n=_getLocalStorageObject();if(null!==n)try{return n[_DYN_REMOVE_ITEM](t),!0}catch(_){_canUseLocalStorage=!1,_throwInternal(e,2,5,"Browser failed removal of local storage item. "+getExceptionName(_),{exception:dumpObj(_)})}return!1}function utlCanUseSessionStorage(e){return _canUseSessionStorage=e||_canUseSessionStorage===undefined?!!_getVerifiedStorageObject(StorageType.SessionStorage):_canUseSessionStorage}function utlGetSessionStorageKeys(){var t=[];return utlCanUseSessionStorage()&&objForEachKey(getGlobalInst("sessionStorage"),function(e){t.push(e)}),t}function utlGetSessionStorage(e,t){var n=_getSessionStorageObject();if(null!==n)try{return n.getItem(t)}catch(_){_canUseSessionStorage=!1,_throwInternal(e,2,2,"Browser failed read of session storage. "+getExceptionName(_),{exception:dumpObj(_)})}return null}function utlSetSessionStorage(e,t,n){var _=_getSessionStorageObject();if(null!==_)try{return _.setItem(t,n),!0}catch(r){_canUseSessionStorage=!1,_throwInternal(e,2,4,"Browser failed write to session storage. "+getExceptionName(r),{exception:dumpObj(r)})}return!1}function utlRemoveSessionStorage(e,t){var n=_getSessionStorageObject();if(null!==n)try{return n[_DYN_REMOVE_ITEM](t),!0}catch(_){_canUseSessionStorage=!1,_throwInternal(e,2,6,"Browser failed removal of session storage item. "+getExceptionName(_),{exception:dumpObj(_)})}return!1}function dataSanitizeKeyAndAddUniqueness(e,t,n){var _=t[_DYN_LENGTH$4],r=dataSanitizeKey(e,t);if(r[_DYN_LENGTH$4]!==_){for(var i=0,a=r;n[a]!==undefined;)i++,a=r[_DYN_SUBSTRING](0,147)+dsPadNumber(i);r=a}return r}function dataSanitizeKey(e,t){var n;return t&&150<(t=strTrim(t[_DYN_TO_STRING$2]()))[_DYN_LENGTH$4]&&(n=t[_DYN_SUBSTRING](0,150),_throwInternal(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),n||t}function dataSanitizeString(e,t,n){var _;return void 0===n&&(n=1024),t&&(n=n||1024,(t=strTrim(t)).toString()[_DYN_LENGTH$4]>n&&(_=t[_DYN_TO_STRING$2]()[_DYN_SUBSTRING](0,n),_throwInternal(e,2,61,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),_||t}function dataSanitizeUrl(e,t){return dataSanitizeInput(e,t,2048,66)}function dataSanitizeMessage(e,t){var n;return t&&32768<t[_DYN_LENGTH$4]&&(n=t[_DYN_SUBSTRING](0,32768),_throwInternal(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function dataSanitizeException(e,t){var n,_;return t&&32768<(_=""+t)[_DYN_LENGTH$4]&&(n=_[_DYN_SUBSTRING](0,32768),_throwInternal(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0)),n||t}function dataSanitizeProperties(_,e){var r;return e&&(r={},objForEachKey(e,function(e,t){if(isObject(t)&&hasJSON())try{t=getJSON()[_DYN_STRINGIFY$1](t)}catch(n){_throwInternal(_,2,49,"custom property is not valid",{exception:n},!0)}t=dataSanitizeString(_,t,8192),e=dataSanitizeKeyAndAddUniqueness(_,e,r),r[e]=t}),e=r),e}function dataSanitizeMeasurements(n,e){var _;return e&&(_={},objForEachKey(e,function(e,t){e=dataSanitizeKeyAndAddUniqueness(n,e,_),_[e]=t}),e=_),e}function dataSanitizeId(e,t){return t&&dataSanitizeInput(e,t,128,69)[_DYN_TO_STRING$2]()}function dataSanitizeInput(e,t,n,_){var r;return t&&(t=strTrim(t))[_DYN_LENGTH$4]>n&&(r=t[_DYN_SUBSTRING](0,n),_throwInternal(e,2,_,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),r||t}function dsPadNumber(e){e="00"+e;return e.substr(e[_DYN_LENGTH$4]-3)}(_a$1={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768})[_DYN_SANITIZE_KEY_AND_ADD2]=dataSanitizeKeyAndAddUniqueness,_a$1.sanitizeKey=dataSanitizeKey,_a$1.sanitizeString=dataSanitizeString,_a$1.sanitizeUrl=dataSanitizeUrl,_a$1.sanitizeMessage=dataSanitizeMessage,_a$1[_DYN_SANITIZE_EXCEPTION]=dataSanitizeException,_a$1[_DYN_SANITIZE_PROPERTIES]=dataSanitizeProperties,_a$1[_DYN_SANITIZE_MEASUREMENT3]=dataSanitizeMeasurements,_a$1.sanitizeId=dataSanitizeId,_a$1.sanitizeInput=dataSanitizeInput,_a$1.padNumber=dsPadNumber,_a$1.trim=strTrim;var DataSanitizer=_a$1,_document=getDocument()||{},_htmlAnchorIdx=0,_htmlAnchorElement=[null,null,null,null,null];function urlParseUrl(e){var t=_htmlAnchorIdx,n=_htmlAnchorElement,_=n[t];return _document.createElement?n[t]||(_=n[t]=_document.createElement("a")):_={host:urlParseHost(e,!0)},_.href=e,++t>=n[_DYN_LENGTH$4]&&(t=0),_htmlAnchorIdx=t,_}function urlGetAbsoluteUrl(e){e=urlParseUrl(e);return e?e.href:void 0}function urlGetPathName(e){e=urlParseUrl(e);return e?e[_DYN_PATHNAME]:void 0}function urlGetCompleteUrl(e,t){return e?e.toUpperCase()+" "+t:t}function urlParseHost(e,t){e=urlParseFullHost(e,t)||"";if(e){t=e.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(null!=t&&3<t[_DYN_LENGTH$4]&&isString(t[2])&&0<t[2][_DYN_LENGTH$4])return t[2]+(t[3]||"")}return e}function urlParseFullHost(e,t){var n=null;return e&&null!=(e=e.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i))&&2<e[_DYN_LENGTH$4]&&isString(e[2])&&0<e[2][_DYN_LENGTH$4]&&(n=e[2]||"",t&&2<e[_DYN_LENGTH$4]&&(t=(e[1]||"")[_DYN_TO_LOWER_CASE$1](),e=e[3]||"",n+=e="http"===t&&":80"===e||"https"===t&&":443"===e?"":e)),n}var _internalEndpoints=[DEFAULT_BREEZE_ENDPOINT+DEFAULT_BREEZE_PATH,"https://breeze.aimon.applicationinsights.io"+DEFAULT_BREEZE_PATH,"https://dc-int.services.visualstudio.com"+DEFAULT_BREEZE_PATH];function isInternalApplicationInsightsEndpoint(e){return-1!==arrIndexOf(_internalEndpoints,e[_DYN_TO_LOWER_CASE$1]())}var Util={NotSpecified:strNotSpecified,createDomEvent:createDomEvent,disableStorage:utlDisableStorage,isInternalApplicationInsightsEndpoint:isInternalApplicationInsightsEndpoint,canUseLocalStorage:utlCanUseLocalStorage,getStorage:utlGetLocalStorage,setStorage:utlSetLocalStorage,removeStorage:utlRemoveStorage,canUseSessionStorage:utlCanUseSessionStorage,getSessionStorageKeys:utlGetSessionStorageKeys,getSessionStorage:utlGetSessionStorage,setSessionStorage:utlSetSessionStorage,removeSessionStorage:utlRemoveSessionStorage,disableCookies:disableCookies,canUseCookies:canUseCookies,disallowsSameSiteNone:uaDisallowsSameSiteNone,setCookie:setCookie,stringToBoolOrDefault:stringToBoolOrDefault,getCookie:getCookie,deleteCookie:deleteCookie,trim:strTrim,newId:newId,random32:function(){return random32(!0)},generateW3CId:generateW3CId,isArray:isArray,isError:isError,isDate:isDate,toISOStringForIE8:toISOString,getIEVersion:getIEVersion,msToTimeSpan:msToTimeSpan,isCrossOriginError:isCrossOriginError,dump:dumpObj,getExceptionName:getExceptionName,addEventHandler:attachEvent,IsBeaconApiSupported:isBeaconsSupported,getExtension:getExtensionByName},UrlHelper={parseUrl:urlParseUrl,getAbsoluteUrl:urlGetAbsoluteUrl,getPathName:urlGetPathName,getCompleteUrl:urlGetCompleteUrl,parseHost:urlParseHost,parseFullHost:urlParseFullHost},CorrelationIdHelper={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e[_DYN_CORRELATION_HEADER_E0])for(var _=0;_<e.correlationHeaderExcludePatterns[_DYN_LENGTH$4];_++)if(e[_DYN_CORRELATION_HEADER_E0][_].test(t))return!1;var r=urlParseUrl(t).host[_DYN_TO_LOWER_CASE$1]();if(!r||-1===r[_DYN_INDEX_OF$1](":443")&&-1===r[_DYN_INDEX_OF$1](":80")||(r=(urlParseFullHost(t,!0)||"")[_DYN_TO_LOWER_CASE$1]()),(!e||!e.enableCorsCorrelation)&&r&&r!==n)return!1;var i,n=e&&e.correlationHeaderDomains;if(n&&(arrForEach(n,function(e){e=RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));i=i||e.test(r)}),!i))return!1;var a=e&&e.correlationHeaderExcludedDomains;if(!a||0===a[_DYN_LENGTH$4])return!0;for(_=0;_<a[_DYN_LENGTH$4];_++)if(RegExp(a[_].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(r))return!1;return r&&0<r[_DYN_LENGTH$4]},getCorrelationContext:function(e){if(e){e=CorrelationIdHelper.getCorrelationContextValue(e,RequestHeaders[1]);if(e&&e!==CorrelationIdHelper.correlationIdPrefix)return e}},getCorrelationContextValue:function(e,t){if(e)for(var n=e[_DYN_SPLIT](","),_=0;_<n[_DYN_LENGTH$4];++_){var r=n[_][_DYN_SPLIT]("=");if(2===r[_DYN_LENGTH$4]&&r[0]===t)return r[1]}}};function AjaxHelperParseDependencyPath(e,t,n,_){var r,i,a,o=_,s=_,o=t&&0<t[_DYN_LENGTH$4]?(a=(r=urlParseUrl(t)).host,o||(null!=r[_DYN_PATHNAME]?("/"!=((i=0===r.pathname[_DYN_LENGTH$4]?"/":r[_DYN_PATHNAME])[0]||"")&&(i="/"+i),s=r[_DYN_PATHNAME],dataSanitizeString(e,n?n+" "+i:i)):dataSanitizeString(e,t))):a=_;return{target:a,name:o,data:s}}function dateTimeUtilsNow(){var e=getPerformance();if(e&&e.now&&e.timing){e=e.now()+e.timing.navigationStart;if(0<e)return e}return dateNow()}function dateTimeUtilsDuration(e,t){return 0===e||0===t||isNullOrUndefined(e)||isNullOrUndefined(t)?null:t-e}var DateTimeUtils={Now:dateTimeUtilsNow,GetDuration:dateTimeUtilsDuration};function createDistributedTraceContextFromTrace(e,t){var n=e||{};return{getName:function(){return n[_DYN_NAME$2]},setName:function(e){t&&t.setName(e),n[_DYN_NAME$2]=e},getTraceId:function(){return n.traceID},setTraceId:function(e){t&&t.setTraceId(e),isValidTraceId(e)&&(n.traceID=e)},getSpanId:function(){return n.parentID},setSpanId:function(e){t&&t.setSpanId(e),isValidSpanId(e)&&(n.parentID=e)},getTraceFlags:function(){return n.traceFlags},setTraceFlags:function(e){t&&t.setTraceFlags(e),n.traceFlags=e}}}var _FIELDS_SEPARATOR=";",_FIELD_KEY_VALUE_SEPARATOR="=";function parseConnectionString(e){if(!e)return{};var t,e=arrReduce(e[_DYN_SPLIT](_FIELDS_SEPARATOR),function(e,t){var n,t=t[_DYN_SPLIT](_FIELD_KEY_VALUE_SEPARATOR);return 2===t[_DYN_LENGTH$4]&&(n=t[0][_DYN_TO_LOWER_CASE$1](),t=t[1],e[n]=t),e},{});return 0<objKeys(e)[_DYN_LENGTH$4]&&(e.endpointsuffix&&(t=e.location?e.location+".":"",e[_DYN_INGESTIONENDPOINT]=e[_DYN_INGESTIONENDPOINT]||"https://"+t+"dc."+e.endpointsuffix,strEndsWith(e[_DYN_INGESTIONENDPOINT],"/")&&(e[_DYN_INGESTIONENDPOINT]=e[_DYN_INGESTIONENDPOINT].slice(0,-1))),e[_DYN_INGESTIONENDPOINT]=e[_DYN_INGESTIONENDPOINT]||DEFAULT_BREEZE_ENDPOINT),e}var ConnectionStringParser={parse:parseConnectionString},Envelope=function(e,t,n){var _=this,r=this;r.ver=1,r.sampleRate=100,r.tags={},r[_DYN_NAME$2]=dataSanitizeString(e,n)||strNotSpecified,r.data=t,r.time=toISOString(new Date),r.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===_.sampleRate?4:1},tags:1,data:1}},Event$1=function(){function e(e,t,n,_){this.aiDataContract={ver:1,name:1,properties:0,measurements:0},this.ver=2,this[_DYN_NAME$2]=dataSanitizeString(e,t)||strNotSpecified,this[_DYN_PROPERTIES]=dataSanitizeProperties(e,n),this[_DYN_MEASUREMENTS$1]=dataSanitizeMeasurements(e,_)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}(),NoMethod="<no_method>",strError="error",strStack="stack",strStackDetails="stackDetails",strErrorSrc="errorSrc",strMessage="message",strDescription="description";function _stringify(e,t){var n=e;return n&&!isString(n)&&(JSON&&JSON[_DYN_STRINGIFY$1]?(n=JSON[_DYN_STRINGIFY$1](e),!t||n&&"{}"!==n||(n=isFunction(e[_DYN_TO_STRING$2])?e[_DYN_TO_STRING$2]():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function _formatMessage(e,t){var n=e;return e&&((n=n&&!isString(n)&&(e[strMessage]||e[strDescription])||n)&&!isString(n)&&(n=_stringify(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),(t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(n||"")[_DYN_INDEX_OF$1](t)?t+": "+n:n)||""}function _isExceptionDetailsInternal(e){try{if(isObject(e))return"hasFullStack"in e&&"typeName"in e}catch(t){}return!1}function _isExceptionInternal(e){try{if(isObject(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(t){}return!1}function _isStackDetails(e){return e&&e.src&&isString(e.src)&&e.obj&&isArray(e.obj)}function _convertStackObj(e){var e=e||"",t=(e=isString(e)?e:isString(e[strStack])?e[strStack]:""+e)[_DYN_SPLIT]("\n");return{src:e,obj:t}}function _getOperaStack(e){for(var t=[],n=e[_DYN_SPLIT]("\n"),_=0;_<n[_DYN_LENGTH$4];_++){var r=n[_];n[_+1]&&(r+="@"+n[_+1],_++),t.push(r)}return{src:e,obj:t}}function _getStackFromErrorObj(e){var t,n=null;if(e)try{e[strStack]?n=_convertStackObj(e[strStack]):e[strError]&&e[strError][strStack]?n=_convertStackObj(e[strError][strStack]):e.exception&&e.exception[strStack]?n=_convertStackObj(e.exception[strStack]):_isStackDetails(e)?n=e:_isStackDetails(e[strStackDetails])?n=e[strStackDetails]:window&&window.opera&&e[strMessage]?n=_getOperaStack(e[_DYN_MESSAGE$1]):e.reason&&e.reason[strStack]?n=_convertStackObj(e.reason[strStack]):isString(e)?n=_convertStackObj(e):(t=e[strMessage]||e[strDescription]||"",isString(e[strErrorSrc])&&(t&&(t+="\n"),t+=" from "+e[strErrorSrc]),t&&(n=_convertStackObj(t)))}catch(_){n=_convertStackObj(_)}return n||{src:"",obj:null}}function _formatStackTrace(e){var t="";return e&&(e.obj?arrForEach(e.obj,function(e){t+=e+"\n"}):t=e.src||""),t}function _parseStack(e){e=e.obj;if(e&&0<e[_DYN_LENGTH$4]){var t=[],n=0,_=0;if(arrForEach(e,function(e){var e=e[_DYN_TO_STRING$2]();_StackFrame.regex.test(e)&&(e=new _StackFrame(e,n++),_+=e[_DYN_SIZE_IN_BYTES],t.push(e))}),32768<_)for(var r=0,i=t[_DYN_LENGTH$4]-1,a=0,o=r,s=i;r<i;){if(32768<(a+=t[r][_DYN_SIZE_IN_BYTES]+t[i][_DYN_SIZE_IN_BYTES])){t.splice(o,s-o+1);break}o=r,s=i,r++,i--}}return t}function _getErrorType(e){var t="";if(e&&!(t=e.typeName||e[_DYN_NAME$2]||""))try{var n=/function (.{1,200})\(/.exec(e.constructor[_DYN_TO_STRING$2]()),t=n&&1<n[_DYN_LENGTH$4]?n[1]:""}catch(_){}return t}function _formatErrorCode(e){if(e)try{var t,n;if(!isString(e))return t=_getErrorType(e),(n=_stringify(e,!1))&&"{}"!==n||(e[strError]&&(t=_getErrorType(e=e[strError])),n=_stringify(e,!0)),0!==n[_DYN_INDEX_OF$1](t)&&"String"!==t?t+":"+n:n}catch(_){}return""+(e||"")}var Exception=function(){function i(e,t,n,_,r,i){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var a=this;a.ver=2,_isExceptionInternal(t)?(a[_DYN_EXCEPTIONS]=t[_DYN_EXCEPTIONS]||[],a[_DYN_PROPERTIES]=t[_DYN_PROPERTIES],a[_DYN_MEASUREMENTS$1]=t[_DYN_MEASUREMENTS$1],t[_DYN_SEVERITY_LEVEL]&&(a[_DYN_SEVERITY_LEVEL]=t[_DYN_SEVERITY_LEVEL]),t.id&&(a.id=t.id),t[_DYN_PROBLEM_GROUP]&&(a[_DYN_PROBLEM_GROUP]=t[_DYN_PROBLEM_GROUP]),isNullOrUndefined(t[_DYN_IS_MANUAL])||(a[_DYN_IS_MANUAL]=t[_DYN_IS_MANUAL])):(a[_DYN_EXCEPTIONS]=[new _ExceptionDetails(e,t,n=n||{})],a[_DYN_PROPERTIES]=dataSanitizeProperties(e,n),a[_DYN_MEASUREMENTS$1]=dataSanitizeMeasurements(e,_),r&&(a[_DYN_SEVERITY_LEVEL]=r),i&&(a.id=i))}return i.CreateAutoException=function(e,t,n,_,r,i,a,o){var s=_getErrorType(r||i||e),E={};return E[_DYN_MESSAGE$1]=_formatMessage(e,s),E.url=t,E.lineNumber=n,E.columnNumber=_,E.error=_formatErrorCode(r||i||e),E.evt=_formatErrorCode(i||e),E[_DYN_TYPE_NAME]=s,E.stackDetails=_getStackFromErrorObj(a||r||i),E.errorSrc=o,E},i.CreateFromInterface=function(t,e,n,_){var r=e[_DYN_EXCEPTIONS]&&arrMap(e[_DYN_EXCEPTIONS],function(e){return _ExceptionDetails[_DYN__CREATE_FROM_INTERFA1](t,e)});return new i(t,__assignFn(__assignFn({},e),{exceptions:r}),n,_)},i.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,_=e.measurements,r=e.severityLevel,i=e.problemGroup,a=e.id,e=e.isManual,t=t instanceof Array&&arrMap(t,function(e){return e.toInterface()})||undefined,o={ver:"4.0"};return o[_DYN_EXCEPTIONS]=t,o.severityLevel=r,o.properties=n,o.measurements=_,o.problemGroup=i,o.id=a,o.isManual=e,o},i.CreateSimpleException=function(e,t,n,_,r,i){var a;return{exceptions:[((a={})[_DYN_HAS_FULL_STACK]=!0,a.message=e,a.stack=r,a.typeName=t,a)]}},i.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",i.dataType="ExceptionData",i.formatError=_formatErrorCode,i}(),_ExceptionDetails=function(){function _(t,e,n){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var _,r,i=this;_isExceptionDetailsInternal(e)?(i[_DYN_TYPE_NAME]=e[_DYN_TYPE_NAME],i[_DYN_MESSAGE$1]=e[_DYN_MESSAGE$1],i[strStack]=e[strStack],i[_DYN_PARSED_STACK]=e[_DYN_PARSED_STACK]||[],i[_DYN_HAS_FULL_STACK]=e[_DYN_HAS_FULL_STACK]):(r=(_=e)&&_.evt,isError(_)||(_=_[strError]||r||_),i[_DYN_TYPE_NAME]=dataSanitizeString(t,_getErrorType(_))||strNotSpecified,i[_DYN_MESSAGE$1]=dataSanitizeMessage(t,_formatMessage(e||_,i[_DYN_TYPE_NAME]))||strNotSpecified,r=e[strStackDetails]||_getStackFromErrorObj(e),i[_DYN_PARSED_STACK]=_parseStack(r),isArray(i[_DYN_PARSED_STACK])&&arrMap(i[_DYN_PARSED_STACK],function(e){e[_DYN_ASSEMBLY]=dataSanitizeString(t,e[_DYN_ASSEMBLY]),e[_DYN_FILE_NAME]=dataSanitizeString(t,e[_DYN_FILE_NAME])}),i[strStack]=dataSanitizeException(t,_formatStackTrace(r)),i.hasFullStack=isArray(i.parsedStack)&&0<i.parsedStack[_DYN_LENGTH$4],n&&(n[_DYN_TYPE_NAME]=n[_DYN_TYPE_NAME]||i[_DYN_TYPE_NAME]))}return _.prototype.toInterface=function(){var e=this,t=e[_DYN_PARSED_STACK]instanceof Array&&arrMap(e[_DYN_PARSED_STACK],function(e){return e.toInterface()});return(e={id:e.id,outerId:e.outerId,typeName:e[_DYN_TYPE_NAME],message:e[_DYN_MESSAGE$1],hasFullStack:e[_DYN_HAS_FULL_STACK],stack:e[strStack]})[_DYN_PARSED_STACK]=t||undefined,e},_.CreateFromInterface=function(e,t){var n=t[_DYN_PARSED_STACK]instanceof Array&&arrMap(t[_DYN_PARSED_STACK],function(e){return _StackFrame[_DYN__CREATE_FROM_INTERFA1](e)})||t[_DYN_PARSED_STACK];return new _(e,__assignFn(__assignFn({},t),{parsedStack:n}))},_}(),_StackFrame=function(){function r(e,t){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var n,_=this;_[_DYN_SIZE_IN_BYTES]=0,"string"==typeof e?(n=e,_[_DYN_LEVEL]=t,_[_DYN_METHOD$1]=NoMethod,_[_DYN_ASSEMBLY]=strTrim(n),_[_DYN_FILE_NAME]="",_[_DYN_LINE]=0,(t=n.match(r.regex))&&5<=t[_DYN_LENGTH$4]&&(_[_DYN_METHOD$1]=strTrim(t[2])||_[_DYN_METHOD$1],_[_DYN_FILE_NAME]=strTrim(t[4]),_[_DYN_LINE]=parseInt(t[5])||0)):(_[_DYN_LEVEL]=e[_DYN_LEVEL],_[_DYN_METHOD$1]=e[_DYN_METHOD$1],_[_DYN_ASSEMBLY]=e[_DYN_ASSEMBLY],_[_DYN_FILE_NAME]=e[_DYN_FILE_NAME],_[_DYN_LINE]=e[_DYN_LINE],_[_DYN_SIZE_IN_BYTES]=0),_.sizeInBytes+=_.method[_DYN_LENGTH$4],_.sizeInBytes+=_.fileName[_DYN_LENGTH$4],_.sizeInBytes+=_.assembly[_DYN_LENGTH$4],_[_DYN_SIZE_IN_BYTES]+=r.baseSize,_.sizeInBytes+=_.level.toString()[_DYN_LENGTH$4],_.sizeInBytes+=_.line.toString()[_DYN_LENGTH$4]}return r.CreateFromInterface=function(e){return new r(e,null)},r.prototype.toInterface=function(){var e=this;return{level:e[_DYN_LEVEL],method:e[_DYN_METHOD$1],assembly:e[_DYN_ASSEMBLY],fileName:e[_DYN_FILE_NAME],line:e[_DYN_LINE]}},r.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,r.baseSize=58,r}(),DataPoint=function(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0},Metric=function(){function e(e,t,n,_,r,i,a,o,s){this.aiDataContract={ver:1,metrics:1,properties:0},this.ver=2;var E=new DataPoint;E[_DYN_COUNT$1]=0<_?_:undefined,E.max=isNaN(i)||null===i?undefined:i,E.min=isNaN(r)||null===r?undefined:r,E[_DYN_NAME$2]=dataSanitizeString(e,t)||strNotSpecified,E.value=n,E.stdDev=isNaN(a)||null===a?undefined:a,this.metrics=[E],this[_DYN_PROPERTIES]=dataSanitizeProperties(e,o),this[_DYN_MEASUREMENTS$1]=dataSanitizeMeasurements(e,s)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}(),PageView=function(){function e(e,t,n,_,r,i,a){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var o=this;o.ver=2,o.id=dataSanitizeId(e,a),o.url=dataSanitizeUrl(e,n),o[_DYN_NAME$2]=dataSanitizeString(e,t)||strNotSpecified,isNaN(_)||(o[_DYN_DURATION$1]=msToTimeSpan(_)),o[_DYN_PROPERTIES]=dataSanitizeProperties(e,r),o[_DYN_MEASUREMENTS$1]=dataSanitizeMeasurements(e,i)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(),RemoteDependencyData=function(){function e(e,t,n,_,r,i,a,o,s,E,N,u){void 0===s&&(s="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var c=this,t=(c.ver=2,c.id=t,c[_DYN_DURATION$1]=msToTimeSpan(r),c.success=i,c.resultCode=a+"",c.type=dataSanitizeString(e,s),AjaxHelperParseDependencyPath(e,n,o,_));c.data=dataSanitizeUrl(e,_)||t.data,c.target=dataSanitizeString(e,t.target),E&&(c.target="".concat(c.target," | ").concat(E)),c[_DYN_NAME$2]=dataSanitizeString(e,t[_DYN_NAME$2]),c[_DYN_PROPERTIES]=dataSanitizeProperties(e,N),c[_DYN_MEASUREMENTS$1]=dataSanitizeMeasurements(e,u)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}(),Trace=function(){function e(e,t,n,_,r){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var i=this;i.ver=2,i[_DYN_MESSAGE$1]=dataSanitizeMessage(e,t=t||strNotSpecified),i[_DYN_PROPERTIES]=dataSanitizeProperties(e,_),i[_DYN_MEASUREMENTS$1]=dataSanitizeMeasurements(e,r),n&&(i[_DYN_SEVERITY_LEVEL]=n)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}(),PageViewPerformance=function(){function e(e,t,n,_,r,i,a){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var o=this;o.ver=2,o.url=dataSanitizeUrl(e,n),o[_DYN_NAME$2]=dataSanitizeString(e,t)||strNotSpecified,o[_DYN_PROPERTIES]=dataSanitizeProperties(e,r),o[_DYN_MEASUREMENTS$1]=dataSanitizeMeasurements(e,i),a&&(o.domProcessing=a.domProcessing,o[_DYN_DURATION$1]=a[_DYN_DURATION$1],o.networkConnect=a.networkConnect,o.perfTotal=a.perfTotal,o[_DYN_RECEIVED_RESPONSE]=a[_DYN_RECEIVED_RESPONSE],o.sentRequest=a.sentRequest)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}(),Data=function(e,t){this.aiDataContract={baseType:1,baseData:1},this.baseType=e,this.baseData=t},SeverityLevel=createEnumStyle({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),ConfigurationManager=function(){function e(){}return e.getConfig=function(e,t,n,_){return void 0===_&&(_=!1),n=(n&&e[_DYN_EXTENSION_CONFIG]&&e[_DYN_EXTENSION_CONFIG][n]&&!isNullOrUndefined(e[_DYN_EXTENSION_CONFIG][n][t])?e[_DYN_EXTENSION_CONFIG][n]:e)[t],isNullOrUndefined(n)?_:n},e}();function _aiNameFunc(e){var t="ai."+e+".";return function(e){return t+e}}var _aiApplication=_aiNameFunc("application"),_aiDevice=_aiNameFunc("device"),_aiLocation=_aiNameFunc("location"),_aiOperation=_aiNameFunc("operation"),_aiSession=_aiNameFunc("session"),_aiUser=_aiNameFunc("user"),_aiCloud=_aiNameFunc("cloud"),_aiInternal=_aiNameFunc("internal"),ContextTagKeys=function(e){function t(){return e.call(this)||this}return __extendsFn(t,e),t}(createClassFromInterface({applicationVersion:_aiApplication("ver"),applicationBuild:_aiApplication("build"),applicationTypeId:_aiApplication("typeId"),applicationId:_aiApplication("applicationId"),applicationLayer:_aiApplication("layer"),deviceId:_aiDevice("id"),deviceIp:_aiDevice("ip"),deviceLanguage:_aiDevice("language"),deviceLocale:_aiDevice("locale"),deviceModel:_aiDevice("model"),deviceFriendlyName:_aiDevice("friendlyName"),deviceNetwork:_aiDevice("network"),deviceNetworkName:_aiDevice("networkName"),deviceOEMName:_aiDevice("oemName"),deviceOS:_aiDevice("os"),deviceOSVersion:_aiDevice("osVersion"),deviceRoleInstance:_aiDevice("roleInstance"),deviceRoleName:_aiDevice("roleName"),deviceScreenResolution:_aiDevice("screenResolution"),deviceType:_aiDevice("type"),deviceMachineName:_aiDevice("machineName"),deviceVMName:_aiDevice("vmName"),deviceBrowser:_aiDevice("browser"),deviceBrowserVersion:_aiDevice("browserVersion"),locationIp:_aiLocation("ip"),locationCountry:_aiLocation("country"),locationProvince:_aiLocation("province"),locationCity:_aiLocation("city"),operationId:_aiOperation("id"),operationName:_aiOperation("name"),operationParentId:_aiOperation("parentId"),operationRootId:_aiOperation("rootId"),operationSyntheticSource:_aiOperation("syntheticSource"),operationCorrelationVector:_aiOperation("correlationVector"),sessionId:_aiSession("id"),sessionIsFirst:_aiSession("isFirst"),sessionIsNew:_aiSession("isNew"),userAccountAcquisitionDate:_aiUser("accountAcquisitionDate"),userAccountId:_aiUser("accountId"),userAgent:_aiUser("userAgent"),userId:_aiUser("id"),userStoreRegion:_aiUser("storeRegion"),userAuthUserId:_aiUser("authUserId"),userAnonymousUserAcquisitionDate:_aiUser("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:_aiUser("authUserAcquisitionDate"),cloudName:_aiCloud("name"),cloudRole:_aiCloud("role"),cloudRoleVer:_aiCloud("roleVer"),cloudRoleInstance:_aiCloud("roleInstance"),cloudEnvironment:_aiCloud("environment"),cloudLocation:_aiCloud("location"),cloudDeploymentUnit:_aiCloud("deploymentUnit"),internalNodeName:_aiInternal("nodeName"),internalSdkVersion:_aiInternal("sdkVersion"),internalAgentVersion:_aiInternal("agentVersion"),internalSnippet:_aiInternal("snippet"),internalSdkSrc:_aiInternal("sdkSrc")}));function createTelemetryItem(e,t,n,_,r,i){n=dataSanitizeString(_,n)||strNotSpecified,(isNullOrUndefined(e)||isNullOrUndefined(t)||isNullOrUndefined(n))&&throwError("Input doesn't contain all required fields");var a,_="",o=(e[strIkey]&&(_=e[strIkey],delete e[strIkey]),(a={})[_DYN_NAME$2]=n,a.time=toISOString(new Date),a.iKey=_,a.ext=i||{},a.tags=[],a.data={},a.baseType=t,a.baseData=e,a);return isNullOrUndefined(r)||objForEachKey(r,function(e,t){o.data[e]=t}),o}var TelemetryItemCreator=function(){function e(){}return e.create=createTelemetryItem,e}(),Extensions={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},CtxTagKeys=new ContextTagKeys,PropertiesPluginIdentifier="AppInsightsPropertiesPlugin",BreezeChannelIdentifier="AppInsightsChannelPlugin",AnalyticsPluginIdentifier="ApplicationInsightsAnalytics",STR_DURATION$1="duration",STR_PROPERTIES="properties",_DYN_REQUEST_URL="requestUrl",_DYN_INST="inst",_DYN_LENGTH$3="length",_DYN_TRACE_ID$1="traceID",_DYN_SPAN_ID="spanID",_DYN_TRACE_FLAGS="traceFlags",_DYN_CONTEXT$1="context",_DYN_ABORTED="aborted",_DYN_TRACE_ID0="traceId",_DYN_SPAN_ID1="spanId",_DYN_CORE$1="core",_DYN_INCLUDE_CORRELATION_2="includeCorrelationHeaders",_DYN_CAN_INCLUDE_CORRELAT3="canIncludeCorrelationHeader",_DYN_GET_ABSOLUTE_URL="getAbsoluteUrl",_DYN_HEADERS="headers",_DYN_REQUEST_HEADERS="requestHeaders",_DYN_APP_ID="appId",_DYN_SET_REQUEST_HEADER$1="setRequestHeader",_DYN_TRACK_DEPENDENCY_DAT4="trackDependencyDataInternal",_DYN_DISTRIBUTED_TRACING_5="distributedTracingMode",_DYN_START_TIME="startTime",_DYN_TO_LOWER_CASE="toLowerCase",_DYN_ENABLE_REQUEST_HEADE6="enableRequestHeaderTracking",_DYN_ENABLE_AJAX_ERROR_ST7="enableAjaxErrorStatusText",_DYN_ENABLE_AJAX_PERF_TRA8="enableAjaxPerfTracking",_DYN_MAX_AJAX_CALLS_PER_V9="maxAjaxCallsPerView",_DYN_ENABLE_RESPONSE_HEAD10="enableResponseHeaderTracking",_DYN_EXCLUDE_REQUEST_FROM11="excludeRequestFromAutoTrackingPatterns",_DYN_ADD_REQUEST_CONTEXT="addRequestContext",_DYN_DISABLE_AJAX_TRACKIN12="disableAjaxTracking",_DYN_DISABLE_FETCH_TRACKI13="disableFetchTracking",_DYN_STATUS="status",_DYN_STATUS_TEXT="statusText",_DYN_HEADER_MAP="headerMap",_DYN_OPEN_DONE="openDone",_DYN_SEND_DONE="sendDone",_DYN_REQUEST_SENT_TIME="requestSentTime",_DYN_ABORT_DONE="abortDone",_DYN_GET_TRACE_ID="getTraceId",_DYN_GET_TRACE_FLAGS="getTraceFlags",_DYN_METHOD="method",_DYN_ERROR_STATUS_TEXT="errorStatusText",_DYN_STATE_CHANGE_ATTACHE14="stateChangeAttached",_DYN_RESPONSE_TEXT="responseText",_DYN_RESPONSE_FINISHED_TI15="responseFinishedTime",_DYN__CREATE_TRACK_ITEM="CreateTrackItem",_DYN_RESPONSE="response",_DYN_GET_ALL_RESPONSE_HEA16="getAllResponseHeaders",_DYN_GET_PART_APROPS="getPartAProps",_DYN_GET_CORRELATION_CONT17="getCorrelationContext",_DYN_PERF_MARK="perfMark",_DYN_AJAX_PERF_LOOKUP_DEL18="ajaxPerfLookupDelay",_DYN_NAME$1="name",_DYN_PERF_TIMING="perfTiming",_DYN_CORRELATION_CONTEXT="correlationContext",_DYN_AJAX_TOTAL_DURATION="ajaxTotalDuration",_DYN_EVENT_TRACE_CTX="eventTraceCtx";function _calcPerfDuration(e,t,n){t=e[t],n=e[n];return t&&n?dateTimeUtilsDuration(t,n):0}function _setPerfDuration(e,t,n,_,r){n=_calcPerfDuration(n,_,r);return n?_setPerfValue(e,t,msToTimeSpan(n)):0}function _setPerfValue(e,t,n){var _="ajaxPerf",r=0;return e&&t&&n&&((e[_]=e[_]||{})[t]=n,r=1),r}function _populatePerfData(e,t){var _,n=e[_DYN_PERF_TIMING],r=t[STR_PROPERTIES]||{},i=0,a="connect",o="request",s="response",E="startTime",N=a+"End",u=o+"Start",c=s+"End",D="transferSize",T="encodedBodySize",l="decodedBodySize",S="serverTiming";n?(i=(i=(i=(i=(i=(i=(i|=_setPerfDuration(r,"End",n,"redirectStart","End"))|_setPerfDuration(r,"domainLookup",n,"domainLookupStart","domainLookupEnd"))|_setPerfDuration(r,a,n,"connectStart",N))|_setPerfDuration(r,o,n,u,"requestEnd"))|_setPerfDuration(r,s,n,"responseStart",c))|_setPerfDuration(r,"networkConnect",n,E,N))|_setPerfDuration(r,"sentRequest",n,u,c),a=n[STR_DURATION$1]||_calcPerfDuration(n,E,c)||0,i=(i|=_setPerfValue(r,STR_DURATION$1,a))|_setPerfValue(r,"perfTotal",a),(o=n[S])&&(_={},arrForEach(o,function(e,t){var t=normalizeJsName(e.name||""+t),n=_[t]||{};objForEachKey(e,function(e,t){!("name"!==e&&isString(t)||isNumber(t))||!(t=n[e]?n[e]+";"+t:t)&&isString(t)||(n[e]=t)}),_[t]=n}),i|=_setPerfValue(r,S,_)),i=(i=(i|=_setPerfValue(r,D,n[D]))|_setPerfValue(r,T,n[T]))|_setPerfValue(r,l,n[l])):e[_DYN_PERF_MARK]&&(i|=_setPerfValue(r,"missing",e.perfAttempts)),i&&(t[STR_PROPERTIES]=r)}var XHRMonitoringState=function(){var e=this;e[_DYN_OPEN_DONE]=!1,e.setRequestHeaderDone=!1,e[_DYN_SEND_DONE]=!1,e[_DYN_ABORT_DONE]=!1,e[_DYN_STATE_CHANGE_ATTACHE14]=!1},ajaxRecord=function(){function a(e,t,n,_){var r=this,i=n;r[_DYN_PERF_MARK]=null,r.completed=!1,r.requestHeadersSize=null,r[_DYN_REQUEST_HEADERS]=null,r.responseReceivingDuration=null,r.callbackDuration=null,r[_DYN_AJAX_TOTAL_DURATION]=null,r[_DYN_ABORTED]=0,r.pageUrl=null,r[_DYN_REQUEST_URL]=null,r.requestSize=0,r[_DYN_METHOD]=null,r[_DYN_STATUS]=null,r[_DYN_REQUEST_SENT_TIME]=null,r.responseStartedTime=null,r[_DYN_RESPONSE_FINISHED_TI15]=null,r.callbackFinishedTime=null,r.endTime=null,r.xhrMonitoringState=new XHRMonitoringState,r.clientFailure=0,r[_DYN_TRACE_ID$1]=e,r[_DYN_SPAN_ID]=t,r[_DYN_TRACE_FLAGS]=null==_?void 0:_.getTraceFlags(),r[_DYN_EVENT_TRACE_CTX]=_?((n={})[_DYN_TRACE_ID0]=_[_DYN_GET_TRACE_ID](),n[_DYN_SPAN_ID1]=_.getSpanId(),n[_DYN_TRACE_FLAGS]=_[_DYN_GET_TRACE_FLAGS](),n):null,dynamicProto(a,r,function(r){r.getAbsoluteUrl=function(){return r[_DYN_REQUEST_URL]?urlGetAbsoluteUrl(r[_DYN_REQUEST_URL]):null},r.getPathName=function(){return r[_DYN_REQUEST_URL]?dataSanitizeUrl(i,urlGetCompleteUrl(r[_DYN_METHOD],r[_DYN_REQUEST_URL])):null},r[_DYN__CREATE_TRACK_ITEM]=function(e,t,n){if(r.ajaxTotalDuration=Math.round(1e3*dateTimeUtilsDuration(r.requestSentTime,r.responseFinishedTime))/1e3,r[_DYN_AJAX_TOTAL_DURATION]<0)return null;(_={id:"|"+r[_DYN_TRACE_ID$1]+"."+r[_DYN_SPAN_ID],target:r[_DYN_GET_ABSOLUTE_URL]()})[_DYN_NAME$1]=r.getPathName(),_.type=e,_[_DYN_START_TIME]=null,_.duration=r[_DYN_AJAX_TOTAL_DURATION],_.success=200<=+r[_DYN_STATUS]&&+r[_DYN_STATUS]<400,_.responseCode=+r[_DYN_STATUS],_[STR_PROPERTIES]={HttpMethod:r[_DYN_METHOD]};var e=_,_=e[STR_PROPERTIES];return r[_DYN_ABORTED]&&(_[_DYN_ABORTED]=!0),r[_DYN_REQUEST_SENT_TIME]&&(e[_DYN_START_TIME]=new Date,e[_DYN_START_TIME].setTime(r[_DYN_REQUEST_SENT_TIME])),_populatePerfData(r,e),t&&0<objKeys(r.requestHeaders)[_DYN_LENGTH$3]&&(_[_DYN_REQUEST_HEADERS]=r[_DYN_REQUEST_HEADERS]),n&&(t=n())&&((n=t[_DYN_CORRELATION_CONTEXT])&&(e.correlationContext=n),t[_DYN_HEADER_MAP]&&0<objKeys(t.headerMap)[_DYN_LENGTH$3]&&(_.responseHeaders=t[_DYN_HEADER_MAP]),r[_DYN_ERROR_STATUS_TEXT]&&(400<=r[_DYN_STATUS]?(""!==(n=t.type)&&"text"!==n||(_.responseText=t.responseText?t[_DYN_STATUS_TEXT]+" - "+t.responseText:t[_DYN_STATUS_TEXT]),"json"===n&&(_.responseText=t.response?t[_DYN_STATUS_TEXT]+" - "+JSON.stringify(t[_DYN_RESPONSE]):t[_DYN_STATUS_TEXT])):0===r[_DYN_STATUS]&&(_.responseText=t[_DYN_STATUS_TEXT]||""))),e},r[_DYN_GET_PART_APROPS]=function(){var e,t=null,n=r[_DYN_EVENT_TRACE_CTX];return n&&(n[_DYN_TRACE_ID0]||n[_DYN_SPAN_ID1])&&(e=(t={})[Extensions.TraceExt]=((e={})[_DYN_TRACE_ID$1]=n[_DYN_TRACE_ID0],e.parentID=n[_DYN_SPAN_ID1],e),isNullOrUndefined(n[_DYN_TRACE_FLAGS])||(e[_DYN_TRACE_FLAGS]=n[_DYN_TRACE_FLAGS])),t}})}return a.__ieDyn=1,a}(),AJAX_MONITOR_PREFIX="ai.ajxmn.",strDiagLog="diagLog",AJAX_DATA_CONTAINER="_ajaxData",STR_FETCH="fetch",ERROR_HEADER="Failed to monitor XMLHttpRequest",ERROR_PREFIX=", monitoring data for this ajax call ",ERROR_POSTFIX=ERROR_PREFIX+"may be incorrect.",ERROR_NOT_SENT=ERROR_PREFIX+"won't be sent.",CORRELATION_HEADER_ERROR="Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",CUSTOM_REQUEST_CONTEXT_ERROR="Failed to add custom defined request context as configured call back may missing a null check.",FAILED_TO_CALCULATE_DURATION_ERROR="Failed to calculate the duration of the ",_markCount=0;function _supportsFetch(){var e=getGlobal();return!e||isNullOrUndefined(e.Request)||isNullOrUndefined(e.Request[strShimPrototype])||isNullOrUndefined(e[STR_FETCH])?null:e[STR_FETCH]}var _isWebWorker$1=null;function isWebWorker$1(){if(null==_isWebWorker$1)try{_isWebWorker$1=!!(self&&self instanceof WorkerGlobalScope)}catch(e){_isWebWorker$1=!1}return _isWebWorker$1}function _supportsAjaxMonitoring(e,t){var n,_=!1,r=(isXhrSupported()&&(_=!(isNullOrUndefined(r=XMLHttpRequest[strShimPrototype])||isNullOrUndefined(r.open)||isNullOrUndefined(r.send)||isNullOrUndefined(r.abort))),getIEVersion());if(_=!(r&&r<9)&&_)try{var i=new XMLHttpRequest,a={xh:[],i:((n={})[t]={},n)},o=(i[AJAX_DATA_CONTAINER]=a,XMLHttpRequest[strShimPrototype].open);XMLHttpRequest[strShimPrototype].open=o}catch(s){_=!1,_throwInternalCritical(e,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:dumpObj(s)})}return _}var _getAjaxData=function(e,t){return e&&t&&e[AJAX_DATA_CONTAINER]?(e[AJAX_DATA_CONTAINER].i||{})[t]:null},_addSharedXhrHeaders=function(e,t,n){e&&(e=(e[AJAX_DATA_CONTAINER]||{}).xh)&&e.push({n:t,v:n})},_isHeaderSet=function(e,t){var n=!1;return e&&(e=(e[AJAX_DATA_CONTAINER]||{}).xh)&&arrForEach(e,function(e){if(e.n===t)return n=!0,-1}),n};function _getFailedAjaxDiagnosticsMessage(e,t){var n="";try{var _=_getAjaxData(e,t);_&&_[_DYN_REQUEST_URL]&&(n+="(url: '"+_[_DYN_REQUEST_URL]+"')")}catch(r){}return n}function _throwInternalCritical(e,t,n,_,r){_throwInternal(e[strDiagLog](),1,t,n,_,r)}function _throwInternalWarning(e,t,n,_,r){_throwInternal(e[strDiagLog](),2,t,n,_,r)}function _createErrorCallbackFunc(t,n,_){return function(e){_throwInternalCritical(t,n,_,{ajaxDiagnosticsMessage:_getFailedAjaxDiagnosticsMessage(e[_DYN_INST],t._ajaxDataId),exception:dumpObj(e.err)})}}function _indexOf(e,t){return e&&t?e.indexOf(t):-1}function _addHandler(n,e,t){var _={id:e,fn:t};return n.push(_),{remove:function(){arrForEach(n,function(e,t){if(e.id===_.id)return n.splice(t,1),-1})}}}function _processDependencyContainer(_,e,r,i){var a=!0;return arrForEach(e,function(e,t){try{!1===e.fn.call(null,r)&&(a=!1)}catch(n){_throwInternal(_&&_.logger,1,64,"Dependency "+i+" [#"+t+"] failed: "+getExceptionName(n),{exception:dumpObj(n)},!0)}}),a}function _processDependencyListeners(e,t,n,_,r,i){0<e[_DYN_LENGTH$3]&&(_processDependencyContainer(t,e,e={core:t,xhr:_,input:r,init:i,traceId:n[_DYN_TRACE_ID$1],spanId:n[_DYN_SPAN_ID],traceFlags:n[_DYN_TRACE_FLAGS],context:n[_DYN_CONTEXT$1]||{},aborted:!!n[_DYN_ABORTED]},"listener"),n[_DYN_TRACE_ID$1]=e[_DYN_TRACE_ID0],n[_DYN_SPAN_ID]=e[_DYN_SPAN_ID1],n[_DYN_TRACE_FLAGS]=e[_DYN_TRACE_FLAGS],n[_DYN_CONTEXT$1]=e[_DYN_CONTEXT$1])}var BLOB_CORE="*.blob.core.",DfltAjaxCorrelationHeaderExDomains=deepFreeze([BLOB_CORE+"windows.net",BLOB_CORE+"chinacloudapi.cn",BLOB_CORE+"cloudapi.de",BLOB_CORE+"usgovcloudapi.net"]),_internalExcludeEndpoints=[/https:\/\/[^\/]*(\.pipe\.aria|aria\.pipe|events\.data|collector\.azure)\.[^\/]+\/(OneCollector\/1|Collector\/3)\.0/i];function _getDefaultConfig$1(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!1,excludeRequestFromAutoTrackingPatterns:undefined,disableCorrelationHeaders:!1,distributedTracingMode:1,correlationHeaderExcludedDomains:DfltAjaxCorrelationHeaderExDomains,correlationHeaderDomains:undefined,correlationHeaderExcludePatterns:undefined,appId:undefined,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"],addRequestContext:undefined,addIntEndpoints:!0}}function _getEmptyConfig(){var t=_getDefaultConfig$1();return objForEachKey(t,function(e){t[e]=undefined}),t}var AjaxMonitor=function(n){function V(){var A,R,g,O,p,C,_,P,m,L,v,y,h,U,M,G,F,b,x,H,w,t,$,B,e=n.call(this)||this;return e.identifier=V.identifier,e.priority=120,dynamicProto(V,e,function(u,i){var a=i._addHook;function e(){var e=getLocation();R=A=!1,g=e&&e.host&&e.host[_DYN_TO_LOWER_CASE](),O=V.getEmptyConfig(),U=y=L=m=C=p=!1,F=G=!(M={}),H=x=b=v=P=null,t=h=_=0,$=[],B=[],w=createUniqueNamespace("ajaxData"),u._ajaxDataId=w}function c(t){var n=!0;return(t||O.ignoreHeaders)&&arrForEach(O.ignoreHeaders,function(e){if(e[_DYN_TO_LOWER_CASE]()===t[_DYN_TO_LOWER_CASE]())return n=!1,-1}),n}function o(e,t,n){a(InstrumentProto(e,t,n))}function D(e,t,n){var _=!1,r=((isString(t)?t:(t||{}).url||"")||"")[_DYN_TO_LOWER_CASE]();if(arrForEach(b,function(e){var t=e;isString(e)&&(t=RegExp(e)),_=_||t.test(r)}),_)return _;var i=_indexOf(r,"?"),a=_indexOf(r,"#");return-1!==(i=-1===i||-1!==a&&a<i?a:i)&&(r=r.substring(0,i)),isNullOrUndefined(e)?isNullOrUndefined(t)||(_="object"==typeof t&&!0===t[DisabledPropertyName]||!!n&&!0===n[DisabledPropertyName]):_=!0===e[DisabledPropertyName]||!0===r[DisabledPropertyName],(_=!(_||!r||!isInternalApplicationInsightsEndpoint(r))||_)?M[r]||(M[r]=1):M[r]&&(_=!0),_}function E(e,t,n){var _=!0,r=R;return isNullOrUndefined(e)||(_=!0===n||!isNullOrUndefined(t)),r&&_}function T(){var e=null;return!(e=u[_DYN_CORE$1]&&u[_DYN_CORE$1].getTraceCtx?u[_DYN_CORE$1].getTraceCtx(!1):e)&&P&&P.telemetryTrace?createDistributedTraceContextFromTrace(P.telemetryTrace):e}function l(n,_){_.xhrMonitoringState[_DYN_STATE_CHANGE_ATTACHE14]=eventOn(n,"readystatechange",function(){try{n&&4===n.readyState&&E(n,_)&&((o=_getAjaxData(a=n,w))[_DYN_RESPONSE_FINISHED_TI15]=dateTimeUtilsNow(),o[_DYN_STATUS]=a[_DYN_STATUS],N("xmlhttprequest",o,function(){try{var e,t=o[_DYN__CREATE_TRACK_ITEM]("Ajax",p,function(){var e,n,t={statusText:a[_DYN_STATUS_TEXT],headerMap:null,correlationContext:s(a),type:a.responseType,responseText:function(e){try{var t=e.responseType;if(""===t||"text"===t)return e[_DYN_RESPONSE_TEXT]}catch(n){}return null}(a),response:a[_DYN_RESPONSE]};return U&&(e=a[_DYN_GET_ALL_RESPONSE_HEA16]())&&(e=strTrim(e).split(/[\r\n]+/),n={},arrForEach(e,function(e){var e=e.split(": "),t=e.shift(),e=e.join(": ");c(t)&&(n[t]=e)}),t[_DYN_HEADER_MAP]=n),t}),n=void 0;try{x&&(n=x({status:a[_DYN_STATUS],xhr:a}))}catch(r){_throwInternalWarning(u,104,CUSTOM_REQUEST_CONTEXT_ERROR)}t?(n!==undefined&&(t[STR_PROPERTIES]=__assignFn(__assignFn({},t.properties),n)),e=o[_DYN_GET_PART_APROPS](),Y(B,u[_DYN_CORE$1],o,t,null,e)):i(null,{requestSentTime:o[_DYN_REQUEST_SENT_TIME],responseFinishedTime:o[_DYN_RESPONSE_FINISHED_TI15]})}finally{try{var _=(a[AJAX_DATA_CONTAINER]||{i:{}}).i||{};_[w]&&(_[w]=null)}catch(r){}}},function(e){i(e,null)}))}catch(t){var e=dumpObj(t);e&&-1!==_indexOf(e[_DYN_TO_LOWER_CASE](),"c00c023f")||_throwInternalCritical(u,16,ERROR_HEADER+" 'readystatechange' event handler"+ERROR_POSTFIX,{ajaxDiagnosticsMessage:_getFailedAjaxDiagnosticsMessage(n,w),exception:e})}function i(e,t){t=t||{};t.ajaxDiagnosticsMessage=_getFailedAjaxDiagnosticsMessage(a,w),e&&(t.exception=dumpObj(e)),_throwInternalWarning(u,14,FAILED_TO_CALCULATE_DURATION_ERROR+"ajax call"+ERROR_NOT_SENT,t)}var a,o},H)}function s(e){try{var t,n=e[_DYN_GET_ALL_RESPONSE_HEA16]();if(null!==n&&-1!==_indexOf(n[_DYN_TO_LOWER_CASE](),RequestHeaders[8]))return t=e.getResponseHeader(RequestHeaders[0]),CorrelationIdHelper[_DYN_GET_CORRELATION_CONT17](t)}catch(_){_throwInternalWarning(u,18,CORRELATION_HEADER_ERROR,{ajaxDiagnosticsMessage:_getFailedAjaxDiagnosticsMessage(e,w),exception:dumpObj(_)})}}function S(e,t){var n;t[_DYN_REQUEST_URL]&&v&&y&&(n=getPerformance())&&isFunction(n.mark)&&(e=v+e+"#"+ ++_markCount,n.mark(e),(e=n.getEntriesByName(e))&&1===e[_DYN_LENGTH$3]&&(t[_DYN_PERF_MARK]=e[0]))}function N(i,a,o,s){var E=a[_DYN_PERF_MARK],N=getPerformance(),u=O.maxAjaxPerfLookupAttempts,c=O[_DYN_AJAX_PERF_LOOKUP_DEL18],D=a[_DYN_REQUEST_URL],T=0;!function l(){try{if(N&&E){T++;for(var e=null,t=N.getEntries(),n=t[_DYN_LENGTH$3]-1;0<=n;n--){var _=t[n];if(_){if("resource"===_.entryType)_.initiatorType!==i||-1===_indexOf(_[_DYN_NAME$1],D)&&-1===_indexOf(D,_[_DYN_NAME$1])||(e=_);else if("mark"===_.entryType&&_[_DYN_NAME$1]===E[_DYN_NAME$1]){a[_DYN_PERF_TIMING]=e;break}if(_[_DYN_START_TIME]<E[_DYN_START_TIME]-1e3)break}}}!E||a[_DYN_PERF_TIMING]||u<=T||!1===a["async"]?(E&&isFunction(N.clearMarks)&&N.clearMarks(E[_DYN_NAME$1]),a.perfAttempts=T,o()):setTimeout(l,c)}catch(r){s(r)}}()}function d(e){var t="";try{isNullOrUndefined(e)||(isString(e)?t+="(url: '".concat(e,"')"):t+="(url: '".concat(e.url,"')"))}catch(n){_throwInternalCritical(u,15,"Failed to grab failed fetch diagnostics message",{exception:dumpObj(n)})}return t}function I(e,_,r,i,a,o){function s(e,t,n){n=n||{};n.fetchDiagnosticsMessage=d(r),t&&(n.exception=dumpObj(t)),_throwInternalWarning(u,e,FAILED_TO_CALCULATE_DURATION_ERROR+"fetch call"+ERROR_NOT_SENT,n)}a&&(a[_DYN_RESPONSE_FINISHED_TI15]=dateTimeUtilsNow(),a[_DYN_STATUS]=_,N(STR_FETCH,a,function(){var e,t=a[_DYN__CREATE_TRACK_ITEM]("Fetch",p,o);try{x&&(e=x({status:_,request:r,response:i}))}catch(n){_throwInternalWarning(u,104,CUSTOM_REQUEST_CONTEXT_ERROR)}t?(e!==undefined&&(t[STR_PROPERTIES]=__assignFn(__assignFn({},t.properties),e)),e=a[_DYN_GET_PART_APROPS](),Y(B,u[_DYN_CORE$1],a,t,null,e)):s(14,null,{requestSentTime:a[_DYN_REQUEST_SENT_TIME],responseFinishedTime:a[_DYN_RESPONSE_FINISHED_TI15]})},function(e){s(18,e,null)}))}function f(e){if(e&&e[_DYN_HEADERS])try{var t=e[_DYN_HEADERS].get(RequestHeaders[0]);return CorrelationIdHelper[_DYN_GET_CORRELATION_CONT17](t)}catch(n){_throwInternalWarning(u,18,CORRELATION_HEADER_ERROR,{fetchDiagnosticsMessage:d(e),exception:dumpObj(n)})}}function Y(e,t,n,_,r,i){var a=!0;(a=0<e[_DYN_LENGTH$3]?_processDependencyContainer(t,e,{item:_,properties:r,sysProperties:i,context:n?n[_DYN_CONTEXT$1]:null,aborted:!!n&&!!n[_DYN_ABORTED]},"initializer"):a)&&u[_DYN_TRACK_DEPENDENCY_DAT4](_,r,i)}e(),u.initialize=function(e,t,n,_){var r,N;u.isInitialized()||(i.initialize(e,t,n,_),H=mergeEvtNamespace(createUniqueNamespace("ajax"),t&&t.evtNamespace&&t.evtNamespace()),r=createProcessTelemetryContext(null,n=e,u[_DYN_CORE$1]),O=_getEmptyConfig(),objForEachKey(_getDefaultConfig$1(),function(e,t){O[e]=r.getConfig(V.identifier,e,t)}),_=O[_DYN_DISTRIBUTED_TRACING_5],p=O[_DYN_ENABLE_REQUEST_HEADE6],C=O[_DYN_ENABLE_AJAX_ERROR_ST7],y=O[_DYN_ENABLE_AJAX_PERF_TRA8],h=O[_DYN_MAX_AJAX_CALLS_PER_V9],U=O[_DYN_ENABLE_RESPONSE_HEAD10],b=[].concat(O[_DYN_EXCLUDE_REQUEST_FROM11]||[],!1!==O.addIntEndpoints?_internalExcludeEndpoints:[]),x=O[_DYN_ADD_REQUEST_CONTEXT],L=0===_||1===_,m=1===_||2===_,y&&(t=n.instrumentationKey||"unkwn",v=5<t[_DYN_LENGTH$3]?AJAX_MONITOR_PREFIX+t.substring(t[_DYN_LENGTH$3]-5)+".":AJAX_MONITOR_PREFIX+t+"."),G=!!O[_DYN_DISABLE_AJAX_TRACKIN12],F=!!O[_DYN_DISABLE_FETCH_TRACKI13],!_supportsAjaxMonitoring(u,w)||G||R||(o(XMLHttpRequest,"open",{ns:H,req:function(e,t,n,_){var r,i,a,o,s;G||(e=e[_DYN_INST],r=_getAjaxData(e,w),!D(e,n)&&E(e,r,!0)&&(r&&r.xhrMonitoringState[_DYN_OPEN_DONE]||(o=e,t=t,n=n,_=_,s=(i=T())&&i[_DYN_GET_TRACE_ID]()||generateW3CId(),a=generateW3CId().substr(0,16),(s=(o=(o=o[AJAX_DATA_CONTAINER]=o[AJAX_DATA_CONTAINER]||{xh:[],i:{}}).i=o.i||{})[w]=o[w]||new ajaxRecord(s,a,u[strDiagLog](),null==(o=u.core)?void 0:o.getTraceCtx()))[_DYN_TRACE_FLAGS]=i&&i[_DYN_GET_TRACE_FLAGS](),s[_DYN_METHOD]=t,s[_DYN_REQUEST_URL]=n,s.xhrMonitoringState[_DYN_OPEN_DONE]=!0,s[_DYN_REQUEST_HEADERS]={},s["async"]=_,s[_DYN_ERROR_STATUS_TEXT]=C,r=s),l(e,r)))},hkErr:_createErrorCallbackFunc(u,15,ERROR_HEADER+".open"+ERROR_POSTFIX)}),o(XMLHttpRequest,"send",{ns:H,req:function(e,t){var n;G||E(e=e[_DYN_INST],n=_getAjaxData(e,w))&&!n.xhrMonitoringState[_DYN_SEND_DONE]&&(S("xhr",n),n[_DYN_REQUEST_SENT_TIME]=dateTimeUtilsNow(),u[_DYN_INCLUDE_CORRELATION_2](n,undefined,undefined,e),n.xhrMonitoringState[_DYN_SEND_DONE]=!0)},hkErr:_createErrorCallbackFunc(u,17,ERROR_HEADER+ERROR_POSTFIX)}),o(XMLHttpRequest,"abort",{ns:H,req:function(e){G||E(e=e[_DYN_INST],e=_getAjaxData(e,w))&&!e.xhrMonitoringState[_DYN_ABORT_DONE]&&(e[_DYN_ABORTED]=1,e.xhrMonitoringState[_DYN_ABORT_DONE]=!0)},hkErr:_createErrorCallbackFunc(u,13,ERROR_HEADER+".abort"+ERROR_POSTFIX)}),o(XMLHttpRequest,"setRequestHeader",{ns:H,req:function(e,t,n){var _;G||(e=e[_DYN_INST],(_=_getAjaxData(e,w))&&E(e,_)&&(_addSharedXhrHeaders(e,t,n),p&&c(t)&&_&&(_[_DYN_REQUEST_HEADERS][t]=n)))},hkErr:_createErrorCallbackFunc(u,71,ERROR_HEADER+".setRequestHeader"+ERROR_POSTFIX)}),R=!0),(e=_supportsFetch())&&(_=getGlobal(),N=e.polyfill,F||A?N&&a(InstrumentFunc(_,STR_FETCH,{ns:H,req:function(e,t,n){D(null,t,n)}})):(a(InstrumentFunc(_,STR_FETCH,{ns:H,req:function(e,t,n){var _,r,i,a,o,s,E;F||!A||D(null,t,n)||N&&R||(_=e.ctx(),r=t,i=n,s=(a=T())&&a[_DYN_GET_TRACE_ID]()||generateW3CId(),o=generateW3CId().substr(0,16),(o=new ajaxRecord(s,o,u[strDiagLog](),null==(s=u.core)?void 0:s.getTraceCtx()))[_DYN_TRACE_FLAGS]=a&&a[_DYN_GET_TRACE_FLAGS](),o[_DYN_REQUEST_SENT_TIME]=dateTimeUtilsNow(),o[_DYN_ERROR_STATUS_TEXT]=C,r instanceof Request?o[_DYN_REQUEST_URL]=r?r.url:"":o[_DYN_REQUEST_URL]=r,s="GET",i&&i[_DYN_METHOD]?s=i[_DYN_METHOD]:r&&r instanceof Request&&(s=r[_DYN_METHOD]),o[_DYN_METHOD]=s,E={},p&&new Headers((i?i[_DYN_HEADERS]:0)||r instanceof Request&&r[_DYN_HEADERS]||{}).forEach(function(e,t){c(t)&&(E[t]=e)}),o[_DYN_REQUEST_HEADERS]=E,S(STR_FETCH,o),a=o,(s=u[_DYN_INCLUDE_CORRELATION_2](a,t,n))!==n&&e.set(1,s),_.data=a)},rsp:function(e,n){var _;F||(_=e.ctx().data)&&(e.rslt=e.rslt.then(function(t){return I(0,(t||{})[_DYN_STATUS],n,t,_,function(){var n,e={statusText:(t||{})[_DYN_STATUS_TEXT],headerMap:null,correlationContext:f(t)};return U&&t&&(n={},t.headers.forEach(function(e,t){c(t)&&(n[t]=e)}),e[_DYN_HEADER_MAP]=n),e}),t})["catch"](function(e){throw I(0,0,n,null,_,null,e.message||dumpObj(e)),e}))},hkErr:_createErrorCallbackFunc(u,15,"Failed to monitor Window.fetch"+ERROR_POSTFIX)},!0,isWebWorker$1())),A=!0),N&&(_[STR_FETCH].polyfill=N)),(n=u[_DYN_CORE$1].getPlugin(PropertiesPluginIdentifier))&&(P=n.plugin[_DYN_CONTEXT$1]))},u._doTeardown=function(){e()},u.trackDependencyData=function(e,t){Y(B,u[_DYN_CORE$1],null,e,t)},u[_DYN_INCLUDE_CORRELATION_2]=function(e,t,n,_){var r,i,a,o,s=u._currentWindowHost||g;return _processDependencyListeners($,u[_DYN_CORE$1],e,_,t,n),t||""===t?(CorrelationIdHelper[_DYN_CAN_INCLUDE_CORRELAT3](O,e[_DYN_GET_ABSOLUTE_URL](),s)&&(n=n||{},t=new Headers(n[_DYN_HEADERS]||t instanceof Request&&t[_DYN_HEADERS]||{}),L&&(r="|"+e[_DYN_TRACE_ID$1]+"."+e[_DYN_SPAN_ID],t.set(RequestHeaders[3],r),p&&(e[_DYN_REQUEST_HEADERS][RequestHeaders[3]]=r)),(i=O[_DYN_APP_ID]||P&&P[_DYN_APP_ID]())&&(t.set(RequestHeaders[0],RequestHeaders[2]+i),p&&(e[_DYN_REQUEST_HEADERS][RequestHeaders[0]]=RequestHeaders[2]+i)),m&&(isNullOrUndefined(a=e[_DYN_TRACE_FLAGS])&&(a=1),o=formatTraceParent(createTraceParent(e[_DYN_TRACE_ID$1],e[_DYN_SPAN_ID],a)),t.set(RequestHeaders[4],o),p&&(e[_DYN_REQUEST_HEADERS][RequestHeaders[4]]=o)),n[_DYN_HEADERS]=t),n):_?(CorrelationIdHelper[_DYN_CAN_INCLUDE_CORRELAT3](O,e[_DYN_GET_ABSOLUTE_URL](),s)&&(L&&(_isHeaderSet(_,RequestHeaders[3])?_throwInternalWarning(u,71,"Unable to set ["+RequestHeaders[3]+"] as it has already been set by another instance"):(r="|"+e[_DYN_TRACE_ID$1]+"."+e[_DYN_SPAN_ID],_[_DYN_SET_REQUEST_HEADER$1](RequestHeaders[3],r),p&&(e[_DYN_REQUEST_HEADERS][RequestHeaders[3]]=r))),(i=O[_DYN_APP_ID]||P&&P[_DYN_APP_ID]())&&(_isHeaderSet(_,RequestHeaders[0])?_throwInternalWarning(u,71,"Unable to set ["+RequestHeaders[0]+"] as it has already been set by another instance"):(_[_DYN_SET_REQUEST_HEADER$1](RequestHeaders[0],RequestHeaders[2]+i),p&&(e[_DYN_REQUEST_HEADERS][RequestHeaders[0]]=RequestHeaders[2]+i))),m&&(isNullOrUndefined(a=e[_DYN_TRACE_FLAGS])&&(a=1),_isHeaderSet(_,RequestHeaders[4])?_throwInternalWarning(u,71,"Unable to set ["+RequestHeaders[4]+"] as it has already been set by another instance"):(o=formatTraceParent(createTraceParent(e[_DYN_TRACE_ID$1],e[_DYN_SPAN_ID],a)),_[_DYN_SET_REQUEST_HEADER$1](RequestHeaders[4],o),p&&(e[_DYN_REQUEST_HEADERS][RequestHeaders[4]]=o)))),_):undefined},u[_DYN_TRACK_DEPENDENCY_DAT4]=function(e,t,n){-1===h||_<h?(2!==O[_DYN_DISTRIBUTED_TRACING_5]&&1!==O[_DYN_DISTRIBUTED_TRACING_5]||"string"!=typeof e.id||"."===e.id[e.id[_DYN_LENGTH$3]-1]||(e.id+="."),isNullOrUndefined(e[_DYN_START_TIME])&&(e[_DYN_START_TIME]=new Date),e=createTelemetryItem(e,RemoteDependencyData.dataType,RemoteDependencyData.envelopeType,u[strDiagLog](),t,n),u[_DYN_CORE$1].track(e)):_===h&&_throwInternalCritical(u,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0),++_},u.addDependencyListener=function(e){return _addHandler($,t++,e)},u.addDependencyInitializer=function(e){return _addHandler(B,t++,e)}}),e}return __extendsFn(V,n),V.prototype.processTelemetry=function(e,t){this.processNext(e,t)},V.prototype.addDependencyInitializer=function(e){return null},V.identifier="AjaxDependencyPlugin",V.getDefaultConfig=_getDefaultConfig$1,V.getEmptyConfig=_getEmptyConfig,V}(BaseTelemetryPlugin),_AUTHENTICATED_USER_CONTEXT="AuthenticatedUserContext",_TRACK="track",STR_SNIPPET="snippet",STR_GET_COOKIE_MGR="getCookieMgr",STR_START_TRACK_PAGE="startTrackPage",STR_STOP_TRACK_PAGE="stopTrackPage",STR_FLUSH="flush",STR_START_TRACK_EVENT="startTrackEvent",STR_STOP_TRACK_EVENT="stopTrackEvent",STR_ADD_TELEMETRY_INITIALIZER="addTelemetryInitializer",STR_ADD_TELEMETRY_INITIALIZERS=STR_ADD_TELEMETRY_INITIALIZER+"s",STR_POLL_INTERNAL_LOGS="pollInternalLogs",STR_GET_PLUGIN="getPlugin",STR_EVT_NAMESPACE="evtNamespace",STR_TRACK_EVENT=_TRACK+"Event",STR_TRACK_TRACE=_TRACK+"Trace",STR_TRACK_METRIC=_TRACK+"Metric",STR_TRACK_PAGE_VIEW=_TRACK+"PageView",STR_TRACK_EXCEPTION=_TRACK+"Exception",STR_TRACK_DEPENDENCY_DATA=_TRACK+"DependencyData",STR_SET_AUTHENTICATED_USER_CONTEXT="set"+_AUTHENTICATED_USER_CONTEXT,STR_CLEAR_AUTHENTICATED_USER_CONTEXT="clear"+_AUTHENTICATED_USER_CONTEXT,_DYN_UPDATE_SNIPPET_DEFIN0="updateSnippetDefinitions",_DYN_LOAD_APP_INSIGHTS="loadAppInsights",_DYN_ENDPOINT_URL$1="endpointUrl",_DYN_MAX_BATCH_SIZE_IN_BY1$1="maxBatchSizeInBytes",_DYN_MAX_BATCH_INTERVAL$1="maxBatchInterval",_DYN_DISABLE_EXCEPTION_TR2="disableExceptionTracking",_DYN_DISABLE_TELEMETRY$1="disableTelemetry",_DYN_EMIT_LINE_DELIMITED_3="emitLineDelimitedJson",_DYN_DIAGNOSTIC_LOG_INTER4="diagnosticLogInterval",_DYN_AUTO_TRACK_PAGE_VISI5="autoTrackPageVisitTime",_DYN_SAMPLING_PERCENTAGE$2="samplingPercentage",_DYN_DISABLE_AJAX_TRACKIN6="disableAjaxTracking",_DYN_MAX_AJAX_CALLS_PER_V7="maxAjaxCallsPerView",_DYN_IS_BEACON_API_DISABL8="isBeaconApiDisabled",_DYN_DISABLE_CORRELATION_9="disableCorrelationHeaders",_DYN_CORRELATION_HEADER_E10="correlationHeaderExcludedDomains",_DYN_DISABLE_FLUSH_ON_BEF11="disableFlushOnBeforeUnload",_DYN_DISABLE_FLUSH_ON_UNL12="disableFlushOnUnload",_DYN_ENABLE_SESSION_STORA13="enableSessionStorageBuffer",_DYN_IS_COOKIE_USE_DISABL14="isCookieUseDisabled",_DYN_IS_STORAGE_USE_DISAB15="isStorageUseDisabled",_DYN_IS_BROWSER_LINK_TRAC16="isBrowserLinkTrackingEnabled",_DYN_ENABLE_CORS_CORRELAT17="enableCorsCorrelation",_DYN_CONFIG$1="config",_DYN_CONTEXT="context",_DYN_PUSH$1="push",_DYN_VERSION="version",_DYN_QUEUE="queue",_DYN_CONNECTION_STRING="connectionString",_DYN_INSTRUMENTATION_KEY$1="instrumentationKey",_DYN_APP_INSIGHTS="appInsights",_DYN_DISABLE_IKEY_DEPRECA18="disableIkeyDeprecationMessage",_DYN_GET_TRANSMISSION_CON19="getTransmissionControls",_DYN_ONUNLOAD_FLUSH="onunloadFlush",_DYN_ADD_HOUSEKEEPING_BEF20="addHousekeepingBeforeUnload",_DYN_INDEX_OF="indexOf",_ignoreUpdateSnippetProperties$1=[STR_SNIPPET,"getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"];function getDefaultConfig(e){return(e=e||{})[_DYN_ENDPOINT_URL$1]=e[_DYN_ENDPOINT_URL$1]||DEFAULT_BREEZE_ENDPOINT+DEFAULT_BREEZE_PATH,e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e[_DYN_MAX_BATCH_SIZE_IN_BY1$1]=0<e[_DYN_MAX_BATCH_SIZE_IN_BY1$1]?e[_DYN_MAX_BATCH_SIZE_IN_BY1$1]:102400,e[_DYN_MAX_BATCH_INTERVAL$1]=isNaN(e[_DYN_MAX_BATCH_INTERVAL$1])?15e3:e[_DYN_MAX_BATCH_INTERVAL$1],e.enableDebug=stringToBoolOrDefault(e.enableDebug),e[_DYN_DISABLE_EXCEPTION_TR2]=stringToBoolOrDefault(e[_DYN_DISABLE_EXCEPTION_TR2]),e[_DYN_DISABLE_TELEMETRY$1]=stringToBoolOrDefault(e[_DYN_DISABLE_TELEMETRY$1]),e.verboseLogging=stringToBoolOrDefault(e.verboseLogging),e[_DYN_EMIT_LINE_DELIMITED_3]=stringToBoolOrDefault(e[_DYN_EMIT_LINE_DELIMITED_3]),e[_DYN_DIAGNOSTIC_LOG_INTER4]=e[_DYN_DIAGNOSTIC_LOG_INTER4]||1e4,e[_DYN_AUTO_TRACK_PAGE_VISI5]=stringToBoolOrDefault(e[_DYN_AUTO_TRACK_PAGE_VISI5]),(isNaN(e[_DYN_SAMPLING_PERCENTAGE$2])||e[_DYN_SAMPLING_PERCENTAGE$2]<=0||100<=e[_DYN_SAMPLING_PERCENTAGE$2])&&(e[_DYN_SAMPLING_PERCENTAGE$2]=100),e[_DYN_DISABLE_AJAX_TRACKIN6]=stringToBoolOrDefault(e[_DYN_DISABLE_AJAX_TRACKIN6]),e[_DYN_MAX_AJAX_CALLS_PER_V7]=isNaN(e[_DYN_MAX_AJAX_CALLS_PER_V7])?500:e[_DYN_MAX_AJAX_CALLS_PER_V7],e[_DYN_IS_BEACON_API_DISABL8]=stringToBoolOrDefault(e[_DYN_IS_BEACON_API_DISABL8],!0),e[_DYN_DISABLE_CORRELATION_9]=stringToBoolOrDefault(e[_DYN_DISABLE_CORRELATION_9]),e[_DYN_CORRELATION_HEADER_E10]=e[_DYN_CORRELATION_HEADER_E10]||DfltAjaxCorrelationHeaderExDomains,e[_DYN_DISABLE_FLUSH_ON_BEF11]=stringToBoolOrDefault(e[_DYN_DISABLE_FLUSH_ON_BEF11]),e.disableFlushOnUnload=stringToBoolOrDefault(e.disableFlushOnUnload,e[_DYN_DISABLE_FLUSH_ON_BEF11]),e[_DYN_ENABLE_SESSION_STORA13]=stringToBoolOrDefault(e[_DYN_ENABLE_SESSION_STORA13],!0),e.isRetryDisabled=stringToBoolOrDefault(e.isRetryDisabled),e[_DYN_IS_COOKIE_USE_DISABL14]=stringToBoolOrDefault(e[_DYN_IS_COOKIE_USE_DISABL14]),e[_DYN_IS_STORAGE_USE_DISAB15]=stringToBoolOrDefault(e[_DYN_IS_STORAGE_USE_DISAB15]),e[_DYN_IS_BROWSER_LINK_TRAC16]=stringToBoolOrDefault(e[_DYN_IS_BROWSER_LINK_TRAC16]),e[_DYN_ENABLE_CORS_CORRELAT17]=stringToBoolOrDefault(e[_DYN_ENABLE_CORS_CORRELAT17]),e}var AppInsightsDeprecated=function(){function e(t,o){var n,i=this,_=!1,a=[];dynamicProto(e,this,function(r){function e(e){_||(o[STR_ADD_TELEMETRY_INITIALIZER](function(e){e.tags[ProcessLegacy]=a}),_=!0),a[_DYN_PUSH$1](e)}n=getDefaultConfig(t[_DYN_CONFIG$1]),r[_DYN_CONFIG$1]=n,r[STR_SNIPPET]=t,r.appInsightsNew=o,r[_DYN_CONTEXT]={addTelemetryInitializer:e.bind(r)},r[STR_ADD_TELEMETRY_INITIALIZERS]=e,proxyFunctions(r,o,[STR_GET_COOKIE_MGR,STR_START_TRACK_PAGE,STR_STOP_TRACK_PAGE,STR_FLUSH,STR_START_TRACK_EVENT,STR_STOP_TRACK_EVENT]),r[STR_TRACK_PAGE_VIEW]=function(e,t,n,_,r){o[STR_TRACK_PAGE_VIEW]({name:e,uri:t,properties:n,measurements:_})},r[STR_TRACK_EVENT]=function(e,t,n){o[STR_TRACK_EVENT]({name:e})},r.trackDependency=function(e,t,n,_,r,i,a){o[STR_TRACK_DEPENDENCY_DATA]({id:e,target:n,type:_,duration:r,properties:{HttpMethod:t},success:i,responseCode:a})},r[STR_TRACK_EXCEPTION]=function(e,t,n,_,r){o[STR_TRACK_EXCEPTION]({exception:e})},r[STR_TRACK_METRIC]=function(e,t,n,_,r,i){o[STR_TRACK_METRIC]({name:e,average:t,sampleCount:n,min:_,max:r})},r[STR_TRACK_TRACE]=function(e,t,n){o[STR_TRACK_TRACE]({message:e,severityLevel:n})},r[STR_SET_AUTHENTICATED_USER_CONTEXT]=function(e,t,n){o[_DYN_CONTEXT].user[STR_SET_AUTHENTICATED_USER_CONTEXT](e,t,n)},r[STR_CLEAR_AUTHENTICATED_USER_CONTEXT]=function(){o[_DYN_CONTEXT].user[STR_CLEAR_AUTHENTICATED_USER_CONTEXT]()},r._onerror=function(e,t,n,_,r){o._onerror({message:e,url:t,lineNumber:n,columnNumber:_,error:r})},r.downloadAndSetup=function(e){throwError("downloadAndSetup not implemented in web SKU")},r[_DYN_UPDATE_SNIPPET_DEFIN0]=function(e){proxyAssign(e,i,function(e){return e&&-1===arrIndexOf(_ignoreUpdateSnippetProperties$1,e)})},r[_DYN_LOAD_APP_INSIGHTS]=function(){r[_DYN_CONFIG$1].iKey&&(_=r[STR_TRACK_PAGE_VIEW],r[STR_TRACK_PAGE_VIEW]=function(e,t,n){_.call(r,null,e,t,n)});var _,e="logPageView",e=(isFunction(r[STR_SNIPPET][e])&&(i[e]=function(e,t,n){r[STR_TRACK_PAGE_VIEW](null,e,t,n)}),"logEvent");return isFunction(r[STR_SNIPPET][e])&&(i[e]=function(e,t,n){r[STR_TRACK_EVENT](e,t,n)}),i}})}return e.__ieDyn=1,e}(),_DYN_TO_STRING$1="toString",_DYN_DISABLE_EXCEPTION_TR0="disableExceptionTracking",_DYN_AUTO_TRACK_PAGE_VISI1="autoTrackPageVisitTime",_DYN_OVERRIDE_PAGE_VIEW_D2="overridePageViewDuration",_DYN_ENABLE_UNHANDLED_PRO3="enableUnhandledPromiseRejectionTracking",_DYN_SAMPLING_PERCENTAGE$1="samplingPercentage",_DYN_IS_STORAGE_USE_DISAB4="isStorageUseDisabled",_DYN_IS_BROWSER_LINK_TRAC5="isBrowserLinkTrackingEnabled",_DYN_ENABLE_AUTO_ROUTE_TR6="enableAutoRouteTracking",_DYN_NAME_PREFIX$2="namePrefix",_DYN_DISABLE_FLUSH_ON_BEF7="disableFlushOnBeforeUnload",_DYN_CORE="core",_DYN_DATA_TYPE$1="dataType",_DYN_ENVELOPE_TYPE$1="envelopeType",_DYN_DIAG_LOG$1="diagLog",_DYN_TRACK="track",_DYN_TRACK_PAGE_VIEW="trackPageView",_DYN_TRACK_PREVIOUS_PAGE_9="trackPreviousPageVisit",_DYN_SEND_PAGE_VIEW_INTER10="sendPageViewInternal",_DYN_SEND_PAGE_VIEW_PERFO11="sendPageViewPerformanceInternal",_DYN_POPULATE_PAGE_VIEW_P12="populatePageViewPerformanceEvent",_DYN_HREF="href",_DYN_SEND_EXCEPTION_INTER13="sendExceptionInternal",_DYN_EXCEPTION="exception",_DYN_ERROR="error",_DYN__ONERROR="_onerror",_DYN_ERROR_SRC="errorSrc",_DYN_LINE_NUMBER="lineNumber",_DYN_COLUMN_NUMBER="columnNumber",_DYN_MESSAGE="message",_DYN__CREATE_AUTO_EXCEPTI14="CreateAutoException",_DYN_ADD_TELEMETRY_INITIA15="addTelemetryInitializer",_DYN_DURATION="duration",_DYN_LENGTH$2="length",_DYN_IS_PERFORMANCE_TIMIN16="isPerformanceTimingSupported",_DYN_GET_PERFORMANCE_TIMI17="getPerformanceTiming",_DYN_NAVIGATION_START="navigationStart",_DYN_SHOULD_COLLECT_DURAT18="shouldCollectDuration",_DYN_IS_PERFORMANCE_TIMIN19="isPerformanceTimingDataReady",_DYN_GET_ENTRIES_BY_TYPE="getEntriesByType",_DYN_RESPONSE_START="responseStart",_DYN_REQUEST_START="requestStart",_DYN_LOAD_EVENT_END="loadEventEnd",_DYN_RESPONSE_END="responseEnd",_DYN_CONNECT_END="connectEnd",_DYN_PAGE_VISIT_START_TIM20="pageVisitStartTime",_isWebWorker=null;function isWebWorker(){if(null==_isWebWorker)try{_isWebWorker=!!(self&&self instanceof WorkerGlobalScope)}catch(e){_isWebWorker=!1}return _isWebWorker}var PageViewManager=function(){function e(D,T,t,l){dynamicProto(e,this,function(e){var N,_=null,r=[],u=!1;function c(e){t&&t.flush(e)}function n(e){r.push(e),function n(){_=_||setTimeout(function(){_=null;var e=r.slice(0),t=!1;r=[],arrForEach(e,function(e){e()?t=!0:r.push(e)}),0<r[_DYN_LENGTH$2]&&n(),t&&c(!0)},100)}()}t&&(N=t.logger),e[_DYN_TRACK_PAGE_VIEW]=function(_,r){var e,i=_.name,a=(!isNullOrUndefined(i)&&"string"==typeof i||(e=getDocument(),i=_.name=e&&e.title||""),_.uri);if(!isNullOrUndefined(a)&&"string"==typeof a||(e=getLocation(),a=_.uri=e&&e[_DYN_HREF]||""),!l[_DYN_IS_PERFORMANCE_TIMIN16]())return D[_DYN_SEND_PAGE_VIEW_INTER10](_,r),c(!0),void(isWebWorker()||_throwInternal(N,2,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info."));var o,t,s=!1,E=l[_DYN_GET_PERFORMANCE_TIMI17]()[_DYN_NAVIGATION_START];0<E&&(o=dateTimeUtilsDuration(E,+new Date),l[_DYN_SHOULD_COLLECT_DURAT18](o)||(o=undefined)),isNullOrUndefined(r)||isNullOrUndefined(r[_DYN_DURATION])||(t=r[_DYN_DURATION]),!T&&isNaN(t)||(isNaN(t)&&((r=r||{})[_DYN_DURATION]=o),D[_DYN_SEND_PAGE_VIEW_INTER10](_,r),c(!0),s=!0),r=r||{},n(function(){var e,t=!1;try{l[_DYN_IS_PERFORMANCE_TIMIN19]()?(t=!0,e={name:i,uri:a},l[_DYN_POPULATE_PAGE_VIEW_P12](e),e.isValid||s?(s||(r[_DYN_DURATION]=e.durationMs,D[_DYN_SEND_PAGE_VIEW_INTER10](_,r)),u||(D[_DYN_SEND_PAGE_VIEW_PERFO11](e,r),u=!0)):(r[_DYN_DURATION]=o,D[_DYN_SEND_PAGE_VIEW_INTER10](_,r))):0<E&&6e4<dateTimeUtilsDuration(E,+new Date)&&(t=!0,s||(r[_DYN_DURATION]=6e4,D[_DYN_SEND_PAGE_VIEW_INTER10](_,r)))}catch(n){_throwInternal(N,1,38,"trackPageView failed on page load calculation: "+getExceptionName(n),{exception:dumpObj(n)})}return t})},e.teardown=function(e,t){var n;_&&(clearTimeout(_),_=null,n=r.slice(0),r=[],arrForEach(n,function(e){e()}))}})}return e.__ieDyn=1,e}(),MAX_DURATION_ALLOWED=36e5,botAgentNames=["googlebot","adsbot-google","apis-google","mediapartners-google"];function _isPerformanceTimingSupported(){var e=getPerformance();return e&&!!e.timing}function _isPerformanceNavigationTimingSupported(){var e=getPerformance();return e&&e.getEntriesByType&&0<e.getEntriesByType("navigation")[_DYN_LENGTH$2]}function _isPerformanceTimingDataReady(){var e=getPerformance(),e=e?e.timing:0;return e&&0<e.domainLookupStart&&0<e[_DYN_NAVIGATION_START]&&0<e[_DYN_RESPONSE_START]&&0<e[_DYN_REQUEST_START]&&0<e[_DYN_LOAD_EVENT_END]&&0<e[_DYN_RESPONSE_END]&&0<e[_DYN_CONNECT_END]&&0<e.domLoading}function _getPerformanceTiming(){return _isPerformanceTimingSupported()?getPerformance().timing:null}function _getPerformanceNavigationTiming(){return _isPerformanceNavigationTimingSupported()?getPerformance()[_DYN_GET_ENTRIES_BY_TYPE]("navigation")[0]:null}function _shouldCollectDuration(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(getNavigator()||{}).userAgent,_=!1;if(n)for(var r=0;r<botAgentNames[_DYN_LENGTH$2];r++)_=_||!!~n.toLowerCase().indexOf(botAgentNames[r]);if(_)return!1;for(r=0;r<e[_DYN_LENGTH$2];r++)if(e[r]<0||e[r]>=MAX_DURATION_ALLOWED)return!1;return!0}var PageViewPerformanceManager=function(){function t(e){var s=safeGetLogger(e);dynamicProto(t,this,function(o){o[_DYN_POPULATE_PAGE_VIEW_P12]=function(e){e.isValid=!1;var t=_getPerformanceNavigationTiming(),n=_getPerformanceTiming(),_=0,r=0,i=0,a=0;(t||n)&&(t=t?(_=t[_DYN_DURATION],r=0===t.startTime?t[_DYN_CONNECT_END]:dateTimeUtilsDuration(t.startTime,t[_DYN_CONNECT_END]),i=dateTimeUtilsDuration(t.requestStart,t[_DYN_RESPONSE_START]),a=dateTimeUtilsDuration(t[_DYN_RESPONSE_START],t[_DYN_RESPONSE_END]),dateTimeUtilsDuration(t.responseEnd,t[_DYN_LOAD_EVENT_END])):(_=dateTimeUtilsDuration(n[_DYN_NAVIGATION_START],n[_DYN_LOAD_EVENT_END]),r=dateTimeUtilsDuration(n[_DYN_NAVIGATION_START],n[_DYN_CONNECT_END]),i=dateTimeUtilsDuration(n.requestStart,n[_DYN_RESPONSE_START]),a=dateTimeUtilsDuration(n[_DYN_RESPONSE_START],n[_DYN_RESPONSE_END]),dateTimeUtilsDuration(n.responseEnd,n[_DYN_LOAD_EVENT_END])),0===_?_throwInternal(s,2,10,"error calculating page view performance.",{total:_,network:r,request:i,response:a,dom:t}):o[_DYN_SHOULD_COLLECT_DURAT18](_,r,i,a,t)?_<Math.floor(r)+Math.floor(i)+Math.floor(a)+Math.floor(t)?_throwInternal(s,2,8,"client performance math error.",{total:_,network:r,request:i,response:a,dom:t}):(e.durationMs=_,e.perfTotal=e[_DYN_DURATION]=msToTimeSpan(_),e.networkConnect=msToTimeSpan(r),e.sentRequest=msToTimeSpan(i),e.receivedResponse=msToTimeSpan(a),e.domProcessing=msToTimeSpan(t),e.isValid=!0):_throwInternal(s,2,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:_,network:r,request:i,response:a,dom:t}))},o[_DYN_GET_PERFORMANCE_TIMI17]=_getPerformanceTiming,o[_DYN_IS_PERFORMANCE_TIMIN16]=_isPerformanceTimingSupported,o[_DYN_IS_PERFORMANCE_TIMIN19]=_isPerformanceTimingDataReady,o[_DYN_SHOULD_COLLECT_DURAT18]=_shouldCollectDuration})}return t.__ieDyn=1,t}(),PageVisitTimeManager=function(){function e(o,s){var E="prevPageVisitData";dynamicProto(e,this,function(e){function r(e,t){var n=null;try{n=a(),i(e,t)}catch(_){_warnToConsole(o,"Call to restart failed: "+dumpObj(_)),n=null}return n}function i(e,t){try{var n,_;utlCanUseSessionStorage()&&(null!=utlGetSessionStorage(o,E)&&throwError("Cannot call startPageVisit consecutively without first calling stopPageVisit"),n=new PageVisitData(e,t),_=getJSON().stringify(n),utlSetSessionStorage(o,E,_))}catch(r){_warnToConsole(o,"Call to start failed: "+dumpObj(r))}}function a(){var e,t,n=null;try{utlCanUseSessionStorage()&&(e=dateNow(),(t=utlGetSessionStorage(o,E))&&hasJSON()&&((n=getJSON().parse(t)).pageVisitTime=e-n[_DYN_PAGE_VISIT_START_TIM20],utlRemoveSessionStorage(o,E)))}catch(_){_warnToConsole(o,"Stop page visit timer failed: "+dumpObj(_)),n=null}return n}e[_DYN_TRACK_PREVIOUS_PAGE_9]=function(e,t){try{var n=r(e,t);n&&s(n.pageName,n.pageUrl,n.pageVisitTime)}catch(_){_warnToConsole(o,"Auto track page visit time failed, metric will not be collected: "+dumpObj(_))}},objDefineAccessors(e,"_logger",function(){return o}),objDefineAccessors(e,"pageVisitTimeTrackingHandler",function(){return s})})}return e.__ieDyn=1,e}(),PageVisitData=function(e,t){this[_DYN_PAGE_VISIT_START_TIM20]=dateNow(),this.pageName=e,this.pageUrl=t},Timing=function(i,e){var a=this,o={};a.start=function(e){"undefined"!=typeof o[e]&&_throwInternal(i,2,62,"start was called more than once for this event without calling stop.",{name:e,key:e},!0),o[e]=+new Date},a.stop=function(e,t,n,_){var r=o[e];isNaN(r)?_throwInternal(i,2,63,"stop was called without a corresponding start.",{name:e,key:e},!0):(r=dateTimeUtilsDuration(r,+new Date),a.action(e,t,r,n,_)),delete o[e],o[e]=undefined}},strEvent="event";function _dispatchEvent(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}function _getReason(e){var t;return e&&e.reason?!isString(t=e.reason)&&isFunction(t[_DYN_TO_STRING$1])?t[_DYN_TO_STRING$1]():dumpObj(t):e||""}var MinMilliSeconds=6e4;function _configMilliseconds(e,t){return(e=e||t)<MinMilliSeconds?MinMilliSeconds:e}function _getDefaultConfig(e){return(e=e||{}).sessionRenewalMs=_configMilliseconds(e.sessionRenewalMs,18e5),e.sessionExpirationMs=_configMilliseconds(e.sessionExpirationMs,864e5),e[_DYN_DISABLE_EXCEPTION_TR0]=stringToBoolOrDefault(e[_DYN_DISABLE_EXCEPTION_TR0]),e[_DYN_AUTO_TRACK_PAGE_VISI1]=stringToBoolOrDefault(e[_DYN_AUTO_TRACK_PAGE_VISI1]),e[_DYN_OVERRIDE_PAGE_VIEW_D2]=stringToBoolOrDefault(e[_DYN_OVERRIDE_PAGE_VIEW_D2]),e[_DYN_ENABLE_UNHANDLED_PRO3]=stringToBoolOrDefault(e[_DYN_ENABLE_UNHANDLED_PRO3]),(isNaN(e[_DYN_SAMPLING_PERCENTAGE$1])||e[_DYN_SAMPLING_PERCENTAGE$1]<=0||100<=e[_DYN_SAMPLING_PERCENTAGE$1])&&(e[_DYN_SAMPLING_PERCENTAGE$1]=100),e[_DYN_IS_STORAGE_USE_DISAB4]=stringToBoolOrDefault(e[_DYN_IS_STORAGE_USE_DISAB4]),e[_DYN_IS_BROWSER_LINK_TRAC5]=stringToBoolOrDefault(e[_DYN_IS_BROWSER_LINK_TRAC5]),e[_DYN_ENABLE_AUTO_ROUTE_TR6]=stringToBoolOrDefault(e[_DYN_ENABLE_AUTO_ROUTE_TR6]),e[_DYN_NAME_PREFIX$2]=e[_DYN_NAME_PREFIX$2]||"",e.enableDebug=stringToBoolOrDefault(e.enableDebug),e[_DYN_DISABLE_FLUSH_ON_BEF7]=stringToBoolOrDefault(e[_DYN_DISABLE_FLUSH_ON_BEF7]),e.disableFlushOnUnload=stringToBoolOrDefault(e.disableFlushOnUnload,e[_DYN_DISABLE_FLUSH_ON_BEF7]),e}function _updateStorageUsage(e){isUndefined(e[_DYN_IS_STORAGE_USE_DISAB4])||(e[_DYN_IS_STORAGE_USE_DISAB4]?utlDisableStorage:utlEnableStorage)()}var AnalyticsPlugin=function(t){function n(){var m,L,v,y,h,U,M,G,F,b,x,H,w,$,B,V,k,e=t.call(this)||this;return e.identifier=AnalyticsPluginIdentifier,e.priority=180,e.autoRoutePVDelay=500,dynamicProto(n,e,function(p,C){var P=C._addHook;function u(e,t,n,_,r){p[_DYN_DIAG_LOG$1]().throwInternal(e,t,n,_,r)}function n(){U=h=y=v=L=m=null;var e=getLocation(!($=w=H=x=b=F=G=M=!1));B=e&&e[_DYN_HREF]||"",k=V=null}n(),p.getCookieMgr=function(){return safeGetCookieMgr(p[_DYN_CORE])},p.processTelemetry=function(e,t){p.processNext(e,t)},p.trackEvent=function(e,t){try{var n=createTelemetryItem(e,Event$1[_DYN_DATA_TYPE$1],Event$1[_DYN_ENVELOPE_TYPE$1],p[_DYN_DIAG_LOG$1](),t);p[_DYN_CORE][_DYN_TRACK](n)}catch(_){u(2,39,"trackTrace failed, trace will not be collected: "+getExceptionName(_),{exception:dumpObj(_)})}},p.startTrackEvent=function(e){try{m.start(e)}catch(t){u(1,29,"startTrackEvent failed, event will not be collected: "+getExceptionName(t),{exception:dumpObj(t)})}},p.stopTrackEvent=function(e,t,n){try{m.stop(e,undefined,t,n)}catch(_){u(1,30,"stopTrackEvent failed, event will not be collected: "+getExceptionName(_),{exception:dumpObj(_)})}},p.trackTrace=function(e,t){try{var n=createTelemetryItem(e,Trace[_DYN_DATA_TYPE$1],Trace[_DYN_ENVELOPE_TYPE$1],p[_DYN_DIAG_LOG$1](),t);p[_DYN_CORE][_DYN_TRACK](n)}catch(_){u(2,39,"trackTrace failed, trace will not be collected: "+getExceptionName(_),{exception:dumpObj(_)})}},p.trackMetric=function(e,t){try{var n=createTelemetryItem(e,Metric[_DYN_DATA_TYPE$1],Metric[_DYN_ENVELOPE_TYPE$1],p[_DYN_DIAG_LOG$1](),t);p[_DYN_CORE][_DYN_TRACK](n)}catch(_){u(1,36,"trackMetric failed, metric will not be collected: "+getExceptionName(_),{exception:dumpObj(_)})}},p[_DYN_TRACK_PAGE_VIEW]=function(e,t){try{var n=e||{};v[_DYN_TRACK_PAGE_VIEW](n,__assignFn(__assignFn(__assignFn({},n.properties),n.measurements),t)),p.config[_DYN_AUTO_TRACK_PAGE_VISI1]&&h[_DYN_TRACK_PREVIOUS_PAGE_9](n.name,n.uri)}catch(_){u(1,37,"trackPageView failed, page view will not be collected: "+getExceptionName(_),{exception:dumpObj(_)})}},p[_DYN_SEND_PAGE_VIEW_INTER10]=function(e,t,n){var _=getDocument(),_=(_&&(e.refUri=e.refUri===undefined?_.referrer:e.refUri),createTelemetryItem(e,PageView[_DYN_DATA_TYPE$1],PageView[_DYN_ENVELOPE_TYPE$1],p[_DYN_DIAG_LOG$1](),t,n));p[_DYN_CORE][_DYN_TRACK](_)},p[_DYN_SEND_PAGE_VIEW_PERFO11]=function(e,t,n){e=createTelemetryItem(e,PageViewPerformance[_DYN_DATA_TYPE$1],PageViewPerformance[_DYN_ENVELOPE_TYPE$1],p[_DYN_DIAG_LOG$1](),t,n);p[_DYN_CORE][_DYN_TRACK](e)},p.trackPageViewPerformance=function(e,t){e=e||{};try{y[_DYN_POPULATE_PAGE_VIEW_P12](e),p[_DYN_SEND_PAGE_VIEW_PERFO11](e,t)}catch(n){u(1,37,"trackPageViewPerformance failed, page view will not be collected: "+getExceptionName(n),{exception:dumpObj(n)})}},p.startTrackPage=function(e){try{var t;"string"!=typeof e&&(e=(t=getDocument())&&t.title||""),L.start(e)}catch(n){u(1,31,"startTrackPage failed, page view may not be collected: "+getExceptionName(n),{exception:dumpObj(n)})}},p.stopTrackPage=function(e,t,n,_){try{var r,i;"string"!=typeof e&&(e=(r=getDocument())&&r.title||""),"string"!=typeof t&&(t=(i=getLocation())&&i[_DYN_HREF]||""),L.stop(e,t,n,_),p.config[_DYN_AUTO_TRACK_PAGE_VISI1]&&h[_DYN_TRACK_PREVIOUS_PAGE_9](e,t)}catch(a){u(1,32,"stopTrackPage failed, page view will not be collected: "+getExceptionName(a),{exception:dumpObj(a)})}},p[_DYN_SEND_EXCEPTION_INTER13]=function(e,t,n){var _=e&&(e[_DYN_EXCEPTION]||e[_DYN_ERROR])||isError(e)&&e||{name:e&&typeof e,message:e||strNotSpecified},_=(e=e||{},createTelemetryItem(new Exception(p[_DYN_DIAG_LOG$1](),_,e.properties||t,e.measurements,e.severityLevel,e.id).toInterface(),Exception[_DYN_DATA_TYPE$1],Exception[_DYN_ENVELOPE_TYPE$1],p[_DYN_DIAG_LOG$1](),t,n));p[_DYN_CORE][_DYN_TRACK](_)},p.trackException=function(e,t){e&&!e[_DYN_EXCEPTION]&&e[_DYN_ERROR]&&(e[_DYN_EXCEPTION]=e[_DYN_ERROR]);try{p[_DYN_SEND_EXCEPTION_INTER13](e,t)}catch(n){u(1,35,"trackException failed, exception will not be collected: "+getExceptionName(n),{exception:dumpObj(n)})}},p[_DYN__ONERROR]=function(e){var t,n,_,r=e&&e[_DYN_ERROR],i=e&&e.evt;try{i||(E=getWindow())&&(i=E[strEvent]);var a=e&&e.url||(getDocument()||{}).URL,o=e[_DYN_ERROR_SRC]||"window.onerror@"+a+":"+(e[_DYN_LINE_NUMBER]||0)+":"+(e[_DYN_COLUMN_NUMBER]||0),s={errorSrc:o,url:a,lineNumber:e[_DYN_LINE_NUMBER]||0,columnNumber:e[_DYN_COLUMN_NUMBER]||0,message:e[_DYN_MESSAGE]};isCrossOriginError(e.message,e.url,e.lineNumber,e.columnNumber,e[_DYN_ERROR])?(t=Exception[_DYN__CREATE_AUTO_EXCEPTI14]("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",a,e[_DYN_LINE_NUMBER]||0,e[_DYN_COLUMN_NUMBER]||0,r,i,null,o),n=s,_=createTelemetryItem(t,Exception[_DYN_DATA_TYPE$1],Exception[_DYN_ENVELOPE_TYPE$1],p[_DYN_DIAG_LOG$1](),n),p[_DYN_CORE][_DYN_TRACK](_)):(e[_DYN_ERROR_SRC]||(e[_DYN_ERROR_SRC]=o),p.trackException({exception:e,severityLevel:3},s))}catch(N){var E=r?r.name+", "+r[_DYN_MESSAGE]:"null";u(1,11,"_onError threw exception while logging error, error will not be collected: "+getExceptionName(N),{exception:dumpObj(N),errorString:E})}},p[_DYN_ADD_TELEMETRY_INITIA15]=function(e){if(p[_DYN_CORE])return p[_DYN_CORE][_DYN_ADD_TELEMETRY_INITIA15](e);(U=U||[]).push(e)},p.initialize=function(e,t,n,_){if(!p.isInitialized()){isNullOrUndefined(t)&&throwError("Error initializing"),C.initialize(e,t,n,_),e.storagePrefix&&utlSetStoragePrefix(e.storagePrefix);try{k=mergeEvtNamespace(createUniqueNamespace(p.identifier),t.evtNamespace&&t.evtNamespace()),U&&(arrForEach(U,function(e){t[_DYN_ADD_TELEMETRY_INITIA15](e)}),U=null),Y=createProcessTelemetryContext(null,f=e,p[_DYN_CORE]),A=p.identifier,R=_getDefaultConfig(f),g=p.config=Y.getExtCfg(A),R!==undefined&&objForEachKey(R,function(e,t){g[e]=Y.getConfig(A,e,t),g[e]===undefined&&(g=t)});var r,i,a,o,s,E,N,u,c,D,T,l,S,d,I=g;_updateStorageUsage(I),y=new PageViewPerformanceManager(p[_DYN_CORE]),v=new PageViewManager(p,I[_DYN_OVERRIDE_PAGE_VIEW_D2],p[_DYN_CORE],y),h=new PageVisitTimeManager(p[_DYN_DIAG_LOG$1](),function(e,t,n){p.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},{PageName:e,PageUrl:t})}),M=I[_DYN_IS_BROWSER_LINK_TRAC5]||e[_DYN_IS_BROWSER_LINK_TRAC5],!G&&M&&(r=["/browserLinkSignalR/","/__browserLink/"],p[_DYN_ADD_TELEMETRY_INITIA15](function(e){if(M&&e.baseType===RemoteDependencyData[_DYN_DATA_TYPE$1]){var t=e.baseData;if(t)for(var n=0;n<r[_DYN_LENGTH$2];n++)if(t.target&&~t.target.indexOf(r[n]))return!1}return!0}),G=!0),(m=new Timing(p[_DYN_DIAG_LOG$1](),"trackEvent")).action=function(e,t,n,_,r){r=r||{},(_=_||{}).duration=n[_DYN_TO_STRING$1](),p.trackEvent({name:e,properties:_,measurements:r})},(L=new Timing(p[_DYN_DIAG_LOG$1](),"trackPageView")).action=function(e,t,n,_,r){(_=isNullOrUndefined(_)?{}:_).duration=n[_DYN_TO_STRING$1](),p[_DYN_SEND_PAGE_VIEW_INTER10]({name:e,uri:t,properties:_,measurements:r},_)},hasWindow()&&(a=I,o=getWindow(),s=getLocation(!0),(x=a[_DYN_DISABLE_EXCEPTION_TR0])||H||a.autoExceptionInstrumented||(P(InstrumentEvent(o,"onerror",{ns:k,rsp:function(e,t,n,_,r,i){x||!0===e.rslt||p[_DYN__ONERROR](Exception[_DYN__CREATE_AUTO_EXCEPTI14](t,n,_,r,i,e.evt))}},!1)),H=!0),N=s,(w=!0===(E=a)[_DYN_ENABLE_UNHANDLED_PRO3])&&!$&&(P(InstrumentEvent(o,"onunhandledrejection",{ns:k,rsp:function(e,t){w&&!0!==e.rslt&&p[_DYN__ONERROR](Exception[_DYN__CREATE_AUTO_EXCEPTI14](_getReason(t),N?N[_DYN_HREF]:"",0,0,t,e.evt))}},!1)),$=!0,E.autoUnhandledPromiseInstrumented=$),u=I,c=getWindow(),D=getLocation(!0),F=!0===u[_DYN_ENABLE_AUTO_ROUTE_TR6],c&&F&&hasHistory()&&isFunction((i=getHistory()).pushState)&&isFunction(i.replaceState)&&typeof Event!==strShimUndefined&&(T=c,l=i,S=D,d=u[_DYN_NAME_PREFIX$2]||"",b||(P(InstrumentEvent(l,"pushState",{ns:k,rsp:function(){F&&(_dispatchEvent(T,createDomEvent(d+"pushState")),_dispatchEvent(T,createDomEvent(d+"locationchange")))}},!0)),P(InstrumentEvent(l,"replaceState",{ns:k,rsp:function(){F&&(_dispatchEvent(T,createDomEvent(d+"replaceState")),_dispatchEvent(T,createDomEvent(d+"locationchange")))}},!0)),eventOn(T,d+"popstate",function(){F&&_dispatchEvent(T,createDomEvent(d+"locationchange"))},k),eventOn(T,d+"locationchange",function(){var e,t;V&&(B=V),V=S&&S[_DYN_HREF]||"",F&&(t=null,(t=p[_DYN_CORE]&&p[_DYN_CORE].getTraceCtx?p[_DYN_CORE].getTraceCtx(!1):t)||(e=p[_DYN_CORE].getPlugin(PropertiesPluginIdentifier))&&(e=e.plugin.context)&&(t=createDistributedTraceContextFromTrace(e.telemetryTrace)),(e=t)&&(e.setTraceId(generateW3CId()),t="_unknown_",S&&S.pathname&&(t=S.pathname+(S.hash||"")),e.setName(dataSanitizeString(p[_DYN_DIAG_LOG$1](),t))),setTimeout((function(e){p[_DYN_TRACK_PAGE_VIEW]({refUri:e,properties:{duration:0}})}).bind(p,B),p.autoRoutePVDelay))},k),b=!0)))}catch(O){throw p.setInitialized(!1),O}}var f,Y,A,R,g},p._doTeardown=function(e,t){v&&v.teardown(e,t),eventOff(window,null,null,k),n()},objDefineAccessors(p,"_pageViewManager",function(){return v}),objDefineAccessors(p,"_pageViewPerformanceManager",function(){return y}),objDefineAccessors(p,"_pageVisitTimeManager",function(){return h}),objDefineAccessors(p,"_evtNamespace",function(){return"."+k})}),e}return __extendsFn(n,t),n.Version="2.8.18",n.getDefaultConfig=_getDefaultConfig,n}(BaseTelemetryPlugin),STR_DURATION="duration",_DYN_TAGS="tags",_DYN_DEVICE_TYPE="deviceType",_DYN_DATA="data",_DYN_NAME="name",_DYN_TRACE_ID="traceID",_DYN_LENGTH$1="length",_DYN_STRINGIFY="stringify",_DYN_MEASUREMENTS="measurements",_DYN_DATA_TYPE="dataType",_DYN_ENVELOPE_TYPE="envelopeType",_DYN_TO_STRING="toString",_DYN_ON_LINE="onLine",_DYN_IS_ONLINE="isOnline",_DYN_ENQUEUE="enqueue",_DYN_COUNT="count",_DYN_EVENTS_LIMIT_IN_MEM="eventsLimitInMem",_DYN_PUSH="push",_DYN_EMIT_LINE_DELIMITED_0="emitLineDelimitedJson",_DYN_CLEAR="clear",_DYN_BATCH_PAYLOADS="batchPayloads",_DYN_MARK_AS_SENT="markAsSent",_DYN_CLEAR_SENT="clearSent",_DYN_BUFFER_OVERRIDE="bufferOverride",_DYN__BUFFER__KEY="BUFFER_KEY",_DYN__SENT__BUFFER__KEY="SENT_BUFFER_KEY",_DYN__MAX__BUFFER__SIZE="MAX_BUFFER_SIZE",_DYN_NAME_PREFIX$1="namePrefix",_DYN_MAX_BATCH_SIZE_IN_BY1="maxBatchSizeInBytes",_DYN_TRIGGER_SEND="triggerSend",_DYN_DIAG_LOG="diagLog",_DYN_ONUNLOAD_DISABLE_BEA2="onunloadDisableBeacon",_DYN_IS_BEACON_API_DISABL3="isBeaconApiDisabled",_DYN__SENDER="_sender",_DYN__SENDER_CONFIG="_senderConfig",_DYN_ENABLE_SESSION_STORA4="enableSessionStorageBuffer",_DYN__BUFFER="_buffer",_DYN_SAMPLING_PERCENTAGE="samplingPercentage",_DYN_INSTRUMENTATION_KEY="instrumentationKey",_DYN_ENDPOINT_URL="endpointUrl",_DYN_CUSTOM_HEADERS="customHeaders",_DYN_DISABLE_XHR="disableXhr",_DYN_ONUNLOAD_DISABLE_FET5="onunloadDisableFetch",_DYN_DISABLE_TELEMETRY="disableTelemetry",_DYN_BASE_TYPE="baseType",_DYN_SAMPLE_RATE="sampleRate",_DYN_CONVERT_UNDEFINED="convertUndefined",_DYN__XHR_READY_STATE_CHA6="_xhrReadyStateChange",_DYN__ON_ERROR="_onError",_DYN__ON_PARTIAL_SUCCESS="_onPartialSuccess",_DYN__ON_SUCCESS="_onSuccess",_DYN_ITEMS_ACCEPTED="itemsAccepted",_DYN_ITEMS_RECEIVED="itemsReceived",_DYN_IS_RETRY_DISABLED="isRetryDisabled",_DYN_SET_REQUEST_HEADER="setRequestHeader",_DYN_MAX_BATCH_INTERVAL="maxBatchInterval",_DYN_EVENTS_SEND_REQUEST="eventsSendRequest",_DYN_DISABLE_INSTRUMENTAT7="disableInstrumentationKeyValidation",_DYN_GET_SAMPLING_SCORE="getSamplingScore",_DYN_GET_HASH_CODE_SCORE="getHashCodeScore",strBaseType="baseType",strBaseData="baseData",strProperties="properties",strTrue="true";function _setValueIf(e,t,n){return setValue(e,t,n,isTruthy)}function _extractPartAExtensions(e,t,n){for(var _=n[_DYN_TAGS]=n[_DYN_TAGS]||{},r=t.ext=t.ext||{},i=t[_DYN_TAGS]=t[_DYN_TAGS]||[],a=r.user,a=(a&&(_setValueIf(_,CtxTagKeys.userAuthUserId,a.authId),_setValueIf(_,CtxTagKeys.userId,a.id||a.localId)),r.app),a=(a&&_setValueIf(_,CtxTagKeys.sessionId,a.sesId),r.device),a=(a&&(_setValueIf(_,CtxTagKeys.deviceId,a.id||a.localId),_setValueIf(_,CtxTagKeys[_DYN_DEVICE_TYPE],a.deviceClass),_setValueIf(_,CtxTagKeys.deviceIp,a.ip),_setValueIf(_,CtxTagKeys.deviceModel,a.model),_setValueIf(_,CtxTagKeys[_DYN_DEVICE_TYPE],a[_DYN_DEVICE_TYPE])),t.ext.web),t=(a&&(_setValueIf(_,CtxTagKeys.deviceLanguage,a.browserLang),_setValueIf(_,CtxTagKeys.deviceBrowserVersion,a.browserVer),_setValueIf(_,CtxTagKeys.deviceBrowser,a.browser),_setValueIf(t=(t=(t=n[_DYN_DATA]=n[_DYN_DATA]||{})[strBaseData]=t[strBaseData]||{})[strProperties]=t[strProperties]||{},"domain",a.domain),_setValueIf(t,"isManual",a.isManual?strTrue:null),_setValueIf(t,"screenRes",a.screenRes),_setValueIf(t,"userConsent",a.userConsent?strTrue:null)),r.os),a=(t&&_setValueIf(_,CtxTagKeys.deviceOS,t[_DYN_NAME]),r.trace),o=(a&&(_setValueIf(_,CtxTagKeys.operationParentId,a.parentID),_setValueIf(_,CtxTagKeys.operationName,dataSanitizeString(e,a[_DYN_NAME])),_setValueIf(_,CtxTagKeys.operationId,a[_DYN_TRACE_ID])),{}),s=i[_DYN_LENGTH$1]-1;0<=s;s--)objForEachKey(i[s],function(e,t){o[e]=t}),i.splice(s,1);objForEachKey(i,function(e,t){o[e]=t});t=__assignFn(__assignFn({},_),o);t[CtxTagKeys.internalSdkVersion]||(t[CtxTagKeys.internalSdkVersion]=dataSanitizeString(e,"javascript:".concat(EnvelopeCreator.Version),64)),n[_DYN_TAGS]=optimizeObject(t)}function _extractPropsAndMeasurements(e,n,_){isNullOrUndefined(e)||objForEachKey(e,function(e,t){isNumber(t)?_[e]=t:isString(t)?n[e]=t:hasJSON()&&(n[e]=getJSON()[_DYN_STRINGIFY](t))})}function _convertPropsUndefinedToCustomDefinedValue(n,_){isNullOrUndefined(n)||objForEachKey(n,function(e,t){n[e]=t||_})}function _createEnvelope(e,t,n,_){_=new Envelope(e,_,t),_setValueIf(_,"sampleRate",n[SampleRate]),(n[strBaseData]||{}).startTime&&(_.time=toISOString(n[strBaseData].startTime)),_.iKey=n.iKey,t=n.iKey.replace(/-/g,"");return _[_DYN_NAME]=_[_DYN_NAME].replace("{0}",t),_extractPartAExtensions(e,n,_),n[_DYN_TAGS]=n[_DYN_TAGS]||[],optimizeObject(_)}function EnvelopeCreatorInit(e,t){isNullOrUndefined(t[strBaseData])&&_throwInternal(e,1,46,"telemetryItem.baseData cannot be null.")}var EnvelopeCreator={Version:"2.8.18"};function DependencyEnvelopeCreator(e,t,n){EnvelopeCreatorInit(e,t);var _=t[strBaseData][_DYN_MEASUREMENTS]||{},r=t[strBaseData][strProperties]||{},n=(_extractPropsAndMeasurements(t[_DYN_DATA],r,_),isNullOrUndefined(n)||_convertPropsUndefinedToCustomDefinedValue(r,n),t[strBaseData]);if(isNullOrUndefined(n))return _warnToConsole(e,"Invalid input for dependency data"),null;var i=n[strProperties]&&n[strProperties][HttpMethod]?n[strProperties][HttpMethod]:"GET",i=new RemoteDependencyData(e,n.id,n.target,n[_DYN_NAME],n[STR_DURATION],n.success,n.responseCode,i,n.type,n.correlationContext,r,_),n=new Data(RemoteDependencyData[_DYN_DATA_TYPE],i);return _createEnvelope(e,RemoteDependencyData[_DYN_ENVELOPE_TYPE],t,n)}function EventEnvelopeCreator(e,t,n){EnvelopeCreatorInit(e,t);var _={},r={},n=(t[strBaseType]!==Event$1[_DYN_DATA_TYPE]&&(_.baseTypeSource=t[strBaseType]),t[strBaseType]===Event$1[_DYN_DATA_TYPE]?(_=t[strBaseData][strProperties]||{},r=t[strBaseData][_DYN_MEASUREMENTS]||{}):t[strBaseData]&&_extractPropsAndMeasurements(t[strBaseData],_,r),_extractPropsAndMeasurements(t[_DYN_DATA],_,r),isNullOrUndefined(n)||_convertPropsUndefinedToCustomDefinedValue(_,n),t[strBaseData][_DYN_NAME]),n=new Event$1(e,n,_,r),_=new Data(Event$1[_DYN_DATA_TYPE],n);return _createEnvelope(e,Event$1[_DYN_ENVELOPE_TYPE],t,_)}function ExceptionEnvelopeCreator(e,t,n){EnvelopeCreatorInit(e,t);var _=t[strBaseData][_DYN_MEASUREMENTS]||{},r=t[strBaseData][strProperties]||{},n=(_extractPropsAndMeasurements(t[_DYN_DATA],r,_),isNullOrUndefined(n)||_convertPropsUndefinedToCustomDefinedValue(r,n),t[strBaseData]),n=Exception.CreateFromInterface(e,n,r,_),r=new Data(Exception[_DYN_DATA_TYPE],n);return _createEnvelope(e,Exception[_DYN_ENVELOPE_TYPE],t,r)}function MetricEnvelopeCreator(e,t,n){EnvelopeCreatorInit(e,t);var _=t[strBaseData],r=_[strProperties]||{},i=_[_DYN_MEASUREMENTS]||{},n=(_extractPropsAndMeasurements(t[_DYN_DATA],r,i),isNullOrUndefined(n)||_convertPropsUndefinedToCustomDefinedValue(r,n),new Metric(e,_[_DYN_NAME],_.average,_.sampleCount,_.min,_.max,_.stdDev,r,i)),_=new Data(Metric[_DYN_DATA_TYPE],n);return _createEnvelope(e,Metric[_DYN_ENVELOPE_TYPE],t,_)}function PageViewEnvelopeCreator(e,t,n){EnvelopeCreatorInit(e,t);var _,r=t[strBaseData],r=(isNullOrUndefined(r)||isNullOrUndefined(r[strProperties])||isNullOrUndefined(r[strProperties][STR_DURATION])?isNullOrUndefined(t[_DYN_DATA])||isNullOrUndefined(t[_DYN_DATA][STR_DURATION])||(_=t[_DYN_DATA][STR_DURATION],delete t[_DYN_DATA][STR_DURATION]):(_=r[strProperties][STR_DURATION],delete r[strProperties][STR_DURATION]),t[strBaseData]),i=(((t.ext||{}).trace||{})[_DYN_TRACE_ID]&&(i=t.ext.trace[_DYN_TRACE_ID]),r.id||i),a=r[_DYN_NAME],o=r.uri,s=r[strProperties]||{},E=r[_DYN_MEASUREMENTS]||{},r=(isNullOrUndefined(r.refUri)||(s.refUri=r.refUri),isNullOrUndefined(r.pageType)||(s.pageType=r.pageType),isNullOrUndefined(r.isLoggedIn)||(s.isLoggedIn=r.isLoggedIn[_DYN_TO_STRING]()),isNullOrUndefined(r[strProperties])||objForEachKey(r[strProperties],function(e,t){s[e]=t}),_extractPropsAndMeasurements(t[_DYN_DATA],s,E),isNullOrUndefined(n)||_convertPropsUndefinedToCustomDefinedValue(s,n),new PageView(e,a,o,_,s,E,i)),n=new Data(PageView[_DYN_DATA_TYPE],r);return _createEnvelope(e,PageView[_DYN_ENVELOPE_TYPE],t,n)}function PageViewPerformanceEnvelopeCreator(e,t,n){EnvelopeCreatorInit(e,t);var _=t[strBaseData],r=_[_DYN_NAME],i=_.uri||_.url,a=_[strProperties]||{},o=_[_DYN_MEASUREMENTS]||{},n=(_extractPropsAndMeasurements(t[_DYN_DATA],a,o),isNullOrUndefined(n)||_convertPropsUndefinedToCustomDefinedValue(a,n),new PageViewPerformance(e,r,i,undefined,a,o,_)),r=new Data(PageViewPerformance[_DYN_DATA_TYPE],n);return _createEnvelope(e,PageViewPerformance[_DYN_ENVELOPE_TYPE],t,r)}function TraceEnvelopeCreator(e,t,n){EnvelopeCreatorInit(e,t);var _=t[strBaseData].message,r=t[strBaseData].severityLevel,i=t[strBaseData][strProperties]||{},a=t[strBaseData][_DYN_MEASUREMENTS]||{},n=(_extractPropsAndMeasurements(t[_DYN_DATA],i,a),isNullOrUndefined(n)||_convertPropsUndefinedToCustomDefinedValue(i,n),new Trace(e,_,r,i,a)),_=new Data(Trace[_DYN_DATA_TYPE],n);return _createEnvelope(e,Trace[_DYN_ENVELOPE_TYPE],t,_)}function _disableEvents(e,t){eventOff(e,null,null,t)}function createOfflineListener(e){var t,n=getDocument(),_=getNavigator(),r=!1,i=!0,a=mergeEvtNamespace(createUniqueNamespace("OfflineListener"),e);try{o(getWindow())&&(r=!0),(r=!!(n&&(t=n.body||n).ononline&&o(t))||r)&&_&&!isNullOrUndefined(_[_DYN_ON_LINE])&&(i=_[_DYN_ON_LINE])}catch(N){r=!1}function o(e){var t=!1;return e&&(t=eventOn(e,"online",s,a))&&eventOn(e,"offline",E,a),t}function s(){i=!0}function E(){i=!1}return(e={})[_DYN_IS_ONLINE]=function(){var e=!0;return r?e=i:_&&!isNullOrUndefined(_[_DYN_ON_LINE])&&(e=_[_DYN_ON_LINE]),e},e.isListening=function(){return r},e.unload=function(){var e=getWindow();e&&r&&(_disableEvents(e,a),n&&!isUndefined((e=n.body||n).ononline)&&_disableEvents(e,a),r=!1)},e}var _a,BaseSendBuffer=function(){function e(n,_){var r=[],i=!1;this._get=function(){return r},this._set=function(e){return r=e},dynamicProto(e,this,function(t){t[_DYN_ENQUEUE]=function(e){t[_DYN_COUNT]()>=_[_DYN_EVENTS_LIMIT_IN_MEM]()?i||(_throwInternal(n,2,105,"Maximum in-memory buffer size reached: "+t[_DYN_COUNT](),!0),i=!0):r[_DYN_PUSH](e)},t[_DYN_COUNT]=function(){return r[_DYN_LENGTH$1]},t.size=function(){for(var e=r[_DYN_LENGTH$1],t=0;t<r[_DYN_LENGTH$1];t++)e+=r[t][_DYN_LENGTH$1];return _[_DYN_EMIT_LINE_DELIMITED_0]()||(e+=2),e},t[_DYN_CLEAR]=function(){i=!(r=[])},t.getItems=function(){return r.slice(0)},t[_DYN_BATCH_PAYLOADS]=function(e){return e&&0<e[_DYN_LENGTH$1]?_[_DYN_EMIT_LINE_DELIMITED_0]()?e.join("\n"):"["+e.join(",")+"]":null}})}return e.__ieDyn=1,e}(),ArraySendBuffer=function(n){function _(e,t){e=n.call(this,e,t)||this;return dynamicProto(_,e,function(e,t){e[_DYN_MARK_AS_SENT]=function(e){t[_DYN_CLEAR]()},e[_DYN_CLEAR_SENT]=function(e){}}),e}return __extendsFn(_,n),_.__ieDyn=1,_}(BaseSendBuffer),SessionStorageSendBuffer=function(n){function c(o,s){var e=n.call(this,o,s)||this,E=!1,t=s[_DYN_BUFFER_OVERRIDE]()||{getItem:utlGetSessionStorage,setItem:utlSetSessionStorage},N=t.getItem,u=t.setItem;return dynamicProto(c,e,function(n,t){var e=i(c[_DYN__BUFFER__KEY]),_=i(c[_DYN__SENT__BUFFER__KEY]),_=n._set(e.concat(_));function r(t,e){var n=[];return arrForEach(e,function(e){isFunction(e)||-1!==arrIndexOf(t,e)||n[_DYN_PUSH](e)}),n}function i(e){try{var e=s[_DYN_NAME_PREFIX$1]&&s[_DYN_NAME_PREFIX$1]()?s[_DYN_NAME_PREFIX$1]()+"_"+e:e,t=N(o,e);if(t){var n=getJSON().parse(t);if((n=isString(n)?getJSON().parse(n):n)&&isArray(n))return n}}catch(_){_throwInternal(o,1,42," storage key: "+e+", "+getExceptionName(_),{exception:dumpObj(_)})}return[]}function a(e,t){try{var e=s[_DYN_NAME_PREFIX$1]&&s[_DYN_NAME_PREFIX$1]()?s[_DYN_NAME_PREFIX$1]()+"_"+e:e,n=JSON[_DYN_STRINGIFY](t);u(o,e,n)}catch(_){u(o,e,JSON[_DYN_STRINGIFY]([])),_throwInternal(o,2,41," storage key: "+e+", "+getExceptionName(_)+". Buffer cleared",{exception:dumpObj(_)})}}_[_DYN_LENGTH$1]>c[_DYN__MAX__BUFFER__SIZE]&&(_[_DYN_LENGTH$1]=c[_DYN__MAX__BUFFER__SIZE]),a(c[_DYN__SENT__BUFFER__KEY],[]),a(c[_DYN__BUFFER__KEY],_),n[_DYN_ENQUEUE]=function(e){n[_DYN_COUNT]()>=c[_DYN__MAX__BUFFER__SIZE]?E||(_throwInternal(o,2,67,"Maximum buffer size reached: "+n[_DYN_COUNT](),!0),E=!0):(t[_DYN_ENQUEUE](e),a(c[_DYN__BUFFER__KEY],n._get()))},n[_DYN_CLEAR]=function(){t[_DYN_CLEAR](),a(c[_DYN__BUFFER__KEY],n._get()),a(c[_DYN__SENT__BUFFER__KEY],[]),E=!1},n[_DYN_MARK_AS_SENT]=function(e){a(c[_DYN__BUFFER__KEY],n._set(r(e,n._get())));var t=i(c[_DYN__SENT__BUFFER__KEY]);t instanceof Array&&e instanceof Array&&((t=t.concat(e))[_DYN_LENGTH$1]>c[_DYN__MAX__BUFFER__SIZE]&&(_throwInternal(o,1,67,"Sent buffer reached its maximum size: "+t[_DYN_LENGTH$1],!0),t[_DYN_LENGTH$1]=c[_DYN__MAX__BUFFER__SIZE]),a(c[_DYN__SENT__BUFFER__KEY],t))},n[_DYN_CLEAR_SENT]=function(e){e=r(e,i(c[_DYN__SENT__BUFFER__KEY]));a(c[_DYN__SENT__BUFFER__KEY],e)}}),e}return __extendsFn(c,n),c.BUFFER_KEY="AI_buffer",c.SENT_BUFFER_KEY="AI_sentBuffer",c.MAX_BUFFER_SIZE=2e3,c}(BaseSendBuffer),Serializer=function(){function e(u){dynamicProto(e,this,function(e){function E(a,o){var e="__aiCircularRefCheck",s={};if(!a)return _throwInternal(u,1,48,"cannot serialize object because it is null or undefined",{name:o},!0),s;if(a[e])return _throwInternal(u,2,50,"Circular reference detected while serializing object",{name:o},!0),s;if(a.aiDataContract)return a[e]=!0,objForEachKey(a.aiDataContract,function(e,t){var n=isFunction(t)?1&t():1&t,_=isFunction(t)?4&t():4&t,t=2&t,r=a[e]!==undefined,i=isObject(a[e])&&null!==a[e];!n||r||t?_||(n=i?(t?N:E)(a[e],e):a[e])!==undefined&&(s[e]=n):_throwInternal(u,1,24,"Missing required field specification. The field is required but not present on source",{field:e,name:o})}),delete a[e],s;if("measurements"===o)s=n(a,"number",o);else if("properties"===o)s=n(a,"string",o);else if("tags"===o)s=n(a,"string",o);else if(isArray(a))s=N(a,o);else{_throwInternal(u,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:o},!0);try{getJSON()[_DYN_STRINGIFY](a),s=a}catch(t){_throwInternal(u,1,48,t&&isFunction(t[_DYN_TO_STRING])?t[_DYN_TO_STRING]():"Error serializing object",null,!0)}}return s}function N(e,t){if(e)if(isArray(e))for(var n=[],_=0;_<e[_DYN_LENGTH$1];_++){var r=E(e[_],t+"["+_+"]");n[_DYN_PUSH](r)}else _throwInternal(u,1,54,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:t},!0);return n}function n(e,n,_){var r;return e&&(r={},objForEachKey(e,function(e,t){"string"===n?t===undefined?r[e]="undefined":null===t?r[e]="null":t[_DYN_TO_STRING]?r[e]=t[_DYN_TO_STRING]():r[e]="invalid field: toString() is not defined.":"number"===n?t===undefined?r[e]="undefined":r[e]=null===t?"null":isNaN(t=parseFloat(t))?"NaN":t:(r[e]="invalid field: "+_+" is of unknown type.",_throwInternal(u,1,r[e],null,!0))})),r}e.serialize=function(e){e=E(e,"root");try{return getJSON()[_DYN_STRINGIFY](e)}catch(t){_throwInternal(u,1,48,t&&isFunction(t[_DYN_TO_STRING])?t[_DYN_TO_STRING]():"Error serializing object",null,!0)}}})}return e.__ieDyn=1,e}(),MIN_INPUT_LENGTH=8,HashCodeScoreGenerator=function(){function t(){}return t.prototype.getHashCodeScore=function(e){return this.getHashCode(e)/t.INT_MAX_VALUE*100},t.prototype.getHashCode=function(e){if(""===e)return 0;for(;e[_DYN_LENGTH$1]<MIN_INPUT_LENGTH;)e=e.concat(e);for(var t=5381,n=0;n<e[_DYN_LENGTH$1];++n)t=(t<<5)+t+e.charCodeAt(n),t&=t;return Math.abs(t)},t.INT_MAX_VALUE=2147483647,t}(),SamplingScoreGenerator=function(){var t=new HashCodeScoreGenerator,n=new ContextTagKeys;this[_DYN_GET_SAMPLING_SCORE]=function(e){return e[_DYN_TAGS]&&e[_DYN_TAGS][n.userId]?t.getHashCodeScore(e[_DYN_TAGS][n.userId]):e.ext&&e.ext.user&&e.ext.user.id?t[_DYN_GET_HASH_CODE_SCORE](e.ext.user.id):e[_DYN_TAGS]&&e[_DYN_TAGS][n.operationId]?t.getHashCodeScore(e[_DYN_TAGS][n.operationId]):e.ext&&e.ext.telemetryTrace&&e.ext.telemetryTrace[_DYN_TRACE_ID]?t.getHashCodeScore(e.ext.telemetryTrace[_DYN_TRACE_ID]):100*Math.random()}},Sample=function(){function e(e,t){this.INT_MAX_VALUE=2147483647;t=t||safeGetLogger(null);(100<e||e<0)&&(t.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this[_DYN_SAMPLE_RATE]=e,this.samplingScoreGenerator=new SamplingScoreGenerator}return e.prototype.isSampledIn=function(e){var t=this[_DYN_SAMPLE_RATE];return null===t||t===undefined||100<=t||e.baseType===Metric[_DYN_DATA_TYPE]||this.samplingScoreGenerator[_DYN_GET_SAMPLING_SCORE](e)<t},e}(),FetchSyncRequestSizeLimitBytes=65e3;function _getResponseText(e){try{return e.responseText}catch(t){}return null}function _getDefaultAppInsightsChannelConfig(){var e,t={endpointUrl:function(){return DEFAULT_BREEZE_ENDPOINT+DEFAULT_BREEZE_PATH}};return t[_DYN_EMIT_LINE_DELIMITED_0]=function(){return!1},t[_DYN_MAX_BATCH_INTERVAL]=function(){return 15e3},t[_DYN_MAX_BATCH_SIZE_IN_BY1]=function(){return 102400},t[_DYN_DISABLE_TELEMETRY]=function(){return!1},t[_DYN_ENABLE_SESSION_STORA4]=function(){return!0},t[_DYN_BUFFER_OVERRIDE]=function(){return!1},t[_DYN_IS_RETRY_DISABLED]=function(){return!1},t[_DYN_IS_BEACON_API_DISABL3]=function(){return!0},t[_DYN_DISABLE_XHR]=function(){return!1},t[_DYN_ONUNLOAD_DISABLE_FET5]=function(){return!1},t[_DYN_ONUNLOAD_DISABLE_BEA2]=function(){return!1},t[_DYN_INSTRUMENTATION_KEY]=function(){return e},t[_DYN_NAME_PREFIX$1]=function(){return e},t[_DYN_SAMPLING_PERCENTAGE]=function(){return 100},t[_DYN_CUSTOM_HEADERS]=function(){},t[_DYN_CONVERT_UNDEFINED]=function(){return e},t[_DYN_EVENTS_LIMIT_IN_MEM]=function(){return 1e4},t.retryCodes=function(){return null},t}(_a={})[Event$1.dataType]=EventEnvelopeCreator,_a[Trace.dataType]=TraceEnvelopeCreator,_a[PageView.dataType]=PageViewEnvelopeCreator,_a[PageViewPerformance.dataType]=PageViewPerformanceEnvelopeCreator,_a[Exception.dataType]=ExceptionEnvelopeCreator,_a[Metric.dataType]=MetricEnvelopeCreator,_a[RemoteDependencyData.dataType]=DependencyEnvelopeCreator;var EnvelopeTypeCreator=_a,Sender=function(e){function F(){var g,O,p,_,C,P,m,L,v,y,h,U,M=e.call(this)||this,G=(M.priority=1001,M.identifier=BreezeChannelIdentifier,M._senderConfig=_getDefaultAppInsightsChannelConfig(),0);return dynamicProto(F,M,function(N,a){function E(e,t,n,_,r,i){var a=null;N._appId||(a=T(i))&&a.appId&&(N._appId=a.appId),(e<200||300<=e)&&0!==e?(301!==e&&307!==e&&308!==e||o(n))&&!N[_DYN__SENDER_CONFIG][_DYN_IS_RETRY_DISABLED]()&&I(e)?(l(t),_throwInternal(N[_DYN_DIAG_LOG](),2,40,". Response code "+e+". Will retry to send "+t[_DYN_LENGTH$1]+" items.")):N[_DYN__ON_ERROR](t,r):y&&!y[_DYN_IS_ONLINE]()?N[_DYN__SENDER_CONFIG][_DYN_IS_RETRY_DISABLED]()||(l(t,10),_throwInternal(N[_DYN_DIAG_LOG](),2,40,". Offline - Response Code: ".concat(e,". Offline status: ").concat(!y.isOnline(),". Will retry to send ").concat(t.length," items."))):(o(n),206===e?(a=a||T(i))&&!N[_DYN__SENDER_CONFIG][_DYN_IS_RETRY_DISABLED]()?N[_DYN__ON_PARTIAL_SUCCESS](t,a):N[_DYN__ON_ERROR](t,r):(g=0,N[_DYN__ON_SUCCESS](t,_)))}function o(e){return!(10<=P)&&!isNullOrUndefined(e)&&""!==e&&e!==N[_DYN__SENDER_CONFIG][_DYN_ENDPOINT_URL]()&&(N[_DYN__SENDER_CONFIG][_DYN_ENDPOINT_URL]=function(){return e},++P,1)}function t(e,t){v?v(e,!1):s(e)}function i(e){var t=getNavigator(),n=N[_DYN__BUFFER],_=N[_DYN__SENDER_CONFIG][_DYN_ENDPOINT_URL](),r=N._buffer[_DYN_BATCH_PAYLOADS](e),r=new Blob([r],{type:"text/plain;charset=UTF-8"}),_=t.sendBeacon(_,r);return _&&(n[_DYN_MARK_AS_SENT](e),N._onSuccess(e,e[_DYN_LENGTH$1])),_}function s(e,t){if(isArray(e)&&0<e[_DYN_LENGTH$1]&&!i(e)){for(var n=[],_=0;_<e[_DYN_LENGTH$1];_++){var r=e[_];i([r])||n[_DYN_PUSH](r)}0<n[_DYN_LENGTH$1]&&(L&&L(n,!0),_throwInternal(N[_DYN_DIAG_LOG](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function u(t,e){var n=new XMLHttpRequest,_=N[_DYN__SENDER_CONFIG][_DYN_ENDPOINT_URL]();try{n[DisabledPropertyName]=!0}catch(r){}n.open("POST",_,e),n[_DYN_SET_REQUEST_HEADER]("Content-type","application/json"),isInternalApplicationInsightsEndpoint(_)&&n[_DYN_SET_REQUEST_HEADER](RequestHeaders[6],RequestHeaders[7]),arrForEach(objKeys(m),function(e){n[_DYN_SET_REQUEST_HEADER](e,m[e])}),n.onreadystatechange=function(){return N._xhrReadyStateChange(n,t,t[_DYN_LENGTH$1])},n.onerror=function(e){return N[_DYN__ON_ERROR](t,f(n),e)};e=N._buffer[_DYN_BATCH_PAYLOADS](t);n.send(e),N._buffer[_DYN_MARK_AS_SENT](t)}function c(e,t){if(isArray(e)){for(var n=e[_DYN_LENGTH$1],_=0;_<e[_DYN_LENGTH$1];_++)n+=e[_][_DYN_LENGTH$1];G+n<=FetchSyncRequestSizeLimitBytes?r(e,!1):isBeaconsSupported()?s(e):(L&&L(e,!0),_throwInternal(N[_DYN_DIAG_LOG](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function D(e,t){r(e,!0)}function r(n,_){var e=N[_DYN__SENDER_CONFIG][_DYN_ENDPOINT_URL](),t=N._buffer[_DYN_BATCH_PAYLOADS](n),r=new Blob([t],{type:"application/json"}),i=new Headers,a=t[_DYN_LENGTH$1],t=!1,o=!1,e=(isInternalApplicationInsightsEndpoint(e)&&i.append(RequestHeaders[6],RequestHeaders[7]),arrForEach(objKeys(m),function(e){i.append(e,m[e])}),(r={method:"POST",headers:i,body:r})[DisabledPropertyName]=!0,_||(t=r.keepalive=!0,G+=a),new Request(e,r));try{e[DisabledPropertyName]=!0}catch(s){}N._buffer[_DYN_MARK_AS_SENT](n);try{fetch(e).then(function(t){_||(G-=a,a=0),o||(o=!0,t.ok?t.text().then(function(e){E(t.status,n,t.url,n[_DYN_LENGTH$1],t.statusText,e)}):N[_DYN__ON_ERROR](n,t.statusText))})["catch"](function(e){_||(G-=a,a=0),o||(o=!0,N[_DYN__ON_ERROR](n,e.message))})}catch(s){o||N[_DYN__ON_ERROR](n,dumpObj(s))}t&&!o&&(o=!0,N._onSuccess(n,n[_DYN_LENGTH$1]))}function T(e){try{if(e&&""!==e){var t=getJSON().parse(e);if(t&&t.itemsReceived&&t.itemsReceived>=t[_DYN_ITEMS_ACCEPTED]&&t.itemsReceived-t.itemsAccepted===t.errors[_DYN_LENGTH$1])return t}}catch(n){_throwInternal(N[_DYN_DIAG_LOG](),1,43,"Cannot parse the response. "+getExceptionName(n),{response:e})}return null}function l(e,t){if(void 0===t&&(t=1),e&&0!==e[_DYN_LENGTH$1]){var n=N[_DYN__BUFFER];n[_DYN_CLEAR_SENT](e),g++;for(var _=0,r=e;_<r.length;_++){var i=r[_];n[_DYN_ENQUEUE](i)}t=g<=1?10:(e=1+Math.floor((Math.pow(2,g)-1)/2*Math.random()*10),Math.max(Math.min(e*=t,3600),10)),e=dateNow()+1e3*t;O=e,S()}}function S(){var e;_||p||(e=O?Math.max(0,O-dateNow()):0,e=Math.max(N[_DYN__SENDER_CONFIG][_DYN_MAX_BATCH_INTERVAL](),e),_=setTimeout(function(){_=null,N[_DYN_TRIGGER_SEND](!0,null,1)},e))}function d(){clearTimeout(_),O=_=null}function I(e){return isNullOrUndefined(U)?401===e||408===e||429===e||500===e||502===e||503===e||504===e:U[_DYN_LENGTH$1]&&-1<arrIndexOf(U,e)}function f(e,t){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+_getResponseText(e)||e.response||"":t}function Y(t,e){var n=N[_DYN__BUFFER],_=getWindow(),r=new XDomainRequest,_=(r.onload=function(){return N._xdrOnLoad(r,t)},r.onerror=function(e){return N[_DYN__ON_ERROR](t,A(r),e)},_&&_.location&&_.location.protocol||"");if(N[_DYN__SENDER_CONFIG][_DYN_ENDPOINT_URL]().lastIndexOf(_,0))return _throwInternal(N[_DYN_DIAG_LOG](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void n[_DYN_CLEAR]();_=N[_DYN__SENDER_CONFIG][_DYN_ENDPOINT_URL]().replace(/^(https?:)/,""),r.open("POST",_),_=n[_DYN_BATCH_PAYLOADS](t);r.send(_),n[_DYN_MARK_AS_SENT](t)}function A(e,t){return e?"XDomainRequest,Response:"+_getResponseText(e)||"":t}function R(e,t){var n="getNotifyMgr",n=N.core[n]?N.core[n]():N.core._notificationManager;if(n&&n[_DYN_EVENTS_SEND_REQUEST])try{n[_DYN_EVENTS_SEND_REQUEST](e,t)}catch(_){_throwInternal(N[_DYN_DIAG_LOG](),1,74,"send request notification failed: "+getExceptionName(_),{exception:dumpObj(_)})}}function n(){N[_DYN__SENDER]=null,N[_DYN__BUFFER]=null,N._appId=null,N._sample=null,p=!(m={}),G=P=g=0,h=v=L=C=_=O=y=null}n(),N.pause=function(){d(),p=!0},N.resume=function(){p&&(p=!1,O=null,N._buffer.size()>N._senderConfig[_DYN_MAX_BATCH_SIZE_IN_BY1]()&&N[_DYN_TRIGGER_SEND](!0,null,10),S())},N.flush=function(e,t,n){if(void 0===e&&(e=!0),!p){d();try{N[_DYN_TRIGGER_SEND](e,null,n||1)}catch(_){_throwInternal(N[_DYN_DIAG_LOG](),1,22,"flush failed, telemetry will not be collected: "+getExceptionName(_),{exception:dumpObj(_)})}}},N.onunloadFlush=function(){if(!p)if(!1!==N._senderConfig[_DYN_ONUNLOAD_DISABLE_BEA2]()&&!1!==N[_DYN__SENDER_CONFIG][_DYN_IS_BEACON_API_DISABL3]()||!isBeaconsSupported())N.flush();else try{N[_DYN_TRIGGER_SEND](!0,t,2)}catch(e){_throwInternal(N[_DYN_DIAG_LOG](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+getExceptionName(e),{exception:dumpObj(e)})}},N.addHeader=function(e,t){m[e]=t},N.initialize=function(e,t,n,_){N.isInitialized()&&_throwInternal(N[_DYN_DIAG_LOG](),1,28,"Sender is already initialized"),a.initialize(e,t,n,_);var r=N._getTelCtx(),i=N.identifier,n=(C=new Serializer(t.logger),g=0,O=null,N[_DYN__SENDER]=null,P=0,N[_DYN_DIAG_LOG]()),_=(h=mergeEvtNamespace(createUniqueNamespace("Sender"),t.evtNamespace&&t.evtNamespace()),y=createOfflineListener(h),objForEachKey(_getDefaultAppInsightsChannelConfig(),function(t,n){N[_DYN__SENDER_CONFIG][t]=function(){var e=r.getConfig(i,t,n());return e||"endpointUrl"!==t?e:n()}}),U=N[_DYN__SENDER_CONFIG].retryCodes(),e.storagePrefix&&utlSetStoragePrefix(e.storagePrefix),N[_DYN__SENDER_CONFIG][_DYN_ENABLE_SESSION_STORA4]()&&!(!N._senderConfig[_DYN_BUFFER_OVERRIDE]()&&!utlCanUseSessionStorage())),_=(N[_DYN__BUFFER]=new(_?SessionStorageSendBuffer:ArraySendBuffer)(n,N[_DYN__SENDER_CONFIG]),N._sample=new Sample(N[_DYN__SENDER_CONFIG][_DYN_SAMPLING_PERCENTAGE](),n),!isNullOrUndefined((t=e)[_DYN_DISABLE_INSTRUMENTAT7])&&t[_DYN_DISABLE_INSTRUMENTAT7]||/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/.test(t[_DYN_INSTRUMENTATION_KEY])||_throwInternal(n,1,100,"Invalid Instrumentation key "+e[_DYN_INSTRUMENTATION_KEY]),!isInternalApplicationInsightsEndpoint(N._senderConfig.endpointUrl())&&N._senderConfig.customHeaders()&&0<N._senderConfig.customHeaders()[_DYN_LENGTH$1]&&arrForEach(N[_DYN__SENDER_CONFIG][_DYN_CUSTOM_HEADERS](),function(e){M.addHeader(e.header,e.value)}),N[_DYN__SENDER_CONFIG]),t=null;!_[_DYN_DISABLE_XHR]()&&useXDomainRequest()?t=Y:!_[_DYN_DISABLE_XHR]()&&isXhrSupported()&&(t=u),!t&&isFetchSupported()&&(t=D),L=t||u,!_[_DYN_IS_BEACON_API_DISABL3]()&&isBeaconsSupported()&&(t=s),N[_DYN__SENDER]=t||u,v=!_[_DYN_ONUNLOAD_DISABLE_FET5]()&&isFetchSupported(!0)?c:isBeaconsSupported()?s:!_[_DYN_DISABLE_XHR]()&&useXDomainRequest()?Y:!_[_DYN_DISABLE_XHR]()&&isXhrSupported()?u:L},N.processTelemetry=function(e,t){var n=(t=N._getTelCtx(t))[_DYN_DIAG_LOG]();try{if(N[_DYN__SENDER_CONFIG][_DYN_DISABLE_TELEMETRY]())return;if(!e)return void _throwInternal(n,1,7,"Cannot send empty telemetry");if(e.baseData&&!e[_DYN_BASE_TYPE])return void _throwInternal(n,1,70,"Cannot send telemetry without baseData and baseType");if(e[_DYN_BASE_TYPE]||(e[_DYN_BASE_TYPE]="EventData"),!N[_DYN__SENDER])return void _throwInternal(n,1,28,"Sender was not initialized");if(!N._sample.isSampledIn(e))return void _throwInternal(n,2,33,"Telemetry item was sampled out and not sent",{SampleRate:N._sample[_DYN_SAMPLE_RATE]});e[SampleRate]=N._sample[_DYN_SAMPLE_RATE];var _=N[_DYN__SENDER_CONFIG][_DYN_CONVERT_UNDEFINED]()||undefined,r=e.iKey||N[_DYN__SENDER_CONFIG][_DYN_INSTRUMENTATION_KEY](),i=F.constructEnvelope(e,r,n,_);if(!i)return void _throwInternal(n,1,47,"Unable to create an AppInsights envelope");var a=!1;if(e[_DYN_TAGS]&&e[_DYN_TAGS][ProcessLegacy]&&(arrForEach(e[_DYN_TAGS][ProcessLegacy],function(e){try{e&&!1===e(i)&&(a=!0,_warnToConsole(n,"Telemetry processor check returns false"))}catch(t){_throwInternal(n,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+getExceptionName(t),{exception:dumpObj(t)},!0)}}),delete e[_DYN_TAGS][ProcessLegacy]),a)return;var o=C.serialize(i),s=N[_DYN__BUFFER];s.size()+o[_DYN_LENGTH$1]>N[_DYN__SENDER_CONFIG][_DYN_MAX_BATCH_SIZE_IN_BY1]()&&(y&&!y[_DYN_IS_ONLINE]()||N[_DYN_TRIGGER_SEND](!0,null,10)),s[_DYN_ENQUEUE](o),S()}catch(E){_throwInternal(n,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+getExceptionName(E),{exception:dumpObj(E)})}N.processNext(e,t)},N[_DYN__XHR_READY_STATE_CHA6]=function(e,t,n){4===e.readyState&&E(e.status,t,e.responseURL,n,f(e),_getResponseText(e)||e.response)},N[_DYN_TRIGGER_SEND]=function(e,t,n){if(void 0===e&&(e=!0),!p)try{var _,r=N[_DYN__BUFFER];N[_DYN__SENDER_CONFIG][_DYN_DISABLE_TELEMETRY]()?r[_DYN_CLEAR]():0<r[_DYN_COUNT]()&&(_=r.getItems(),R(n||0,e),t?t.call(N,_,e):N[_DYN__SENDER](_,e)),d()}catch(i){r=getIEVersion();(!r||9<r)&&_throwInternal(N[_DYN_DIAG_LOG](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+getExceptionName(i),{exception:dumpObj(i)})}},N._doTeardown=function(e,t){N.onunloadFlush(),y.unload(),n()},N[_DYN__ON_ERROR]=function(e,t,n){_throwInternal(N[_DYN_DIAG_LOG](),2,26,"Failed to send telemetry.",{message:t}),N._buffer&&N._buffer[_DYN_CLEAR_SENT](e)},N[_DYN__ON_PARTIAL_SUCCESS]=function(e,t){for(var n=[],_=[],r=0,i=t.errors.reverse();r<i.length;r++){var a=i[r],o=e.splice(a.index,1)[0];(I(a.statusCode)?_:n)[_DYN_PUSH](o)}0<e[_DYN_LENGTH$1]&&N[_DYN__ON_SUCCESS](e,t[_DYN_ITEMS_ACCEPTED]),0<n[_DYN_LENGTH$1]&&N[_DYN__ON_ERROR](n,f(null,["partial success",t[_DYN_ITEMS_ACCEPTED],"of",t.itemsReceived].join(" "))),0<_[_DYN_LENGTH$1]&&(l(_),_throwInternal(N[_DYN_DIAG_LOG](),2,40,"Partial success. Delivered: "+e[_DYN_LENGTH$1]+", Failed: "+n[_DYN_LENGTH$1]+". Will retry to send "+_[_DYN_LENGTH$1]+" our of "+t[_DYN_ITEMS_RECEIVED]+" items"))},N[_DYN__ON_SUCCESS]=function(e,t){N._buffer&&N._buffer[_DYN_CLEAR_SENT](e)},N._xdrOnLoad=function(e,t){var n=_getResponseText(e);!e||n+""!="200"&&""!==n?(n=T(n))&&n.itemsReceived&&n.itemsReceived>n[_DYN_ITEMS_ACCEPTED]&&!N[_DYN__SENDER_CONFIG][_DYN_IS_RETRY_DISABLED]()?N[_DYN__ON_PARTIAL_SUCCESS](t,n):N[_DYN__ON_ERROR](t,A(e)):(g=0,N[_DYN__ON_SUCCESS](t,0))}}),M}return __extendsFn(F,e),F.constructEnvelope=function(e,t,n,_){e=t===e.iKey||isNullOrUndefined(t)?e:__assignFn(__assignFn({},e),{iKey:t});return(EnvelopeTypeCreator[e.baseType]||EventEnvelopeCreator)(n,e,_)},F}(BaseTelemetryPlugin),Application=function(){},Device=function(){this.id="browser",this.deviceClass="Browser"},_DYN_SESSION_MANAGER="sessionManager",_DYN_UPDATE="update",_DYN_IS_USER_COOKIE_SET="isUserCookieSet",_DYN_IS_NEW_USER="isNewUser",_DYN_GET_TRACE_CTX="getTraceCtx",_DYN_TELEMETRY_TRACE="telemetryTrace",_DYN_APPLY_SESSION_CONTEX0="applySessionContext",_DYN_APPLY_APPLICATION_CO1="applyApplicationContext",_DYN_APPLY_DEVICE_CONTEXT="applyDeviceContext",_DYN_APPLY_OPERATION_CONT2="applyOperationContext",_DYN_APPLY_USER_CONTEXT="applyUserContext",_DYN_APPLY_OPERATING_SYST3="applyOperatingSystemContxt",_DYN_APPLY_LOCATION_CONTE4="applyLocationContext",_DYN_APPLY_INTERNAL_CONTE5="applyInternalContext",_DYN_ACCOUNT_ID="accountId",_DYN_SDK_EXTENSION="sdkExtension",_DYN_GET_SESSION_ID="getSessionId",_DYN_NAME_PREFIX="namePrefix",_DYN_SESSION_COOKIE_POSTF6="sessionCookiePostfix",_DYN_USER_COOKIE_POSTFIX="userCookiePostfix",_DYN_ID_LENGTH="idLength",_DYN_GET_NEW_ID="getNewId",_DYN_LENGTH="length",_DYN_AUTOMATIC_SESSION="automaticSession",_DYN_AUTHENTICATED_ID="authenticatedId",_DYN_SESSION_EXPIRATION_M7="sessionExpirationMs",_DYN_SESSION_RENEWAL_MS="sessionRenewalMs",_DYN_CONFIG="config",_DYN_ACQUISITION_DATE="acquisitionDate",_DYN_RENEWAL_DATE="renewalDate",_DYN_COOKIE_DOMAIN="cookieDomain",_DYN_JOIN="join",_DYN_COOKIE_SEPARATOR="cookieSeparator",_DYN_AUTH_USER_COOKIE_NAM8="authUserCookieName",Version="2.8.18",Internal=function(e){this.sdkVersion=(e[_DYN_SDK_EXTENSION]&&e[_DYN_SDK_EXTENSION]()?e[_DYN_SDK_EXTENSION]()+"_":"")+"javascript:"+Version},Location=function(){},cookieNameConst="ai_session",Session=function(){},_SessionManager=function(){function T(t,e){var N,u,c=safeGetLogger(e),D=safeGetCookieMgr(e);dynamicProto(T,this,function(o){isFunction((t=t||{})[_DYN_SESSION_EXPIRATION_M7])||(t[_DYN_SESSION_EXPIRATION_M7]=function(){return T.acquisitionSpan}),isFunction(t[_DYN_SESSION_RENEWAL_MS])||(t[_DYN_SESSION_RENEWAL_MS]=function(){return T.renewalSpan}),o[_DYN_CONFIG]=t;var e=o.config[_DYN_SESSION_COOKIE_POSTF6]&&o[_DYN_CONFIG][_DYN_SESSION_COOKIE_POSTF6]()?o.config[_DYN_SESSION_COOKIE_POSTF6]():o.config[_DYN_NAME_PREFIX]&&o[_DYN_CONFIG][_DYN_NAME_PREFIX]()?o[_DYN_CONFIG][_DYN_NAME_PREFIX]():"";function s(e,t){var n=!1,_=", session will be reset",r=t.split("|");if(2<=r[_DYN_LENGTH])try{var i=+r[1]||0,a=+r[2]||0;isNaN(i)||i<=0?_throwInternal(c,2,27,"AI session acquisition date is 0"+_):isNaN(a)||a<=0?_throwInternal(c,2,27,"AI session renewal date is 0"+_):r[0]&&(e.id=r[0],e[_DYN_ACQUISITION_DATE]=i,e[_DYN_RENEWAL_DATE]=a,n=!0)}catch(o){_throwInternal(c,1,9,"Error parsing ai_session value ["+(t||"")+"]"+_+" - "+getExceptionName(o),{exception:dumpObj(o)})}return n}function E(e,t){var n=e[_DYN_ACQUISITION_DATE],_=(e[_DYN_RENEWAL_DATE]=t,o[_DYN_CONFIG]),r=_[_DYN_SESSION_RENEWAL_MS](),i=n+_[_DYN_SESSION_EXPIRATION_M7]()-t,e=[e.id,n,t],n=i<r?i/1e3:r/1e3,i=_[_DYN_COOKIE_DOMAIN]?_[_DYN_COOKIE_DOMAIN]():null;D.set(N(),e.join("|"),0<_[_DYN_SESSION_EXPIRATION_M7]()?n:null,i),u=t}N=function(){return cookieNameConst+e},o[_DYN_AUTOMATIC_SESSION]=new Session,o[_DYN_UPDATE]=function(){var e,t,n,_=dateNow(),r=!1,i=o[_DYN_AUTOMATIC_SESSION],a=(i.id||(t=i,n=!1,(a=D.get(N()))&&isFunction(a.split)?n=s(t,a):(a=utlGetLocalStorage(c,N()))&&(n=s(t,a)),r=!(n||t.id)),o.config[_DYN_SESSION_EXPIRATION_M7]());!r&&0<a&&(n=o.config[_DYN_SESSION_RENEWAL_MS](),t=_-i[_DYN_ACQUISITION_DATE],e=_-i[_DYN_RENEWAL_DATE],r=(r=(r=t<0||e<0)||a<t)||n<e),r?(a=_,n=((t=o[_DYN_CONFIG]||{})[_DYN_GET_NEW_ID]?t[_DYN_GET_NEW_ID]():null)||newId,o.automaticSession.id=n(t[_DYN_ID_LENGTH]?t[_DYN_ID_LENGTH]():22),o[_DYN_AUTOMATIC_SESSION][_DYN_ACQUISITION_DATE]=a,E(o[_DYN_AUTOMATIC_SESSION],a),utlCanUseLocalStorage()||_throwInternal(c,2,0,"Browser does not support local storage. Session durations will be inaccurate.")):(!u||T.cookieUpdateInterval<_-u)&&E(i,_)},o.backup=function(){var e=o[_DYN_AUTOMATIC_SESSION],t=e.id,n=e[_DYN_ACQUISITION_DATE],e=e[_DYN_RENEWAL_DATE];utlSetLocalStorage(c,N(),[t,n,e][_DYN_JOIN]("|"))}})}return T.acquisitionSpan=864e5,T.renewalSpan=18e5,T.cookieUpdateInterval=6e4,T}(),TelemetryTrace=function(e,t,n,_){this.traceID=e||generateW3CId(),this.parentID=t;e=getLocation();!n&&e&&e.pathname&&(n=e.pathname),this.name=dataSanitizeString(_,n)};function _validateUserInput(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))}var User=function(){function N(a,e){this.isNewUser=!1,this.isUserCookieSet=!1;var o,s=safeGetLogger(e),E=safeGetCookieMgr(e);dynamicProto(N,this,function(_){_[_DYN_CONFIG]=a;var e=_.config[_DYN_USER_COOKIE_POSTFIX]&&_[_DYN_CONFIG][_DYN_USER_COOKIE_POSTFIX]()?_[_DYN_CONFIG][_DYN_USER_COOKIE_POSTFIX]():"",t=(o=function(){return N.userCookieName+e},E.get(o()));function n(){var e=a||{};return((e[_DYN_GET_NEW_ID]?e[_DYN_GET_NEW_ID]():null)||newId)(e[_DYN_ID_LENGTH]?a[_DYN_ID_LENGTH]():22)}function r(e){var t=toISOString(new Date);return _.accountAcquisitionDate=t,_[_DYN_IS_NEW_USER]=!0,[e,t]}function i(e){_[_DYN_IS_USER_COOKIE_SET]=E.set(o(),e,31536e3)}t&&(_[_DYN_IS_NEW_USER]=!1,0<(t=t.split(N[_DYN_COOKIE_SEPARATOR]))[_DYN_LENGTH]&&(_.id=t[0],_[_DYN_IS_USER_COOKIE_SET]=!!_.id)),_.id||(_.id=n(),i(r(_.id)[_DYN_JOIN](N[_DYN_COOKIE_SEPARATOR])),t=a[_DYN_NAME_PREFIX]&&a[_DYN_NAME_PREFIX]()?a[_DYN_NAME_PREFIX]()+"ai_session":"ai_session",utlRemoveStorage(s,t)),_[_DYN_ACCOUNT_ID]=a[_DYN_ACCOUNT_ID]?a[_DYN_ACCOUNT_ID]():undefined;var t=E.get(N[_DYN_AUTH_USER_COOKIE_NAM8]);t&&((t=(t=decodeURI(t)).split(N[_DYN_COOKIE_SEPARATOR]))[0]&&(_[_DYN_AUTHENTICATED_ID]=t[0]),1<t[_DYN_LENGTH]&&t[1]&&(_[_DYN_ACCOUNT_ID]=t[1])),_.setAuthenticatedUserContext=function(e,t,n){void 0===n&&(n=!1),!_validateUserInput(e)||t&&!_validateUserInput(t)?_throwInternal(s,2,60,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0):(_[_DYN_AUTHENTICATED_ID]=e,e=_[_DYN_AUTHENTICATED_ID],t&&(_[_DYN_ACCOUNT_ID]=t,e=[_[_DYN_AUTHENTICATED_ID],_.accountId][_DYN_JOIN](N[_DYN_COOKIE_SEPARATOR])),n&&E.set(N[_DYN_AUTH_USER_COOKIE_NAM8],encodeURI(e)))},_.clearAuthenticatedUserContext=function(){_[_DYN_AUTHENTICATED_ID]=null,_[_DYN_ACCOUNT_ID]=null,E.del(N[_DYN_AUTH_USER_COOKIE_NAM8])},_[_DYN_UPDATE]=function(e){_.id===e&&_[_DYN_IS_USER_COOKIE_SET]||i(r(e||n())[_DYN_JOIN](N[_DYN_COOKIE_SEPARATOR]))}})}return N.cookieSeparator="|",N.userCookieName="ai_user",N.authUserCookieName="ai_authUser",N}(),strExt="ext",strTags="tags";function _removeEmpty(e,t){e&&e[t]&&0===objKeys(e[t])[_DYN_LENGTH]&&delete e[t]}var _internalSdkSrc,_window,snippet,aiName,TelemetryContext=function(){function e(_,i,a){var o=this,s=_.logger;this.appId=function(){return null},this[_DYN_GET_SESSION_ID]=function(){return null},dynamicProto(e,this,function(r){var e,t,n;r.application=new Application,r.internal=new Internal(i),hasWindow()&&(r[_DYN_SESSION_MANAGER]=new _SessionManager(i,_),r.device=new Device,r.location=new Location,r.user=new User(i,_),t=e=void 0,a&&(e=a.getTraceId(),t=a.getSpanId(),n=a.getName()),r[_DYN_TELEMETRY_TRACE]=new TelemetryTrace(e,t,n,s),r.session=new Session),r[_DYN_GET_SESSION_ID]=function(){var e=r.session;return e&&isString(e.id)?e.id:(e=(r[_DYN_SESSION_MANAGER]||{})[_DYN_AUTOMATIC_SESSION])&&isString(e.id)?e.id:null},r[_DYN_APPLY_SESSION_CONTEX0]=function(e,t){setValue(getSetValue(e.ext,Extensions.AppExt),"sesId",r[_DYN_GET_SESSION_ID](),isString)},r[_DYN_APPLY_OPERATING_SYST3]=function(e,t){setValue(e.ext,Extensions.OSExt,r.os)},r[_DYN_APPLY_APPLICATION_CO1]=function(e,t){var n=r.application;n&&(setValue(e=getSetValue(e,strTags),CtxTagKeys.applicationVersion,n.ver,isString),setValue(e,CtxTagKeys.applicationBuild,n.build,isString))},r[_DYN_APPLY_DEVICE_CONTEXT]=function(e,t){var n=r.device;n&&(setValue(e=getSetValue(getSetValue(e,strExt),Extensions.DeviceExt),"localId",n.id,isString),setValue(e,"ip",n.ip,isString),setValue(e,"model",n.model,isString),setValue(e,"deviceClass",n.deviceClass,isString))},r[_DYN_APPLY_INTERNAL_CONTE5]=function(e,t){var n,_=r.internal;_&&(setValue(n=getSetValue(e,strTags),CtxTagKeys.internalAgentVersion,_.agentVersion,isString),setValue(n,CtxTagKeys.internalSdkVersion,dataSanitizeString(s,_.sdkVersion,64),isString),e.baseType!==_InternalLogMessage.dataType&&e.baseType!==PageView.dataType||(setValue(n,CtxTagKeys.internalSnippet,_.snippetVer,isString),setValue(n,CtxTagKeys.internalSdkSrc,_.sdkSrc,isString)))},r[_DYN_APPLY_LOCATION_CONTE4]=function(e,t){var n=o.location;n&&setValue(getSetValue(e,strTags,[]),CtxTagKeys.locationIp,n.ip,isString)},r[_DYN_APPLY_OPERATION_CONT2]=function(e,t){var n=r[_DYN_TELEMETRY_TRACE];n&&(setValue(e=getSetValue(getSetValue(e,strExt),Extensions.TraceExt,{traceID:undefined,parentID:undefined}),"traceID",n.traceID,isString,isNullOrUndefined),setValue(e,"name",n.name,isString,isNullOrUndefined),setValue(e,"parentID",n.parentID,isString,isNullOrUndefined))},r.applyWebContext=function(e,t){var n=o.web;n&&setValue(getSetValue(e,strExt),Extensions.WebExt,n)},r[_DYN_APPLY_USER_CONTEXT]=function(e,t){var n=r.user;n&&(setValue(getSetValue(e,strTags,[]),CtxTagKeys.userAccountId,n[_DYN_ACCOUNT_ID],isString),setValue(e=getSetValue(getSetValue(e,strExt),Extensions.UserExt),"id",n.id,isString),setValue(e,"authId",n[_DYN_AUTHENTICATED_ID],isString))},r.cleanUp=function(e,t){e=e.ext;e&&(_removeEmpty(e,Extensions.DeviceExt),_removeEmpty(e,Extensions.UserExt),_removeEmpty(e,Extensions.WebExt),_removeEmpty(e,Extensions.OSExt),_removeEmpty(e,Extensions.AppExt),_removeEmpty(e,Extensions.TraceExt))}})}return e.__ieDyn=1,e}(),PropertiesPlugin=function(t){function c(){var E,N,u,e=t.call(this)||this;return e.priority=110,e.identifier=PropertiesPluginIdentifier,dynamicProto(c,e,function(o,s){function n(){u=N=E=null}n(),o.initialize=function(e,t,n,_){s.initialize(e,t,n,_);var t=e,r=o.identifier,i=o.core,a=createProcessTelemetryContext(null,t,i),n=c.getDefaultConfig();E=E||{},objForEachKey(n,function(e,t){E[e]=function(){return a.getConfig(r,e,t())}}),t.storagePrefix&&utlSetStoragePrefix(t.storagePrefix),u=i[_DYN_GET_TRACE_CTX](!1),o.context=new TelemetryContext(i,E,u),N=createDistributedTraceContextFromTrace(o.context[_DYN_TELEMETRY_TRACE],u),i.setTraceCtx(N),o.context.appId=function(){var e=i.getPlugin(BreezeChannelIdentifier);return e?e.plugin._appId:null},o._extConfig=E},o.processTelemetry=function(e,t){var n,_,r,i;isNullOrUndefined(e)||(t=o._getTelCtx(t),e.name===PageView.envelopeType&&t.diagLog().resetInternalMessageCount(),(r=o.context||{}).session&&"string"!=typeof o.context.session.id&&r[_DYN_SESSION_MANAGER]&&r[_DYN_SESSION_MANAGER][_DYN_UPDATE](),(n=r.user)&&!n[_DYN_IS_USER_COOKIE_SET]&&n[_DYN_UPDATE](r.user.id),r=t,getSetValue(_=e,"tags",[]),getSetValue(_,"ext",{}),(i=o.context)[_DYN_APPLY_SESSION_CONTEX0](_,r),i[_DYN_APPLY_APPLICATION_CO1](_,r),i[_DYN_APPLY_DEVICE_CONTEXT](_,r),i[_DYN_APPLY_OPERATION_CONT2](_,r),i[_DYN_APPLY_USER_CONTEXT](_,r),i[_DYN_APPLY_OPERATING_SYST3](_,r),i.applyWebContext(_,r),i[_DYN_APPLY_LOCATION_CONTE4](_,r),i[_DYN_APPLY_INTERNAL_CONTE5](_,r),i.cleanUp(_,r),n&&n[_DYN_IS_NEW_USER]&&(n[_DYN_IS_NEW_USER]=!1,_=new _InternalLogMessage(72,(getNavigator()||{}).userAgent||""),_logInternalMessage(t.diagLog(),1,_)),o.processNext(e,t))},o._doTeardown=function(e,t){e=(e||{}).core();e&&e[_DYN_GET_TRACE_CTX]&&e[_DYN_GET_TRACE_CTX](!1)===N&&e.setTraceCtx(u),n()}}),e}return __extendsFn(c,t),c.getDefaultConfig=function(){var e,t,n=null;return(e={instrumentationKey:function(){return t}})[_DYN_ACCOUNT_ID]=function(){return n},e.sessionRenewalMs=function(){return 18e5},e.samplingPercentage=function(){return 100},e.sessionExpirationMs=function(){return 864e5},e[_DYN_COOKIE_DOMAIN]=function(){return n},e[_DYN_SDK_EXTENSION]=function(){return n},e.isBrowserLinkTrackingEnabled=function(){return!1},e.appId=function(){return n},e[_DYN_GET_SESSION_ID]=function(){return n},e[_DYN_NAME_PREFIX]=function(){return t},e[_DYN_SESSION_COOKIE_POSTF6]=function(){return t},e[_DYN_USER_COOKIE_POSTFIX]=function(){return t},e[_DYN_ID_LENGTH]=function(){return 22},e[_DYN_GET_NEW_ID]=function(){return n},e},c}(BaseTelemetryPlugin),PropertiesPlugin$1=PropertiesPlugin,_ignoreUpdateSnippetProperties=[STR_SNIPPET,"dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],fieldType={Default:0,Required:1,Array:2,Hidden:4},Telemetry={__proto__:null,PropertiesPluginIdentifier:PropertiesPluginIdentifier,BreezeChannelIdentifier:BreezeChannelIdentifier,AnalyticsPluginIdentifier:AnalyticsPluginIdentifier,Util:Util,CorrelationIdHelper:CorrelationIdHelper,UrlHelper:UrlHelper,DateTimeUtils:DateTimeUtils,ConnectionStringParser:ConnectionStringParser,FieldType:fieldType,RequestHeaders:RequestHeaders,DisabledPropertyName:DisabledPropertyName,ProcessLegacy:ProcessLegacy,SampleRate:SampleRate,HttpMethod:HttpMethod,DEFAULT_BREEZE_ENDPOINT:DEFAULT_BREEZE_ENDPOINT,Envelope:Envelope,Event:Event$1,Exception:Exception,Metric:Metric,PageView:PageView,RemoteDependencyData:RemoteDependencyData,Trace:Trace,PageViewPerformance:PageViewPerformance,Data:Data,SeverityLevel:SeverityLevel,ConfigurationManager:ConfigurationManager,ContextTagKeys:ContextTagKeys,DataSanitizer:DataSanitizer,TelemetryItemCreator:TelemetryItemCreator,CtxTagKeys:CtxTagKeys,Extensions:Extensions,DistributedTracingModes:DistributedTracingModes},Initialization=function(){function e(_){var a,o,s,E,r,N,u,c=this;dynamicProto(e,this,function(i){r=createUniqueNamespace("AISKU"),N=null,E=""+(_.sv||_[_DYN_VERSION]||""),_[_DYN_QUEUE]=_[_DYN_QUEUE]||[],_[_DYN_VERSION]=_[_DYN_VERSION]||2;var e,t=_[_DYN_CONFIG$1]||{},n=(t[_DYN_CONNECTION_STRING]&&(n=(e=parseConnectionString(t[_DYN_CONNECTION_STRING])).ingestionendpoint,t[_DYN_ENDPOINT_URL$1]=n?n+DEFAULT_BREEZE_PATH:t[_DYN_ENDPOINT_URL$1],t[_DYN_INSTRUMENTATION_KEY$1]=e.instrumentationkey||t[_DYN_INSTRUMENTATION_KEY$1]),i[_DYN_APP_INSIGHTS]=new AnalyticsPlugin,o=new PropertiesPlugin$1,a=new AjaxMonitor,s=new Sender,u=new AppInsightsCore,i.core=u,!!isNullOrUndefined(t[_DYN_DISABLE_IKEY_DEPRECA18])||t[_DYN_DISABLE_IKEY_DEPRECA18]);t[_DYN_CONNECTION_STRING]||n||_throwInternal(u.logger,1,106,"Instrumentation key support will end soon, see aka.ms/IkeyMigrate"),i[STR_SNIPPET]=_,i[_DYN_CONFIG$1]=t,i.config[_DYN_DIAGNOSTIC_LOG_INTER4]=i.config[_DYN_DIAGNOSTIC_LOG_INTER4]&&0<i[_DYN_CONFIG$1][_DYN_DIAGNOSTIC_LOG_INTER4]?i[_DYN_CONFIG$1][_DYN_DIAGNOSTIC_LOG_INTER4]:1e4,i[STR_FLUSH]=function(t){doPerf(u,function(){return"AISKU.flush"},function(){arrForEach(u[_DYN_GET_TRANSMISSION_CON19](),function(e){arrForEach(e,function(e){e[STR_FLUSH](t)})})},null,t=void 0===t||t)},i[_DYN_ONUNLOAD_FLUSH]=function(t){void 0===t&&(t=!0),arrForEach(u[_DYN_GET_TRANSMISSION_CON19](),function(e){arrForEach(e,function(e){e[_DYN_ONUNLOAD_FLUSH]?e[_DYN_ONUNLOAD_FLUSH]():e[STR_FLUSH](t)})})},i[_DYN_LOAD_APP_INSIGHTS]=function(t,_,r){return(t=void 0!==t&&t)&&i[_DYN_CONFIG$1].extensions&&0<i[_DYN_CONFIG$1].extensions.length&&throwError("Extensions not allowed in legacy mode"),doPerf(i.core,function(){return"AISKU.loadAppInsights"},function(){var n,e=[];e[_DYN_PUSH$1](s),e[_DYN_PUSH$1](o),e[_DYN_PUSH$1](a),e[_DYN_PUSH$1](i[_DYN_APP_INSIGHTS]),u.initialize(i[_DYN_CONFIG$1],e,_,r),i[_DYN_CONTEXT]=o[_DYN_CONTEXT],_internalSdkSrc&&i[_DYN_CONTEXT]&&(i[_DYN_CONTEXT].internal.sdkSrc=_internalSdkSrc),(n=i[STR_SNIPPET])&&(e="",isNullOrUndefined(E)||(e+=E),t&&(e+=".lg"),i[_DYN_CONTEXT]&&i[_DYN_CONTEXT].internal&&(i[_DYN_CONTEXT].internal.snippetVer=e||"-"),objForEachKey(i,function(e,t){isString(e)&&!isFunction(t)&&e&&"_"!==e[0]&&-1===arrIndexOf(_ignoreUpdateSnippetProperties,e)&&(n[e]=t)})),i.emptyQueue(),i[STR_POLL_INTERNAL_LOGS](),i[_DYN_ADD_HOUSEKEEPING_BEF20](i)}),i},i[_DYN_UPDATE_SNIPPET_DEFIN0]=function(e){proxyAssign(e,i,function(e){return e&&-1===arrIndexOf(_ignoreUpdateSnippetProperties,e)})},i.emptyQueue=function(){try{if(isArray(i.snippet[_DYN_QUEUE])){for(var e=i.snippet[_DYN_QUEUE].length,t=0;t<e;t++)(0,i.snippet[_DYN_QUEUE][t])();i.snippet[_DYN_QUEUE]=undefined,delete i.snippet[_DYN_QUEUE]}}catch(n){n&&isFunction(n.toString)&&n.toString()}},i[_DYN_ADD_HOUSEKEEPING_BEF20]=function(t){var e,n,_;(hasWindow()||hasDocument())&&(n=!(e=function(){var e;t[_DYN_ONUNLOAD_FLUSH](!1),isFunction(c.core[STR_GET_PLUGIN])&&(e=c.core[STR_GET_PLUGIN](PropertiesPluginIdentifier))&&(e=e.plugin)&&e[_DYN_CONTEXT]&&e[_DYN_CONTEXT]._sessionManager&&e[_DYN_CONTEXT]._sessionManager.backup()}),_=t.appInsights[_DYN_CONFIG$1].disablePageUnloadEvents,N=N||mergeEvtNamespace(r,u[STR_EVT_NAMESPACE]&&u[STR_EVT_NAMESPACE]()),t.appInsights.config[_DYN_DISABLE_FLUSH_ON_BEF11]||(addPageUnloadEventListener(e,_,N)&&(n=!0),(n=!!addPageHideEventListener(e,_,N)||n)||isReactNative()||_throwInternal(t[_DYN_APP_INSIGHTS].core.logger,1,19,"Could not add handler for beforeunload and pagehide")),n||t.appInsights.config[_DYN_DISABLE_FLUSH_ON_UNL12]||addPageHideEventListener(e,_,N))},i.getSender=function(){return s},i.unload=function(e,t,n){i[_DYN_ONUNLOAD_FLUSH](e),N&&(removePageUnloadEventListener(null,N),removePageHideEventListener(null,N)),u.unload&&u.unload(e,t,n)},proxyFunctions(i,i[_DYN_APP_INSIGHTS],[STR_GET_COOKIE_MGR,STR_TRACK_EVENT,STR_TRACK_PAGE_VIEW,"trackPageViewPerformance",STR_TRACK_EXCEPTION,"_onerror",STR_TRACK_TRACE,STR_TRACK_METRIC,STR_START_TRACK_PAGE,STR_STOP_TRACK_PAGE,STR_START_TRACK_EVENT,STR_STOP_TRACK_EVENT]),proxyFunctions(i,function(){return a},[STR_TRACK_DEPENDENCY_DATA,"addDependencyListener","addDependencyInitializer"]),proxyFunctions(i,u,[STR_ADD_TELEMETRY_INITIALIZER,STR_POLL_INTERNAL_LOGS,"stopPollingInternalLogs",STR_GET_PLUGIN,"addPlugin",STR_EVT_NAMESPACE,"addUnloadCb","getTraceCtx"]),proxyFunctions(i,function(){var e=o[_DYN_CONTEXT];return e?e.user:null},[STR_SET_AUTHENTICATED_USER_CONTEXT,STR_CLEAR_AUTHENTICATED_USER_CONTEXT])})}return e.prototype.addDependencyInitializer=function(e){return null},e}(),ApplicationInsightsContainer=(function(){var e=null,t=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var n=(document||{}).currentScript;n&&(e=n.src)}catch(a){}if(e)try{var _=e.toLowerCase();if(_)for(var r="",i=0;i<t.length;i++)if(-1!==_[_DYN_INDEX_OF](t[i])){r="cdn"+(i+1),-1===_[_DYN_INDEX_OF]("/scripts/")&&(-1!==_[_DYN_INDEX_OF]("/next/")?r+="-next":-1!==_[_DYN_INDEX_OF]("/beta/")&&(r+="-beta")),_internalSdkSrc=r+"";break}}catch(a){}}(),function(){function e(){}return e.getAppInsights=function(e,t){var n,_=new Initialization(e),t=!(2<=t);return _legacyCookieMgr(),t?((n=new AppInsightsDeprecated(e,_))[_DYN_UPDATE_SNIPPET_DEFIN0](e),_[_DYN_LOAD_APP_INSIGHTS](t),n):(_[_DYN_UPDATE_SNIPPET_DEFIN0](e),_[_DYN_LOAD_APP_INSIGHTS](t),_)},e}());function _logWarn(e,t){var n=typeof console!==strShimUndefined?console:null;n&&n.warn&&n.warn("Failed to initialize AppInsights JS SDK for instance "+(e||"<unknown>")+" - "+t)}try{typeof window!==strShimUndefined?(aiName=(_window=window).appInsightsSDK||"appInsights",typeof JSON!==strShimUndefined?_window[aiName]!==undefined&&(2<=(snippet=_window[aiName]||{version:2})[_DYN_VERSION]&&_window[aiName].initialize||snippet[_DYN_VERSION]===undefined)&&ApplicationInsightsContainer.getAppInsights(snippet,snippet[_DYN_VERSION]):_logWarn(aiName,"Missing JSON - you must supply a JSON polyfill!")):_logWarn(aiName,"Missing window")}catch(e){_logWarn(aiName,e.message)}exports.AnalyticsPluginIdentifier=AnalyticsPluginIdentifier,exports.ApplicationInsights=Initialization,exports.BreezeChannelIdentifier=BreezeChannelIdentifier,exports.CoreUtils=CoreUtils,exports.DEFAULT_BREEZE_ENDPOINT=DEFAULT_BREEZE_ENDPOINT,exports.DisabledPropertyName=DisabledPropertyName,exports.DistributedTracingModes=DistributedTracingModes,exports.LoggingSeverity=LoggingSeverity,exports.PerfEvent=PerfEvent,exports.PerfManager=PerfManager,exports.PropertiesPluginIdentifier=PropertiesPluginIdentifier,exports.RequestHeaders=RequestHeaders,exports.SeverityLevel=SeverityLevel,exports.Telemetry=Telemetry,exports.Util=Util,exports.addEventHandler=addEventHandler,exports.doPerf=doPerf,exports.eventOff=eventOff,exports.eventOn=eventOn,exports.findMetaTag=findMetaTag,exports.findW3cTraceParent=findW3cTraceParent,exports.generateW3CId=generateW3CId,exports.isBeaconsSupported=isBeaconsSupported,exports.mergeEvtNamespace=mergeEvtNamespace,exports.newGuid=newGuid,exports.newId=newId,exports.random32=random32,exports.randomValue=randomValue,exports.removeEventHandler=removeEventHandler;
//# sourceMappingURL=ai.2.8.18.cjs.min.js.map
